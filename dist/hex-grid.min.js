"use strict";!function(){function e(){var e,t,i,n,o,r,l,a,s;for(e=this,t=.5*e.parent.clientWidth,i=e.parent.clientHeight,e.isVertical?(e.rowDeltaY=1.5*hg.HexGrid.config.tileOuterRadius+hg.HexGrid.config.tileGap*hg.HexGrid.config.sqrtThreeOverTwo,e.tileDeltaX=hg.HexGrid.config.tileShortLengthWithGap,e.oddRowTileCount=2*Math.ceil((t-(hg.HexGrid.config.tileInnerRadius+hg.HexGrid.config.tileGap))/hg.HexGrid.config.tileShortLengthWithGap)+1,e.evenRowTileCount=2*Math.ceil((t-(hg.HexGrid.config.tileShortLengthWithGap+.5*hg.HexGrid.config.tileGap))/hg.HexGrid.config.tileShortLengthWithGap)+2,e.oddRowXOffset=t-hg.HexGrid.config.tileShortLengthWithGap*(e.oddRowTileCount-1)/2,e.rowCount=Math.ceil((i-(hg.HexGrid.config.firstRowYOffset+2*hg.HexGrid.config.tileOuterRadius+hg.HexGrid.config.tileGap*Math.sqrt(3)))/e.rowDeltaY)+2):(e.rowDeltaY=hg.HexGrid.config.tileInnerRadius+.5*hg.HexGrid.config.tileGap,e.tileDeltaX=3*hg.HexGrid.config.tileOuterRadius+hg.HexGrid.config.tileGap*Math.sqrt(3),e.oddRowTileCount=2*Math.ceil((t-(e.tileDeltaX-hg.HexGrid.config.tileOuterRadius))/e.tileDeltaX)+1,e.evenRowTileCount=2*Math.ceil((t-(e.tileDeltaX+hg.HexGrid.config.tileGap*hg.HexGrid.config.sqrtThreeOverTwo+.5*hg.HexGrid.config.tileOuterRadius))/e.tileDeltaX)+2,e.oddRowXOffset=t-e.tileDeltaX*(e.oddRowTileCount-1)/2,e.rowCount=Math.ceil((i-(hg.HexGrid.config.firstRowYOffset+3*hg.HexGrid.config.tileInnerRadius+2*hg.HexGrid.config.tileGap))/e.rowDeltaY)+4),e.evenRowXOffset=e.oddRowXOffset+(e.evenRowTileCount>e.oddRowTileCount?-1:1)*e.tileDeltaX*.5,e.contentAreaLeft=t-.5*e.actualContentAreaWidth,e.contentAreaRight=e.contentAreaLeft+e.actualContentAreaWidth,e.isVertical?(e.oddRowContentStartIndex=Math.ceil((e.contentAreaLeft-(e.oddRowXOffset-hg.HexGrid.config.tileInnerRadius))/e.tileDeltaX),e.evenRowContentStartIndex=Math.ceil((e.contentAreaLeft-(e.evenRowXOffset-hg.HexGrid.config.tileInnerRadius))/e.tileDeltaX)):(e.oddRowContentStartIndex=Math.ceil((e.contentAreaLeft-(e.oddRowXOffset-hg.HexGrid.config.tileOuterRadius))/e.tileDeltaX),e.evenRowContentStartIndex=Math.ceil((e.contentAreaLeft-(e.evenRowXOffset-hg.HexGrid.config.tileOuterRadius))/e.tileDeltaX)),e.oddRowContentTileCount=e.oddRowTileCount-2*e.oddRowContentStartIndex,e.evenRowContentTileCount=e.evenRowTileCount-2*e.evenRowContentStartIndex,e.oddRowContentEndIndex=e.oddRowContentStartIndex+e.oddRowContentTileCount-1,e.evenRowContentEndIndex=e.evenRowContentStartIndex+e.evenRowContentTileCount-1,e.actualContentInnerIndices=[],a=Math.ceil(hg.HexGrid.config.emptyInitialRowCount/2)*e.oddRowContentTileCount+Math.floor(hg.HexGrid.config.emptyInitialRowCount/2)*e.evenRowContentTileCount,r=0,l=e.originalContentInnerIndices.length;l>r;r+=1)e.actualContentInnerIndices[r]=e.originalContentInnerIndices[r]+a;for(e.innerIndexOfLastContentTile=e.actualContentInnerIndices[e.actualContentInnerIndices.length-1],s=a+e.innerIndexOfLastContentTile+1,n=0,o=0;s>n;)n+=o%2===0?e.oddRowContentTileCount:e.evenRowContentTileCount,o+=1;e.rowCount=o>e.rowCount?o:e.rowCount,e.height=(e.rowCount-1)*e.rowDeltaY}function t(){var e,t,i,n,o;for(e=this,o=[],n=e.tileData.length,t=0;n>t;t+=1)o[t]=1;for(n=1/hg.HexGrid.config.contentDensity*e.tileData.length,t=e.tileData.length;n>t;t+=1)o[t]=0;for(o=hg.util.shuffle(o),e.originalContentInnerIndices=[],t=0,i=0,n=o.length;n>t;t+=1)o[t]&&(e.originalContentInnerIndices[i++]=t)}function i(){var e;e=this,e.svg=document.createElementNS(hg.util.svgNamespace,"svg"),e.svg.style.display="block",e.svg.style.position="relative",e.svg.style.width="100%",e.svg.style.zIndex="2147483647",e.svg.style.backgroundColor="hsl("+e.hue+","+e.saturation+"%,"+e.lightness+"%)",e.parent.appendChild(e.svg),e.svgDefs=document.createElementNS(hg.util.svgNamespace,"defs"),e.svg.appendChild(e.svgDefs)}function n(){var e,t,i,n,a,s,c,u,d,g,h,f,p,m,v,w,C;for(e=this,e.tiles=[],t=0,f=0,p=0,u=hg.HexGrid.config.firstRowYOffset,n=e.rowCount,v=[],m=l.call(e),w=e.oddRowTileCount>e.evenRowTileCount,i=0;n>i;i+=1,u+=e.rowDeltaY)for(h=i%2===0,h?(c=e.oddRowXOffset,s=e.oddRowTileCount):(c=e.evenRowXOffset,s=e.evenRowTileCount),a=0;s>a;t+=1,a+=1,c+=e.tileDeltaX)d=h?a<e.oddRowContentStartIndex||a>e.oddRowContentEndIndex:a<e.evenRowContentStartIndex||a>e.evenRowContentEndIndex,g=0===a||a===s-1||0===i||i===n-1,e.tiles[t]=new hg.HexTile(e.svg,c,u,hg.HexGrid.config.tileOuterRadius,e.isVertical,hg.HexGrid.config.tileHue,hg.HexGrid.config.tileSaturation,hg.HexGrid.config.tileLightness,null,t,d,g,hg.HexGrid.config.tileMass),d||(f===e.actualContentInnerIndices[p]&&(e.tiles[t].setContent(e.tileData[p]),p+=1),f+=1),C=w&&h||!w&&!h,v[t]=r.call(e,i,n,a,s,C,m);o.call(e,v)}function o(e){var t,i,n,o,r,l;for(t=this,l=[],i=0,o=t.tiles.length;o>i;i+=1){for(n=0,r=6;r>n;n+=1)l[n]=isNaN(e[i][n])?null:t.tiles[i+e[i][n]];t.tiles[i].setNeighborTiles(l)}}function r(e,t,i,n,o,r){var l,a;return l=this,a=r.slice(0),l.isVertical?(o?(0===i&&(a[3]=Number.NaN,a[4]=Number.NaN,a[5]=Number.NaN),i===n-1&&(a[0]=Number.NaN,a[1]=Number.NaN,a[2]=Number.NaN)):(0===i&&(a[4]=Number.NaN),i===n-1&&(a[2]=Number.NaN)),0===e&&(a[0]=Number.NaN,a[5]=Number.NaN),e===t-1&&(a[2]=Number.NaN,a[3]=Number.NaN)):(o&&(0===i&&(a[4]=Number.NaN,a[5]=Number.NaN),i===n-1&&(a[1]=Number.NaN,a[2]=Number.NaN)),0===e?(a[0]=Number.NaN,a[1]=Number.NaN,a[5]=Number.NaN):1===e&&(a[0]=Number.NaN),e===t-1?(a[2]=Number.NaN,a[3]=Number.NaN,a[4]=Number.NaN):e===t-2&&(a[3]=Number.NaN)),a}function l(){var e,t,i;return e=this,i=[],t=e.oddRowTileCount>e.evenRowTileCount?e.oddRowTileCount:e.evenRowTileCount,e.isVertical?(i[0]=-t+1,i[1]=1,i[2]=t,i[3]=t-1,i[4]=-1,i[5]=-t):(i[0]=2*-t+1,i[1]=-t+1,i[2]=t,i[3]=2*t-1,i[4]=t-1,i[5]=-t),i}function a(){var e,t;for(e=this,t=e.svg;t.firstChild;)t.removeChild(t.firstChild)}function s(){var e=this;console.log("--- HexGrid Info: --------"),console.log("--- Tile count="+e.tiles.length),console.log("--- Row count="+e.rowCount),console.log("--- Odd row tile count="+e.oddRowTileCount),console.log("--- Even row tile count="+e.evenRowTileCount)}function c(){var t;t=this,t.actualContentAreaWidth=t.parent.clientWidth<hg.HexGrid.config.targetContentAreaWidth?t.parent.clientWidth:hg.HexGrid.config.targetContentAreaWidth,a.call(t),e.call(t),n.call(t),t.svg.style.height=t.height+"px",t.annotations.resize(),s.call(t)}function u(){var e=this;e.isComplete=!1}function d(e,t){var i,n,o;for(i=this,n=0,o=i.tiles.length;o>n;n+=1)i.tiles[n].update(e,t),i.tiles[n].draw();i.annotations.update(e,t)}function g(){var e=this;e.isComplete=!0}function h(e,n,o){var r=this;r.parent=e,r.tileData=n,r.isVertical=o,r.actualContentAreaWidth=hg.HexGrid.config.actualContentAreaWidth,r.hue=hg.HexGrid.config.backgroundHue,r.saturation=hg.HexGrid.config.backgroundSaturation,r.lightness=hg.HexGrid.config.backgroundLightness,r.isComplete=!1,r.svg=null,r.tiles=null,r.originalContentInnerIndices=null,r.innerIndexOfLastContentTile=null,r.annotations=new hg.HexGridAnnotations(r),r.resize=c,r.start=u,r.update=d,r.cancel=g,i.call(r),t.call(r),c.call(r)}var f={};f.targetContentAreaWidth=800,f.backgroundHue=327,f.backgroundSaturation=20,f.backgroundLightness=10,f.tileHue=147,f.tileSaturation=50,f.tileLightness=30,f.tileOuterRadius=80,f.tileGap=12,f.contentStartingRowIndex=2,f.firstRowYOffset=0*f.tileOuterRadius,f.contentDensity=.6,f.emptyInitialRowCount=2,f.tileMass=1,f.sqrtThreeOverTwo=Math.sqrt(3)/2,f.twoOverSqrtThree=2/Math.sqrt(3),f.tileInnerRadius=f.tileOuterRadius*f.sqrtThreeOverTwo,f.tileShortLengthWithGap=2*f.tileInnerRadius+f.tileGap,f.tileLongLengthWithGap=2*f.tileOuterRadius+f.tileGap*f.twoOverSqrtThree,h.config=f,window.hg||(window.hg={}),window.hg.HexGrid=h,console.log("HexGrid module loaded")}(),function(){function e(){var e,t,i;for(e=this,t=0,i=e.grid.tiles.length;i>t;t+=1)e.grid.tiles[t].holdsContent&&e.grid.tiles[t].setColor(hg.HexGrid.config.tileHue+80,hg.HexGrid.config.tileSaturation,hg.HexGrid.config.tileLightness)}function t(){var e,t,i;for(e=this,e.tileAnchorLines=[],e.tileAnchorCenters=[],t=0,i=e.grid.tiles.length;i>t;t+=1)e.tileAnchorLines[t]=document.createElementNS(hg.util.svgNamespace,"line"),e.tileAnchorLines[t].setAttribute("stroke","#bbbbbb"),e.tileAnchorLines[t].setAttribute("stroke-width","2"),e.grid.svg.appendChild(e.tileAnchorLines[t]),e.tileAnchorCenters[t]=document.createElementNS(hg.util.svgNamespace,"circle"),e.tileAnchorCenters[t].setAttribute("r","4"),e.tileAnchorCenters[t].setAttribute("fill","white"),e.grid.svg.appendChild(e.tileAnchorCenters[t])}function i(){var e,t,i;for(e=this,e.forceLines=[],t=0,i=e.grid.tiles.length;i>t;t+=1)e.forceLines[t]=document.createElementNS(hg.util.svgNamespace,"line"),e.forceLines[t].setAttribute("stroke","orange"),e.forceLines[t].setAttribute("stroke-width","2"),e.grid.svg.appendChild(e.forceLines[t])}function n(){var e,t,i;for(e=this,e.velocityLines=[],t=0,i=e.grid.tiles.length;i>t;t+=1)e.velocityLines[t]=document.createElementNS(hg.util.svgNamespace,"line"),e.velocityLines[t].setAttribute("stroke","red"),e.velocityLines[t].setAttribute("stroke-width","2"),e.grid.svg.appendChild(e.velocityLines[t])}function o(){var e,t,i;for(e=this,t=0,i=e.grid.tiles.length;i>t;t+=1)e.tileAnchorLines[t].setAttribute("x1",e.grid.tiles[t].particle.px),e.tileAnchorLines[t].setAttribute("y1",e.grid.tiles[t].particle.py),e.tileAnchorLines[t].setAttribute("x2",e.grid.tiles[t].centerX),e.tileAnchorLines[t].setAttribute("y2",e.grid.tiles[t].centerY),e.tileAnchorCenters[t].setAttribute("cx",e.grid.tiles[t].centerX),e.tileAnchorCenters[t].setAttribute("cy",e.grid.tiles[t].centerY)}function r(){var e,t,i;for(e=this,t=0,i=e.grid.tiles.length;i>t;t+=1)e.forceLines[t].setAttribute("x1",e.grid.tiles[t].particle.px),e.forceLines[t].setAttribute("y1",e.grid.tiles[t].particle.py),e.forceLines[t].setAttribute("x2",e.grid.tiles[t].particle.px+e.grid.tiles[t].particle.fx*u.forceLineLengthMultiplier),e.forceLines[t].setAttribute("y2",e.grid.tiles[t].particle.py+e.grid.tiles[t].particle.fy*u.forceLineLengthMultiplier)}function l(){var e,t,i;for(e=this,t=0,i=e.grid.tiles.length;i>t;t+=1)e.velocityLines[t].setAttribute("x1",e.grid.tiles[t].particle.px),e.velocityLines[t].setAttribute("y1",e.grid.tiles[t].particle.py),e.velocityLines[t].setAttribute("x2",e.grid.tiles[t].particle.px+e.grid.tiles[t].particle.vx*u.velocityLineLengthMultiplier),e.velocityLines[t].setAttribute("y2",e.grid.tiles[t].particle.py+e.grid.tiles[t].particle.vy*u.velocityLineLengthMultiplier)}function a(){var o;o=this,e.call(o),t.call(o),n.call(o),i.call(o)}function s(){var e;e=this,o.call(e),r.call(e),l.call(e)}function c(e){var t=this;t.grid=e,t.update=s,t.resize=a}var u={};u.forceLineLengthMultiplier=4e3,u.velocityLineLengthMultiplier=300,c.config=u,window.hg||(window.hg={}),window.hg.HexGridAnnotations=c,console.log("HexGridAnnotations module loaded")}(),function(){function e(){function e(e){!e.toElement&&!e.relatedTarget}function t(){}function i(){}function n(){}var o;o=this,document.addEventListener("mouseout",e,!1),document.addEventListener("mousemove",t,!1),document.addEventListener("mousedown",i,!1),document.addEventListener("mouseup",n,!1)}function t(t){var i=this;i.grid=t,e.call(i)}var i={};t.config=i,window.hg||(window.hg={}),window.hg.HexInput=t,console.log("HexInput module loaded")}(),function(){function e(){var e;e=this,e.vertexDeltas=n(e.outerRadius,e.isVertical),e.vertices=o(e.centerX,e.centerY,e.vertexDeltas),e.element=document.createElementNS(hg.util.svgNamespace,"polygon"),e.svg.appendChild(e.element),a.call(e,e.vertices),s.call(e,e.hue,e.saturation,e.lightness)}function t(e){var t;t=this,t.particle={},t.particle.px=t.centerX,t.particle.py=t.centerY,t.particle.vx=0,t.particle.vy=0,t.particle.fx=0,t.particle.fy=0,t.particle.m=e,t.particle.forceAccumulatorX=0,t.particle.forceAccumulatorY=0}function i(){var e,t;for(p=Math.PI/3,m=Math.PI/6,C=[],b=[],e=0,t=0;6>e;e+=1,t+=p)C[e]=Math.sin(t),b[e]=Math.cos(t);for(v=[],w=[],e=0,t=m;6>e;e+=1,t+=p)v[e]=Math.sin(t),w[e]=Math.cos(t)}function n(e,t){var i,n,o,r,l;for(t?(o=v,r=w):(o=C,r=b),i=0,n=0,l=[];6>i;i+=1)l[n++]=e*r[i],l[n++]=e*o[i];return l}function o(e,t,i){var n,o,r;for(n=0,o=0,r=[];6>n;n+=1)r[o]=e+i[o++],r[o]=t+i[o++];return r}function r(e){var t=this;t.tileData=e,t.holdsContent=!!e}function l(e){var t,i,n,o,r,l,a,s;for(t=this,t.neighbors=[],i=0,n=e.length;n>i;i+=1)if(l=e[i]){if(a=t.centerX-l.centerX,s=t.centerY-l.centerY,t.neighbors[i]={tile:l,restLength:Math.sqrt(a*a+s*s),neighborsRelationshipObj:null,springForceX:0,springForceY:0},l.neighbors)for(o=0,r=l.neighbors.length;r>o;o+=1)l.neighbors[o]&&l.neighbors[o].tile===t&&(t.neighbors[i].neighborsRelationshipObj=l.neighbors[o],l.neighbors[o].neighborsRelationshipObj=t.neighbors[i])}else t.neighbors[i]=null}function a(e){var t,i,n;for(t=this,i=0,n="";12>i;)n+=e[i++]+","+e[i++]+" ";t.element.setAttribute("points",n)}function s(e,t,i){var n,o;n=this,o="hsl("+e+","+t+"%,"+i+"%)",n.element.setAttribute("fill",o)}function c(e,t){var i,n,o,r,l,a,s,c,u,d,g,h,p;if(i=this,!i.particle.isFixed){for(i.particle.forceAccumulatorX+=-f.coeffOfDrag*i.particle.vx,i.particle.forceAccumulatorY+=-f.coeffOfDrag*i.particle.vy,n=0,o=i.neighbors.length;o>n;n+=1)r=i.neighbors[n],r&&(r.springForceX?(i.particle.forceAccumulatorX+=r.springForceX,i.particle.forceAccumulatorY+=r.springForceY,r.springForceX=0,r.springForceY=0):(l=r.tile.particle.px-i.particle.px,a=r.tile.particle.py-i.particle.py,s=r.tile.particle.vx-i.particle.vx,c=r.tile.particle.vy-i.particle.vy,u=l*s+a*c,d=Math.sqrt(l*l+a*a),g=(f.neighborCoeffOfSpring*(d-r.restLength)+f.neighborCoeffOfDamping*u/d)/d,h=l*g,p=a*g,i.particle.forceAccumulatorX+=h,i.particle.forceAccumulatorY+=p,r.neighborsRelationshipObj.springForceX=-h,r.neighborsRelationshipObj.springForceY=-p));l=i.centerX-i.particle.px,a=i.centerY-i.particle.py,d=Math.sqrt(l*l+a*a),d>0&&(s=-i.particle.vx,c=-i.particle.vy,u=l*s+a*c,g=i.isBorderTile?(f.borderAnchorCoeffOfSpring*d+f.borderAnchorCoeffOfDamping*u/d)/d:(f.innerAnchorCoeffOfSpring*d+f.innerAnchorCoeffOfDamping*u/d)/d,h=l*g,p=a*g,i.particle.forceAccumulatorX+=h,i.particle.forceAccumulatorY+=p),i.particle.fx=i.particle.forceAccumulatorX/i.particle.m*t,i.particle.fy=i.particle.forceAccumulatorY/i.particle.m*t,i.particle.px+=i.particle.vx*t,i.particle.py+=i.particle.vy*t,i.particle.vx+=i.particle.fx,i.particle.vy+=i.particle.fy;{var m=i.particle;m.px,m.py,m.vx,m.vy,m.fx,m.fy,m.forceAccumulatorX,m.forceAccumulatorY}0===i.index,isNaN(i.particle.px)&&console.log("tile.particle.px="+i.particle.px),isNaN(i.particle.py)&&console.log("tile.particle.py="+i.particle.py),isNaN(i.particle.vx)&&console.log("tile.particle.vx="+i.particle.vx),isNaN(i.particle.vy)&&console.log("tile.particle.vy="+i.particle.vy),isNaN(i.particle.fx)&&console.log("tile.particle.fx="+i.particle.fx),isNaN(i.particle.fy)&&console.log("tile.particle.fy="+i.particle.fy),i.particle.fx=i.particle.fx<f.forceSuppressionLowerThreshold&&i.particle.fx>f.forceSuppressionThresholdNegative?0:i.particle.fx,i.particle.fy=i.particle.fy<f.forceSuppressionLowerThreshold&&i.particle.fy>f.forceSuppressionThresholdNegative?0:i.particle.fy,i.particle.vx=i.particle.vx<f.velocitySuppressionLowerThreshold&&i.particle.vx>f.velocitySuppressionThresholdNegative?0:i.particle.vx,i.particle.vy=i.particle.vy<f.velocitySuppressionLowerThreshold&&i.particle.vy>f.velocitySuppressionThresholdNegative?0:i.particle.vy,i.particle.forceAccumulatorX=0,i.particle.forceAccumulatorY=0}}function u(){var e;e=this,e.vertices=o(e.particle.px,e.particle.py,e.vertexDeltas),a.call(e,e.vertices)}function d(e,t){var i;i=this,i.particle.forceAccumulatorX+=e,i.particle.forceAccumulatorY+=t}function g(e,t){var i;i=this,i.particle.isFixed=!0,i.particle.px=e,i.particle.py=t}function h(i,n,o,h,f,p,m,v,w,C,b,x,y){var N=this;N.svg=i,N.element=null,N.centerX=n,N.centerY=o,N.originalCenterX=n,N.originalCenterY=o,N.outerRadius=h,N.isVertical=f,N.hue=p,N.saturation=m,N.lightness=v,N.tileData=w,N.holdsContent=!!w,N.index=C,N.isMarginTile=b,N.isBorderTile=x,N.neighbors=null,N.vertices=null,N.particle=null,N.setContent=r,N.setNeighborTiles=l,N.setColor=s,N.setVertices=a,N.update=c,N.draw=u,N.applyExternalForce=d,N.fixPosition=g,e.call(N),t.call(N,y)}var f,p,m,v,w,C,b;f={},f.coeffOfDrag=.01,f.neighborCoeffOfSpring=1e-5,f.neighborCoeffOfDamping=.001,f.innerAnchorCoeffOfSpring=4e-5,f.innerAnchorCoeffOfDamping=.001,f.borderAnchorCoeffOfSpring=4e-5,f.borderAnchorCoeffOfDamping=.001,f.forceSuppressionLowerThreshold=5e-4,f.velocitySuppressionLowerThreshold=5e-4,f.forceSuppressionThresholdNegative=-f.forceSuppressionLowerThreshold,f.velocitySuppressionThresholdNegative=-f.velocitySuppressionLowerThreshold,h.config=f,window.hg||(window.hg={}),window.hg.HexTile=h,i(),console.log("HexTile module loaded")}(),function(){function e(){n.grids.forEach(function(e,t){e.resize(),i(t)})}function t(e,t,o){var r,l,a;return r=new hg.HexGrid(e,t,o),n.grids.push(r),hg.animator.startJob(r),a=n.grids.length-1,l=new hg.WaveAnimationJob(r),n.waveAnimationJobs.push(l),i(a),a}function i(e){var t=hg.controller.waveAnimationJobs[e];t.isComplete||hg.animator.cancelJob(t),t.init(),hg.animator.startJob(t)}var n={},o={};n.grids=[],n.waveAnimationJobs=[],n.config=o,n.createNewHexGrid=t,n.restartWaveAnimation=i,window.hg||(window.hg={}),window.hg.controller=n,window.addEventListener("resize",e,!1),console.log("controller module loaded")}(),function(){function e(e,t,i){e.forEach(function(e){t.forEach(function(t){T.listen(e,t,i)})})}function t(e,t,i,n){var o=document.createElement(e);return t&&t.appendChild(o),i&&(o.id=i),n&&n.forEach(function(e){a(o,e)}),o}function i(e,t){var i,n;return i=e.className.indexOf(t),i>=0&&(0===i||" "===e.className[i-1])&&(n=i+t.length,n===e.className.length||" "===e.className[n])?!0:!1}function n(e,t,n){"undefined"==typeof n?i(e,t)?s(e,t):a(e,t):n?a(e,t):s(e,t)}function o(e){for(var t=0,i=0;e;)t+=e.offsetLeft,i+=e.offsetTop,e=e.offsetParent;return t-=T.getScrollLeft(),i-=T.getScrollTop(),{x:t,y:i}}function r(){var e,t;return"undefined"!=typeof window.innerWidth?(e=window.innerWidth,t=window.innerHeight):"undefined"!=typeof document.documentElement&&"undefined"!=typeof document.documentElement.clientWidth&&0!==document.documentElement.clientWidth?(e=document.documentElement.clientWidth,t=document.documentElement.clientHeight):(e=document.getElementsByTagName("body")[0].clientWidth,t=document.getElementsByTagName("body")[0].clientHeight),{w:e,h:t}}function l(e,t){return t&&t.parentNode===e?(e.removeChild(t),!0):!1}function a(e,t){e.className+=" "+t}function s(e,t){e.className=e.className.split(" ").filter(function(e){return e!==t}).join(" ")}function c(e){e.className=""}function u(e,t,i,n,o){var r,l;return i=i||document.getElementsByTagName("body")[0],r=T.createElement(t,null,n,o),r.style.position="absolute",r.style.visibility="hidden",r.style.whiteSpace="nowrap",i.appendChild(r),r.innerHTML=e,l=r.clientWidth,i.removeChild(r),l}function d(e){var t,i;i=[];for(t in e)e.hasOwnProperty(t)&&i.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return"?"+i.join("&")}function g(e,t){var i,n;return t=encodeURIComponent(t),t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),i=new RegExp("[\\?&]"+t+"=([^&#]*)","i"),n=i.exec(e),null===n?null:decodeURIComponent(n[1].replace(/\+/g," "))}function h(e,t){e.style.transitionDuration=t+"s",e.style.WebkitTransitionDuration=t+"s",e.style.MozTransitionDuration=t+"s",e.style.msTransitionDuration=t+"s",e.style.OTransitionDuration=t+"s"}function f(e,t){e.style.transitionDelay=t+"s",e.style.WebkitTransitionDelay=t+"s",e.style.MozTransitionDelay=t+"s",e.style.msTransitionDelay=t+"s",e.style.OTransitionDelay=t+"s"}function p(e,t){var i,n,o;for(i=e.querySelectorAll("."+t),n=0,o=i.length;o>n;n++)e.removeChild(i[n])}function m(e,t){var i="cubic-bezier("+t.p1x+","+t.p1y+","+t.p2x+","+t.p2y+")";e.style.transitionTimingFunction=i,e.style.WebkitTransitionTimingFunction=i,e.style.MozTransitionTimingFunction=i,e.style.msTransitionTimingFunction=i,e.style.OTransitionTimingFunction=i}function v(e,t){var i,n,o,r,l,a,s;return o=1-e,r=o*o*o,l=3*e*o*o,a=3*e*e*o,s=e*e*e,i=t[0].x*r+t[1].x*l+t[2].x*a+t[3].x*s,n=t[0].y*r+t[1].y*l+t[2].y*a+t[3].y*s,{x:i,y:n}}function w(e,t){e.style.webkitTransform=t,e.style.MozTransform=t,e.style.msTransform=t,e.style.OTransform=t,e.style.transform=t}function C(e){var t,i,n,o;for(t=0,n=e.length;n>t;t+=1)i=parseInt(Math.random()*n),o=e[i],e[i]=e[t],e[t]=o;return e}function b(e,t,i,n){var o,r,l,a,s,c,u,d,g,h,f;if(o=!1,n){if(i.length<6)return o;d=i[i.length-4],g=i[i.length-3]}else{if(i.length<4)return o;d=i[i.length-2],g=i[i.length-1]}for(r=0,l=i.length-2;l>r;r+=2)h=i[r],f=i[r+1],h>d?(a=d,s=g,c=h,u=f):(a=h,s=f,c=d,u=g),e>h==d>=e&&(u-s)*(e-a)>(t-s)*(c-a)&&(o=!o),d=h,g=f;return o}var x={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return.5>e?2*e*e:-1+(4-2*e)*e},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1+--e*e*e},easeInOutCubic:function(e){return.5>e?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return.5>e?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return.5>e?16*e*e*e*e*e:1+16*--e*e*e*e*e}},y={linear:function(e){return e},easeInQuad:function(e){return Math.sqrt(e)},easeOutQuad:function(e){return 1-Math.sqrt(1-e)},easeInOutQuad:function(e){return.5>e?Math.sqrt(.5*e):1-.70710678*Math.sqrt(1-e)}},N=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,16)}).bind(window),T={listenToMultipleForMultiple:e,createElement:t,containsClass:i,toggleClass:n,getPageOffset:o,getViewportSize:r,removeChildIfPresent:l,addClass:a,removeClass:s,clearClasses:c,getTextWidth:u,encodeQueryString:d,getQueryStringParameterValue:g,setTransitionDurationSeconds:h,setTransitionDelaySeconds:f,removeChildrenWithClass:p,setTransitionCubicBezierTimingFunction:m,easingFunctions:x,inverseEasingFunctions:y,requestAnimationFrame:N,getXYFromPercentWithBezier:v,applyTransform:w,shuffle:C,isPointInsidePolyline:b,svgNamespace:"http://www.w3.org/2000/svg"};window.hg||(window.hg={}),window.hg.util=T,console.log("util module loaded")}(),function(){function e(){}function t(){var e=this;e.startTime=Date.now(),e.isComplete=!1}function i(){var t=this;e.call(t)}function n(){var e=this;e.onComplete(!1),e.isComplete=!0}function o(e,o){var r=this;r.grid=e,r.startTime=0,r.isComplete=!1,r.start=t,r.update=i,r.cancel=n,r.onComplete=o,console.log("AnimationJob created")}window.hg||(window.hg={}),window.hg.AnimationJob=o,console.log("AnimationJob module loaded")}(),function(){function e(){}function t(){var e=this;e.startTime=Date.now(),e.isComplete=!1}function i(){var t=this;e.call(t)}function n(){var e=this;e.isComplete=!0}function o(e){var o=this;o.grid=e,o.startTime=0,o.isComplete=!1,o.start=t,o.update=i,o.cancel=n,console.log("LinesRadiateAnimationJob created")}window.hg||(window.hg={}),window.hg.LinesRadiateAnimationJob=o,console.log("LinesRadiateAnimationJob module loaded")}(),function(){function e(){}function t(){var e=this;e.startTime=Date.now(),e.isComplete=!1}function i(){var t=this;e.call(t)}function n(){var e=this;e.isComplete=!0}function o(e){var o=this;o.grid=e,o.startTime=0,o.isComplete=!1,o.start=t,o.update=i,o.cancel=n,console.log("RandomLineAnimationJob created")}window.hg||(window.hg={}),window.hg.RandomLineAnimationJob=o,console.log("RandomLineAnimationJob module loaded")}(),function(){function e(){}function t(){var e=this;e.startTime=Date.now(),e.isComplete=!1}function i(){var t=this;e.call(t)}function n(){var e=this;e.isComplete=!0}function o(e){var o=this;o.grid=e,o.startTime=0,o.isComplete=!1,o.start=t,o.update=i,o.cancel=n,console.log("ShimmerRadiateAnimationJob created")}window.hg||(window.hg={}),window.hg.ShimmerRadiateAnimationJob=o,console.log("ShimmerRadiateAnimationJob module loaded")}(),function(){function e(){var e,t,i,n,o;for(e=this,t=0,i=e.grid.tiles.length;i>t;t+=1)n=e.grid.tiles[t],o=Math.sqrt(n.originalCenterX*n.originalCenterX+n.originalCenterY*n.originalCenterY)+a.twoWaveProgressWavelength,n.waveProgressOffset=-(o%a.twoWaveProgressWavelength-a.wavelength)/a.wavelength}function t(){}function i(e,t){var i,n;i=this,n=Math.sin((((e+1+t.waveProgressOffset)%2+2)%2-1)*Math.PI),t.centerX=t.originalCenterX+a.tileDeltaX*n,t.centerY=t.originalCenterY+a.tileDeltaY*n}function n(){var e=this;e.startTime=Date.now(),e.isComplete=!1}function o(e){var n,o,r,l;for(n=this,o=(e+a.halfPeriod)/a.period%2-1,r=0,l=n.grid.tiles.length;l>r;r+=1)i.call(n,o,n.grid.tiles[r]);t.call(n)}function r(){var e=this;e.isComplete=!0}function l(t){var i=this;i.grid=t,i.startTime=0,i.isComplete=!1,i.start=n,i.update=o,i.cancel=r,i.init=function(){e.call(i)},i.init(),console.log("WaveAnimationJob created")}var a={};a.period=3200,a.tileDeltaX=-15,a.tileDeltaY=-a.tileDeltaX*Math.sqrt(3),a.wavelength=900,a.displacementWavelength=Math.sqrt(a.tileDeltaX*a.tileDeltaX+a.tileDeltaY*a.tileDeltaY),a.twoPeriod=2*a.period,a.halfPeriod=a.period/2,a.twoWaveProgressWavelength=2*a.wavelength,a.halfWaveProgressWavelength=a.wavelength/2,l.config=a,window.hg||(window.hg={}),window.hg.WaveAnimationJob=l,console.log("WaveAnimationJob module loaded")}(),function(){function e(){var i,n;i=Date.now(),n=i-l.previousTime,n=n>a.deltaTimeUpperThreshold?a.deltaTimeUpperThreshold:n,l.isLooping=!0,l.isPaused?l.isLooping=!1:(t(i,n),hg.util.requestAnimationFrame(e)),l.previousTime=i}function t(e,t){var n,o;for(n=0,o=l.jobs.length;o>n;n+=1)l.jobs[n].update(e,t),l.jobs[n].isComplete&&(i(l.jobs[n],n),n--,o--)}function i(e,t){var i;if("number"==typeof t)l.jobs.splice(t,1);else for(t=0,i=l.jobs.length;i>t;t+=1)if(l.jobs[t]===e){l.jobs.splice(t,1);break}0===l.jobs.length&&(l.isPaused=!0)}function n(){l.isPaused=!1,l.isLooping||(l.previousTime=Date.now(),e())}function o(e){console.log("AnimationJob starting"),e.start(),l.jobs.push(e),n()}function r(e){console.log("AnimationJob cancelling"),e.cancel(),i(e)}var l={},a={};a.deltaTimeUpperThreshold=200,l.jobs=[],l.previousTime=Date.now(),l.isLooping=!1,l.isPaused=!0,l.startJob=o,l.cancelJob=r,l.config=a,window.hg||(window.hg={}),window.hg.animator=l,console.log("animator module loaded")}();