"use strict";!function(){function t(){}function e(){var t=this;console.log("AnimationJob starting"),t.startTime=Date.now(),t.isComplete=!1}function n(){var e=this;t.call(e)}function i(){var t=this;console.log("AnimationJob cancelling"),t.onComplete(!1),t.isComplete=!0}function o(t,o,a,l,r){var s=this;s.element=t,s.duration=o,s.animationFunction=l,s.startTime=0,s.isComplete=!1,s.easingFunction=hg.util.easingFunctions[a],s.start=e,s.update=n,s.cancel=i,s.onComplete=r,console.log("AnimationJob created")}window.hg||(window.hg={}),window.hg.AnimationJob=o,console.log("AnimationJob module loaded")}(),function(){function t(){var t,e,n,i,o,a,l,r,s;for(t=this,e=.5*t.parent.clientWidth,n=t.parent.clientHeight,t.isVertical?(t.rowDeltaY=1.5*h.tileOuterRadius+h.tileGap*h.sqrtThreeOverTwo,t.tileDeltaX=h.tileShortLengthWithGap,t.oddRowTileCount=2*Math.ceil((e-(h.tileInnerRadius+h.tileGap))/h.tileShortLengthWithGap)+1,t.evenRowTileCount=2*Math.ceil((e-(h.tileShortLengthWithGap+.5*h.tileGap))/h.tileShortLengthWithGap)+2,t.oddRowXOffset=e-h.tileShortLengthWithGap*(t.oddRowTileCount-1)/2,t.rowCount=Math.ceil((n-(h.firstRowYOffset+2*h.tileOuterRadius+h.tileGap*Math.sqrt(3)))/t.rowDeltaY)+2):(t.rowDeltaY=h.tileInnerRadius+.5*h.tileGap,t.tileDeltaX=3*h.tileOuterRadius+h.tileGap*Math.sqrt(3),t.oddRowTileCount=2*Math.ceil((e-(t.tileDeltaX-h.tileOuterRadius))/t.tileDeltaX)+1,t.evenRowTileCount=2*Math.ceil((e-(t.tileDeltaX+h.tileGap*h.sqrtThreeOverTwo+.5*h.tileOuterRadius))/t.tileDeltaX)+2,t.oddRowXOffset=e-t.tileDeltaX*(t.oddRowTileCount-1)/2,t.rowCount=Math.ceil((n-(h.firstRowYOffset+3*h.tileInnerRadius+2*h.tileGap))/t.rowDeltaY)+4),t.evenRowXOffset=t.oddRowXOffset+(t.evenRowTileCount>t.oddRowTileCount?-1:1)*t.tileDeltaX*.5,t.contentAreaLeft=e-.5*t.actualContentAreaWidth,t.contentAreaRight=t.contentAreaLeft+t.actualContentAreaWidth,t.isVertical?(t.oddRowContentStartIndex=Math.ceil((t.contentAreaLeft-(t.oddRowXOffset-h.tileInnerRadius))/t.tileDeltaX),t.evenRowContentStartIndex=Math.ceil((t.contentAreaLeft-(t.evenRowXOffset-h.tileInnerRadius))/t.tileDeltaX)):(t.oddRowContentStartIndex=Math.ceil((t.contentAreaLeft-(t.oddRowXOffset-h.tileOuterRadius))/t.tileDeltaX),t.evenRowContentStartIndex=Math.ceil((t.contentAreaLeft-(t.evenRowXOffset-h.tileOuterRadius))/t.tileDeltaX)),t.oddRowContentTileCount=t.oddRowTileCount-2*t.oddRowContentStartIndex,t.evenRowContentTileCount=t.evenRowTileCount-2*t.evenRowContentStartIndex,t.oddRowContentEndIndex=t.oddRowContentStartIndex+t.oddRowContentTileCount-1,t.evenRowContentEndIndex=t.evenRowContentStartIndex+t.evenRowContentTileCount-1,t.actualContentInnerIndices=[],r=Math.ceil(h.emptyInitialRowCount/2)*t.oddRowContentTileCount+Math.floor(h.emptyInitialRowCount/2)*t.evenRowContentTileCount,a=0,l=t.originalContentInnerIndices.length;l>a;a+=1)t.actualContentInnerIndices[a]=t.originalContentInnerIndices[a]+r;for(t.innerIndexOfLastContentTile=t.actualContentInnerIndices[t.actualContentInnerIndices.length-1],s=r+t.innerIndexOfLastContentTile+1,i=0,o=0;s>i;)i+=o%2===0?t.oddRowContentTileCount:t.evenRowContentTileCount,o+=1;t.rowCount=o>t.rowCount?o:t.rowCount,t.height=(t.rowCount-1)*t.rowDeltaY}function e(){var t,e,n,i,o;for(t=this,o=[],i=t.tileData.length,e=0;i>e;e+=1)o[e]=1;for(i=1/h.contentDensity*t.tileData.length,e=t.tileData.length;i>e;e+=1)o[e]=0;for(o=hg.util.shuffle(o),t.originalContentInnerIndices=[],e=0,n=0,i=o.length;i>e;e+=1)o[e]&&(t.originalContentInnerIndices[n++]=e)}function n(){var t;t=this,t.svg=document.createElementNS(hg.util.svgNamespace,"svg"),t.svg.style.display="block",t.svg.style.position="relative",t.svg.style.width="100%",t.svg.style.zIndex="2147483647",t.svg.style.backgroundColor="hsl("+t.hue+","+t.saturation+"%,"+t.lightness+"%)",t.parent.appendChild(t.svg),t.svgDefs=document.createElementNS(hg.util.svgNamespace,"defs"),t.svg.appendChild(t.svgDefs)}function i(){var t,e,n,i,a,l,r,s,u,c,d,f;for(t=this,t.tiles=[],e=0,d=0,f=0,s=h.firstRowYOffset,i=t.rowCount,n=0;i>n;n+=1,s+=t.rowDeltaY)for(c=n%2===0,c?(r=t.oddRowXOffset,l=t.oddRowTileCount):(r=t.evenRowXOffset,l=t.evenRowTileCount),a=0;l>a;e+=1,a+=1,r+=t.tileDeltaX)u=c?a<t.oddRowContentStartIndex||a>t.oddRowContentEndIndex:a<t.evenRowContentStartIndex||a>t.evenRowContentEndIndex,t.tiles[e]=new hg.HexTile(t.svg,r,s,h.tileOuterRadius,t.isVertical,h.tileHue,h.tileSaturation,h.tileLightness,null,e,u),u||(d===t.actualContentInnerIndices[f]&&(t.tiles[e].setContent(t.tileData[f]),f+=1),d+=1);o.call(t)}function o(){var t;t=this}function a(){var t;t=this}function l(){var e;e=this,e.actualContentAreaWidth=e.parent.clientWidth<h.targetContentAreaWidth?e.parent.clientWidth:h.targetContentAreaWidth,r.call(e),t.call(e),i.call(e),e.svg.style.height=e.height+"px",s.call(e),c.call(e)}function r(){var t,e;for(t=this,e=t.svg;e.firstChild;)e.removeChild(e.firstChild)}function s(){var t,e,n;for(t=this,e=0,n=t.tiles.length;n>e;e+=1)t.tiles[e].holdsContent&&t.tiles[e].setColor(h.tileHue+80,h.tileSaturation,h.tileLightness)}function u(t,i,o){var r=this;r.parent=t,r.tileData=i,r.isVertical=o,r.actualContentAreaWidth=h.actualContentAreaWidth,r.hue=h.backgroundHue,r.saturation=h.backgroundSaturation,r.lightness=h.backgroundLightness,r.svg=null,r.tiles=null,r.originalContentInnerIndices=null,r.innerIndexOfLastContentTile=null,n.call(r),e.call(r),l.call(r),a.call(r),window.addEventListener("resize",l.bind(r),!1)}function c(){var t=this;console.log("--- HexGrid Info: --------"),console.log("--- Tile count="+t.tiles.length),console.log("--- Row count="+t.rowCount),console.log("--- Odd row tile count="+t.oddRowTileCount),console.log("--- Even row tile count="+t.evenRowTileCount)}function d(t,e,n){return new u(t,e,n)}var h={};h.targetContentAreaWidth=800,h.backgroundHue=327,h.backgroundSaturation=20,h.backgroundLightness=10,h.tileHue=147,h.tileSaturation=50,h.tileLightness=30,h.tileOuterRadius=80,h.tileGap=12,h.contentStartingRowIndex=2,h.firstRowYOffset=0*h.tileOuterRadius,h.contentDensity=.6,h.emptyInitialRowCount=2,h.sqrtThreeOverTwo=Math.sqrt(3)/2,h.twoOverSqrtThree=2/Math.sqrt(3),h.tileInnerRadius=h.tileOuterRadius*h.sqrtThreeOverTwo,h.tileShortLengthWithGap=2*h.tileInnerRadius+h.tileGap,h.tileLongLengthWithGap=2*h.tileOuterRadius+h.tileGap*h.twoOverSqrtThree,window.hg||(window.hg={}),window.hg.createNewHexGrid=d,console.log("HexGrid module loaded")}(),function(){function t(){var t;t=this,t.vertexDeltas=n(t.outerRadius,t.isVertical),t.vertices=i(t.centerX,t.centerY,t.vertexDeltas),t.element=document.createElementNS(hg.util.svgNamespace,"polygon"),t.svg.appendChild(t.element),l.call(t,t.vertices),r.call(t,t.hue,t.saturation,t.lightness)}function e(){var t,e;for(u=Math.PI/3,c=Math.PI/6,f=[],g=[],t=0,e=0;6>t;t+=1,e+=u)f[t]=Math.sin(e),g[t]=Math.cos(e);for(d=[],h=[],t=0,e=c;6>t;t+=1,e+=u)d[t]=Math.sin(e),h[t]=Math.cos(e)}function n(t,e){var n,i,o,a,l;for(e?(o=d,a=h):(o=f,a=g),n=0,i=0,l=[];6>n;n+=1)l[i++]=t*a[n],l[i++]=t*o[n];return l}function i(t,e,n){var i,o,a;for(i=0,o=0,a=[];6>i;i+=1)a[o]=t+n[o++],a[o]=e+n[o++];return a}function o(t){var e=this;e.tileData=t,e.holdsContent=!!t}function a(t){var e=this;e.neighborTiles=t}function l(t){var e,n,i;for(e=this,n=0,i="";12>n;)i+=t[n++]+","+t[n++]+" ";e.element.setAttribute("points",i)}function r(t,e,n){var i,o;i=this,o="hsl("+t+","+e+"%,"+n+"%)",i.element.setAttribute("fill",o)}function s(e,n,i,s,u,c,d,h,f,g,w){var m=this;m.svg=e,m.element=null,m.centerX=n,m.centerY=i,m.outerRadius=s,m.isVertical=u,m.hue=c,m.saturation=d,m.lightness=h,m.tileData=f,m.holdsContent=!!f,m.index=g,m.isMarginTile=w,m.neighborTiles=null,m.vertices=null,m.setContent=o,m.setNeighborTiles=a,m.setColor=r,m.setVertices=l,t.call(m)}var u,c,d,h,f,g;window.hg||(window.hg={}),window.hg.HexTile=s,e(),console.log("HexTile module loaded")}(),function(){function t(){var n=Date.now();l.isLooping=!0,l.isPaused?l.isLooping=!1:(e(n),hg.util.requestAnimationFrame(t)),l.previousTime=n}function e(t){var e,i;for(e=0,i=l.jobs.length;i>e;e+=1)l.jobs[e].update(t),l.jobs[e].isComplete&&(n(l.jobs[e],e),e--,i--)}function n(t,e){var n;if("number"==typeof e)l.jobs.splice(e,1);else for(e=0,n=l.jobs.length;n>e;e+=1)if(l.jobs[e]===t){l.jobs.splice(e,1);break}0===l.jobs.length&&(l.isPaused=!0)}function i(e,n,i,o,a){return t(),new hg.AnimationJob(e,n,i,o,a)}function o(e){e.start(),l.jobs.push(e),l.isPaused=!1,l.isLooping||t()}function a(t){t.cancel(),n(t)}var l={};l.jobs=[],l.createJob=i,l.startJob=o,l.cancelJob=a,l.isPaused=!0,window.hg||(window.hg={}),window.hg.animator=l,console.log("animator module loaded")}(),function(){function t(t,e,n){t.forEach(function(t){e.forEach(function(e){y.listen(t,e,n)})})}function e(t,e,n,i){var o=document.createElement(t);return e&&e.appendChild(o),n&&(o.id=n),i&&i.forEach(function(t){r(o,t)}),o}function n(t,e){var n,i;return n=t.className.indexOf(e),n>=0&&(0===n||" "===t.className[n-1])&&(i=n+e.length,i===t.className.length||" "===t.className[i])?!0:!1}function i(t,e,i){"undefined"==typeof i?n(t,e)?s(t,e):r(t,e):i?r(t,e):s(t,e)}function o(t){for(var e=0,n=0;t;)e+=t.offsetLeft,n+=t.offsetTop,t=t.offsetParent;return e-=y.getScrollLeft(),n-=y.getScrollTop(),{x:e,y:n}}function a(){var t,e;return"undefined"!=typeof window.innerWidth?(t=window.innerWidth,e=window.innerHeight):"undefined"!=typeof document.documentElement&&"undefined"!=typeof document.documentElement.clientWidth&&0!==document.documentElement.clientWidth?(t=document.documentElement.clientWidth,e=document.documentElement.clientHeight):(t=document.getElementsByTagName("body")[0].clientWidth,e=document.getElementsByTagName("body")[0].clientHeight),{w:t,h:e}}function l(t,e){return e&&e.parentNode===t?(t.removeChild(e),!0):!1}function r(t,e){t.className+=" "+e}function s(t,e){t.className=t.className.split(" ").filter(function(t){return t!==e}).join(" ")}function u(t){t.className=""}function c(t,e,n,i,o){var a,l;return n=n||document.getElementsByTagName("body")[0],a=y.createElement(e,null,i,o),a.style.position="absolute",a.style.visibility="hidden",a.style.whiteSpace="nowrap",n.appendChild(a),a.innerHTML=t,l=a.clientWidth,n.removeChild(a),l}function d(t){var e,n;n=[];for(e in t)t.hasOwnProperty(e)&&n.push(encodeURIComponent(e)+"="+encodeURIComponent(t[e]));return"?"+n.join("&")}function h(t,e){var n,i;return e=encodeURIComponent(e),e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),n=new RegExp("[\\?&]"+e+"=([^&#]*)","i"),i=n.exec(t),null===i?null:decodeURIComponent(i[1].replace(/\+/g," "))}function f(t,e){t.style.transitionDuration=e+"s",t.style.WebkitTransitionDuration=e+"s",t.style.MozTransitionDuration=e+"s",t.style.msTransitionDuration=e+"s",t.style.OTransitionDuration=e+"s"}function g(t,e){t.style.transitionDelay=e+"s",t.style.WebkitTransitionDelay=e+"s",t.style.MozTransitionDelay=e+"s",t.style.msTransitionDelay=e+"s",t.style.OTransitionDelay=e+"s"}function w(t,e){var n,i,o;for(n=t.querySelectorAll("."+e),i=0,o=n.length;o>i;i++)t.removeChild(n[i])}function m(t,e){var n="cubic-bezier("+e.p1x+","+e.p1y+","+e.p2x+","+e.p2y+")";t.style.transitionTimingFunction=n,t.style.WebkitTransitionTimingFunction=n,t.style.MozTransitionTimingFunction=n,t.style.msTransitionTimingFunction=n,t.style.OTransitionTimingFunction=n}function C(t,e){var n,i,o,a,l,r,s;return o=1-t,a=o*o*o,l=3*t*o*o,r=3*t*t*o,s=t*t*t,n=e[0].x*a+e[1].x*l+e[2].x*r+e[3].x*s,i=e[0].y*a+e[1].y*l+e[2].y*r+e[3].y*s,{x:n,y:i}}function v(t,e){t.style.webkitTransform=e,t.style.MozTransform=e,t.style.msTransform=e,t.style.OTransform=e,t.style.transform=e}function p(t){var e,n,i,o;for(e=0,i=t.length;i>e;e+=1)n=parseInt(Math.random()*i),o=t[n],t[n]=t[e],t[e]=o;return t}var R={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return.5>t?2*t*t:-1+(4-2*t)*t},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return 1+--t*t*t},easeInOutCubic:function(t){return.5>t?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return.5>t?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return.5>t?16*t*t*t*t*t:1+16*--t*t*t*t*t}},T={linear:function(t){return t},easeInQuad:function(t){return Math.sqrt(t)},easeOutQuad:function(t){return 1-Math.sqrt(1-t)},easeInOutQuad:function(t){return.5>t?Math.sqrt(.5*t):1-.70710678*Math.sqrt(1-t)}},I=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,16)}).bind(window),y={listenToMultipleForMultiple:t,createElement:e,containsClass:n,toggleClass:i,getPageOffset:o,getViewportSize:a,removeChildIfPresent:l,addClass:r,removeClass:s,clearClasses:u,getTextWidth:c,encodeQueryString:d,getQueryStringParameterValue:h,setTransitionDurationSeconds:f,setTransitionDelaySeconds:g,removeChildrenWithClass:w,setTransitionCubicBezierTimingFunction:m,easingFunctions:R,inverseEasingFunctions:T,requestAnimationFrame:I,getXYFromPercentWithBezier:C,applyTransform:v,shuffle:p,svgNamespace:"http://www.w3.org/2000/svg"};window.hg||(window.hg={}),window.hg.util=y,console.log("util module loaded")}();