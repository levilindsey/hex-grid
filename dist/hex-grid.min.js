;/*! showdown v 1.8.6 - 22-12-2017 */
(function(){
/**
 * Created by Tivie on 13-07-2015.
 */

function getDefaultOpts (simple) {
  'use strict';

  var defaultOptions = {
    omitExtraWLInCodeBlocks: {
      defaultValue: false,
      describe: 'Omit the default extra whiteline added to code blocks',
      type: 'boolean'
    },
    noHeaderId: {
      defaultValue: false,
      describe: 'Turn on/off generated header id',
      type: 'boolean'
    },
    prefixHeaderId: {
      defaultValue: false,
      describe: 'Add a prefix to the generated header ids. Passing a string will prefix that string to the header id. Setting to true will add a generic \'section-\' prefix',
      type: 'string'
    },
    rawPrefixHeaderId: {
      defaultValue: false,
      describe: 'Setting this option to true will prevent showdown from modifying the prefix. This might result in malformed IDs (if, for instance, the " char is used in the prefix)',
      type: 'boolean'
    },
    ghCompatibleHeaderId: {
      defaultValue: false,
      describe: 'Generate header ids compatible with github style (spaces are replaced with dashes, a bunch of non alphanumeric chars are removed)',
      type: 'boolean'
    },
    rawHeaderId: {
      defaultValue: false,
      describe: 'Remove only spaces, \' and " from generated header ids (including prefixes), replacing them with dashes (-). WARNING: This might result in malformed ids',
      type: 'boolean'
    },
    headerLevelStart: {
      defaultValue: false,
      describe: 'The header blocks level start',
      type: 'integer'
    },
    parseImgDimensions: {
      defaultValue: false,
      describe: 'Turn on/off image dimension parsing',
      type: 'boolean'
    },
    simplifiedAutoLink: {
      defaultValue: false,
      describe: 'Turn on/off GFM autolink style',
      type: 'boolean'
    },
    excludeTrailingPunctuationFromURLs: {
      defaultValue: false,
      describe: 'Excludes trailing punctuation from links generated with autoLinking',
      type: 'boolean'
    },
    literalMidWordUnderscores: {
      defaultValue: false,
      describe: 'Parse midword underscores as literal underscores',
      type: 'boolean'
    },
    literalMidWordAsterisks: {
      defaultValue: false,
      describe: 'Parse midword asterisks as literal asterisks',
      type: 'boolean'
    },
    strikethrough: {
      defaultValue: false,
      describe: 'Turn on/off strikethrough support',
      type: 'boolean'
    },
    tables: {
      defaultValue: false,
      describe: 'Turn on/off tables support',
      type: 'boolean'
    },
    tablesHeaderId: {
      defaultValue: false,
      describe: 'Add an id to table headers',
      type: 'boolean'
    },
    ghCodeBlocks: {
      defaultValue: true,
      describe: 'Turn on/off GFM fenced code blocks support',
      type: 'boolean'
    },
    tasklists: {
      defaultValue: false,
      describe: 'Turn on/off GFM tasklist support',
      type: 'boolean'
    },
    smoothLivePreview: {
      defaultValue: false,
      describe: 'Prevents weird effects in live previews due to incomplete input',
      type: 'boolean'
    },
    smartIndentationFix: {
      defaultValue: false,
      description: 'Tries to smartly fix indentation in es6 strings',
      type: 'boolean'
    },
    disableForced4SpacesIndentedSublists: {
      defaultValue: false,
      description: 'Disables the requirement of indenting nested sublists by 4 spaces',
      type: 'boolean'
    },
    simpleLineBreaks: {
      defaultValue: false,
      description: 'Parses simple line breaks as <br> (GFM Style)',
      type: 'boolean'
    },
    requireSpaceBeforeHeadingText: {
      defaultValue: false,
      description: 'Makes adding a space between `#` and the header text mandatory (GFM Style)',
      type: 'boolean'
    },
    ghMentions: {
      defaultValue: false,
      description: 'Enables github @mentions',
      type: 'boolean'
    },
    ghMentionsLink: {
      defaultValue: 'https://github.com/{u}',
      description: 'Changes the link generated by @mentions. Only applies if ghMentions option is enabled.',
      type: 'string'
    },
    encodeEmails: {
      defaultValue: true,
      description: 'Encode e-mail addresses through the use of Character Entities, transforming ASCII e-mail addresses into its equivalent decimal entities',
      type: 'boolean'
    },
    openLinksInNewWindow: {
      defaultValue: false,
      description: 'Open all links in new windows',
      type: 'boolean'
    },
    backslashEscapesHTMLTags: {
      defaultValue: false,
      description: 'Support for HTML Tag escaping. ex: \<div>foo\</div>',
      type: 'boolean'
    },
    emoji: {
      defaultValue: false,
      description: 'Enable emoji support. Ex: `this is a :smile: emoji`',
      type: 'boolean'
    },
    underline: {
      defaultValue: false,
      description: 'Enable support for underline. Syntax is double or triple underscores: `__underline word__`. With this option enabled, underscores no longer parses into `<em>` and `<strong>`',
      type: 'boolean'
    },
    completeHTMLDocument: {
      defaultValue: false,
      description: 'Outputs a complete html document, including `<html>`, `<head>` and `<body>` tags',
      type: 'boolean'
    },
    metadata: {
      defaultValue: false,
      description: 'Enable support for document metadata (defined at the top of the document between `«««` and `»»»` or between `---` and `---`).',
      type: 'boolean'
    },
    splitAdjacentBlockquotes: {
      defaultValue: false,
      description: 'Split adjacent blockquote blocks',
      type: 'boolean'
    }
  };
  if (simple === false) {
    return JSON.parse(JSON.stringify(defaultOptions));
  }
  var ret = {};
  for (var opt in defaultOptions) {
    if (defaultOptions.hasOwnProperty(opt)) {
      ret[opt] = defaultOptions[opt].defaultValue;
    }
  }
  return ret;
}

function allOptionsOn () {
  'use strict';
  var options = getDefaultOpts(true),
      ret = {};
  for (var opt in options) {
    if (options.hasOwnProperty(opt)) {
      ret[opt] = true;
    }
  }
  return ret;
}

/**
 * Created by Tivie on 06-01-2015.
 */

// Private properties
var showdown = {},
    parsers = {},
    extensions = {},
    globalOptions = getDefaultOpts(true),
    setFlavor = 'vanilla',
    flavor = {
      github: {
        omitExtraWLInCodeBlocks:              true,
        simplifiedAutoLink:                   true,
        excludeTrailingPunctuationFromURLs:   true,
        literalMidWordUnderscores:            true,
        strikethrough:                        true,
        tables:                               true,
        tablesHeaderId:                       true,
        ghCodeBlocks:                         true,
        tasklists:                            true,
        disableForced4SpacesIndentedSublists: true,
        simpleLineBreaks:                     true,
        requireSpaceBeforeHeadingText:        true,
        ghCompatibleHeaderId:                 true,
        ghMentions:                           true,
        backslashEscapesHTMLTags:             true,
        emoji:                                true,
        splitAdjacentBlockquotes:             true
      },
      original: {
        noHeaderId:                           true,
        ghCodeBlocks:                         false
      },
      ghost: {
        omitExtraWLInCodeBlocks:              true,
        parseImgDimensions:                   true,
        simplifiedAutoLink:                   true,
        excludeTrailingPunctuationFromURLs:   true,
        literalMidWordUnderscores:            true,
        strikethrough:                        true,
        tables:                               true,
        tablesHeaderId:                       true,
        ghCodeBlocks:                         true,
        tasklists:                            true,
        smoothLivePreview:                    true,
        simpleLineBreaks:                     true,
        requireSpaceBeforeHeadingText:        true,
        ghMentions:                           false,
        encodeEmails:                         true
      },
      vanilla: getDefaultOpts(true),
      allOn: allOptionsOn()
    };

/**
 * helper namespace
 * @type {{}}
 */
showdown.helper = {};

/**
 * TODO LEGACY SUPPORT CODE
 * @type {{}}
 */
showdown.extensions = {};

/**
 * Set a global option
 * @static
 * @param {string} key
 * @param {*} value
 * @returns {showdown}
 */
showdown.setOption = function (key, value) {
  'use strict';
  globalOptions[key] = value;
  return this;
};

/**
 * Get a global option
 * @static
 * @param {string} key
 * @returns {*}
 */
showdown.getOption = function (key) {
  'use strict';
  return globalOptions[key];
};

/**
 * Get the global options
 * @static
 * @returns {{}}
 */
showdown.getOptions = function () {
  'use strict';
  return globalOptions;
};

/**
 * Reset global options to the default values
 * @static
 */
showdown.resetOptions = function () {
  'use strict';
  globalOptions = getDefaultOpts(true);
};

/**
 * Set the flavor showdown should use as default
 * @param {string} name
 */
showdown.setFlavor = function (name) {
  'use strict';
  if (!flavor.hasOwnProperty(name)) {
    throw Error(name + ' flavor was not found');
  }
  showdown.resetOptions();
  var preset = flavor[name];
  setFlavor = name;
  for (var option in preset) {
    if (preset.hasOwnProperty(option)) {
      globalOptions[option] = preset[option];
    }
  }
};

/**
 * Get the currently set flavor
 * @returns {string}
 */
showdown.getFlavor = function () {
  'use strict';
  return setFlavor;
};

/**
 * Get the options of a specified flavor. Returns undefined if the flavor was not found
 * @param {string} name Name of the flavor
 * @returns {{}|undefined}
 */
showdown.getFlavorOptions = function (name) {
  'use strict';
  if (flavor.hasOwnProperty(name)) {
    return flavor[name];
  }
};

/**
 * Get the default options
 * @static
 * @param {boolean} [simple=true]
 * @returns {{}}
 */
showdown.getDefaultOptions = function (simple) {
  'use strict';
  return getDefaultOpts(simple);
};

/**
 * Get or set a subParser
 *
 * subParser(name)       - Get a registered subParser
 * subParser(name, func) - Register a subParser
 * @static
 * @param {string} name
 * @param {function} [func]
 * @returns {*}
 */
showdown.subParser = function (name, func) {
  'use strict';
  if (showdown.helper.isString(name)) {
    if (typeof func !== 'undefined') {
      parsers[name] = func;
    } else {
      if (parsers.hasOwnProperty(name)) {
        return parsers[name];
      } else {
        throw Error('SubParser named ' + name + ' not registered!');
      }
    }
  }
};

/**
 * Gets or registers an extension
 * @static
 * @param {string} name
 * @param {object|function=} ext
 * @returns {*}
 */
showdown.extension = function (name, ext) {
  'use strict';

  if (!showdown.helper.isString(name)) {
    throw Error('Extension \'name\' must be a string');
  }

  name = showdown.helper.stdExtName(name);

  // Getter
  if (showdown.helper.isUndefined(ext)) {
    if (!extensions.hasOwnProperty(name)) {
      throw Error('Extension named ' + name + ' is not registered!');
    }
    return extensions[name];

    // Setter
  } else {
    // Expand extension if it's wrapped in a function
    if (typeof ext === 'function') {
      ext = ext();
    }

    // Ensure extension is an array
    if (!showdown.helper.isArray(ext)) {
      ext = [ext];
    }

    var validExtension = validate(ext, name);

    if (validExtension.valid) {
      extensions[name] = ext;
    } else {
      throw Error(validExtension.error);
    }
  }
};

/**
 * Gets all extensions registered
 * @returns {{}}
 */
showdown.getAllExtensions = function () {
  'use strict';
  return extensions;
};

/**
 * Remove an extension
 * @param {string} name
 */
showdown.removeExtension = function (name) {
  'use strict';
  delete extensions[name];
};

/**
 * Removes all extensions
 */
showdown.resetExtensions = function () {
  'use strict';
  extensions = {};
};

/**
 * Validate extension
 * @param {array} extension
 * @param {string} name
 * @returns {{valid: boolean, error: string}}
 */
function validate (extension, name) {
  'use strict';

  var errMsg = (name) ? 'Error in ' + name + ' extension->' : 'Error in unnamed extension',
      ret = {
        valid: true,
        error: ''
      };

  if (!showdown.helper.isArray(extension)) {
    extension = [extension];
  }

  for (var i = 0; i < extension.length; ++i) {
    var baseMsg = errMsg + ' sub-extension ' + i + ': ',
        ext = extension[i];
    if (typeof ext !== 'object') {
      ret.valid = false;
      ret.error = baseMsg + 'must be an object, but ' + typeof ext + ' given';
      return ret;
    }

    if (!showdown.helper.isString(ext.type)) {
      ret.valid = false;
      ret.error = baseMsg + 'property "type" must be a string, but ' + typeof ext.type + ' given';
      return ret;
    }

    var type = ext.type = ext.type.toLowerCase();

    // normalize extension type
    if (type === 'language') {
      type = ext.type = 'lang';
    }

    if (type === 'html') {
      type = ext.type = 'output';
    }

    if (type !== 'lang' && type !== 'output' && type !== 'listener') {
      ret.valid = false;
      ret.error = baseMsg + 'type ' + type + ' is not recognized. Valid values: "lang/language", "output/html" or "listener"';
      return ret;
    }

    if (type === 'listener') {
      if (showdown.helper.isUndefined(ext.listeners)) {
        ret.valid = false;
        ret.error = baseMsg + '. Extensions of type "listener" must have a property called "listeners"';
        return ret;
      }
    } else {
      if (showdown.helper.isUndefined(ext.filter) && showdown.helper.isUndefined(ext.regex)) {
        ret.valid = false;
        ret.error = baseMsg + type + ' extensions must define either a "regex" property or a "filter" method';
        return ret;
      }
    }

    if (ext.listeners) {
      if (typeof ext.listeners !== 'object') {
        ret.valid = false;
        ret.error = baseMsg + '"listeners" property must be an object but ' + typeof ext.listeners + ' given';
        return ret;
      }
      for (var ln in ext.listeners) {
        if (ext.listeners.hasOwnProperty(ln)) {
          if (typeof ext.listeners[ln] !== 'function') {
            ret.valid = false;
            ret.error = baseMsg + '"listeners" property must be an hash of [event name]: [callback]. listeners.' + ln +
              ' must be a function but ' + typeof ext.listeners[ln] + ' given';
            return ret;
          }
        }
      }
    }

    if (ext.filter) {
      if (typeof ext.filter !== 'function') {
        ret.valid = false;
        ret.error = baseMsg + '"filter" must be a function, but ' + typeof ext.filter + ' given';
        return ret;
      }
    } else if (ext.regex) {
      if (showdown.helper.isString(ext.regex)) {
        ext.regex = new RegExp(ext.regex, 'g');
      }
      if (!(ext.regex instanceof RegExp)) {
        ret.valid = false;
        ret.error = baseMsg + '"regex" property must either be a string or a RegExp object, but ' + typeof ext.regex + ' given';
        return ret;
      }
      if (showdown.helper.isUndefined(ext.replace)) {
        ret.valid = false;
        ret.error = baseMsg + '"regex" extensions must implement a replace string or function';
        return ret;
      }
    }
  }
  return ret;
}

/**
 * Validate extension
 * @param {object} ext
 * @returns {boolean}
 */
showdown.validateExtension = function (ext) {
  'use strict';

  var validateExtension = validate(ext, null);
  if (!validateExtension.valid) {
    console.warn(validateExtension.error);
    return false;
  }
  return true;
};

/**
 * showdownjs helper functions
 */

if (!showdown.hasOwnProperty('helper')) {
  showdown.helper = {};
}

/**
 * Check if var is string
 * @static
 * @param {string} a
 * @returns {boolean}
 */
showdown.helper.isString = function (a) {
  'use strict';
  return (typeof a === 'string' || a instanceof String);
};

/**
 * Check if var is a function
 * @static
 * @param {*} a
 * @returns {boolean}
 */
showdown.helper.isFunction = function (a) {
  'use strict';
  var getType = {};
  return a && getType.toString.call(a) === '[object Function]';
};

/**
 * isArray helper function
 * @static
 * @param {*} a
 * @returns {boolean}
 */
showdown.helper.isArray = function (a) {
  'use strict';
  return Array.isArray(a);
};

/**
 * Check if value is undefined
 * @static
 * @param {*} value The value to check.
 * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.
 */
showdown.helper.isUndefined = function (value) {
  'use strict';
  return typeof value === 'undefined';
};

/**
 * ForEach helper function
 * Iterates over Arrays and Objects (own properties only)
 * @static
 * @param {*} obj
 * @param {function} callback Accepts 3 params: 1. value, 2. key, 3. the original array/object
 */
showdown.helper.forEach = function (obj, callback) {
  'use strict';
  // check if obj is defined
  if (showdown.helper.isUndefined(obj)) {
    throw new Error('obj param is required');
  }

  if (showdown.helper.isUndefined(callback)) {
    throw new Error('callback param is required');
  }

  if (!showdown.helper.isFunction(callback)) {
    throw new Error('callback param must be a function/closure');
  }

  if (typeof obj.forEach === 'function') {
    obj.forEach(callback);
  } else if (showdown.helper.isArray(obj)) {
    for (var i = 0; i < obj.length; i++) {
      callback(obj[i], i, obj);
    }
  } else if (typeof (obj) === 'object') {
    for (var prop in obj) {
      if (obj.hasOwnProperty(prop)) {
        callback(obj[prop], prop, obj);
      }
    }
  } else {
    throw new Error('obj does not seem to be an array or an iterable object');
  }
};

/**
 * Standardidize extension name
 * @static
 * @param {string} s extension name
 * @returns {string}
 */
showdown.helper.stdExtName = function (s) {
  'use strict';
  return s.replace(/[_?*+\/\\.^-]/g, '').replace(/\s/g, '').toLowerCase();
};

function escapeCharactersCallback (wholeMatch, m1) {
  'use strict';
  var charCodeToEscape = m1.charCodeAt(0);
  return '¨E' + charCodeToEscape + 'E';
}

/**
 * Callback used to escape characters when passing through String.replace
 * @static
 * @param {string} wholeMatch
 * @param {string} m1
 * @returns {string}
 */
showdown.helper.escapeCharactersCallback = escapeCharactersCallback;

/**
 * Escape characters in a string
 * @static
 * @param {string} text
 * @param {string} charsToEscape
 * @param {boolean} afterBackslash
 * @returns {XML|string|void|*}
 */
showdown.helper.escapeCharacters = function (text, charsToEscape, afterBackslash) {
  'use strict';
  // First we have to escape the escape characters so that
  // we can build a character class out of them
  var regexString = '([' + charsToEscape.replace(/([\[\]\\])/g, '\\$1') + '])';

  if (afterBackslash) {
    regexString = '\\\\' + regexString;
  }

  var regex = new RegExp(regexString, 'g');
  text = text.replace(regex, escapeCharactersCallback);

  return text;
};

var rgxFindMatchPos = function (str, left, right, flags) {
  'use strict';
  var f = flags || '',
      g = f.indexOf('g') > -1,
      x = new RegExp(left + '|' + right, 'g' + f.replace(/g/g, '')),
      l = new RegExp(left, f.replace(/g/g, '')),
      pos = [],
      t, s, m, start, end;

  do {
    t = 0;
    while ((m = x.exec(str))) {
      if (l.test(m[0])) {
        if (!(t++)) {
          s = x.lastIndex;
          start = s - m[0].length;
        }
      } else if (t) {
        if (!--t) {
          end = m.index + m[0].length;
          var obj = {
            left: {start: start, end: s},
            match: {start: s, end: m.index},
            right: {start: m.index, end: end},
            wholeMatch: {start: start, end: end}
          };
          pos.push(obj);
          if (!g) {
            return pos;
          }
        }
      }
    }
  } while (t && (x.lastIndex = s));

  return pos;
};

/**
 * matchRecursiveRegExp
 *
 * (c) 2007 Steven Levithan <stevenlevithan.com>
 * MIT License
 *
 * Accepts a string to search, a left and right format delimiter
 * as regex patterns, and optional regex flags. Returns an array
 * of matches, allowing nested instances of left/right delimiters.
 * Use the "g" flag to return all matches, otherwise only the
 * first is returned. Be careful to ensure that the left and
 * right format delimiters produce mutually exclusive matches.
 * Backreferences are not supported within the right delimiter
 * due to how it is internally combined with the left delimiter.
 * When matching strings whose format delimiters are unbalanced
 * to the left or right, the output is intentionally as a
 * conventional regex library with recursion support would
 * produce, e.g. "<<x>" and "<x>>" both produce ["x"] when using
 * "<" and ">" as the delimiters (both strings contain a single,
 * balanced instance of "<x>").
 *
 * examples:
 * matchRecursiveRegExp("test", "\\(", "\\)")
 * returns: []
 * matchRecursiveRegExp("<t<<e>><s>>t<>", "<", ">", "g")
 * returns: ["t<<e>><s>", ""]
 * matchRecursiveRegExp("<div id=\"x\">test</div>", "<div\\b[^>]*>", "</div>", "gi")
 * returns: ["test"]
 */
showdown.helper.matchRecursiveRegExp = function (str, left, right, flags) {
  'use strict';

  var matchPos = rgxFindMatchPos (str, left, right, flags),
      results = [];

  for (var i = 0; i < matchPos.length; ++i) {
    results.push([
      str.slice(matchPos[i].wholeMatch.start, matchPos[i].wholeMatch.end),
      str.slice(matchPos[i].match.start, matchPos[i].match.end),
      str.slice(matchPos[i].left.start, matchPos[i].left.end),
      str.slice(matchPos[i].right.start, matchPos[i].right.end)
    ]);
  }
  return results;
};

/**
 *
 * @param {string} str
 * @param {string|function} replacement
 * @param {string} left
 * @param {string} right
 * @param {string} flags
 * @returns {string}
 */
showdown.helper.replaceRecursiveRegExp = function (str, replacement, left, right, flags) {
  'use strict';

  if (!showdown.helper.isFunction(replacement)) {
    var repStr = replacement;
    replacement = function () {
      return repStr;
    };
  }

  var matchPos = rgxFindMatchPos(str, left, right, flags),
      finalStr = str,
      lng = matchPos.length;

  if (lng > 0) {
    var bits = [];
    if (matchPos[0].wholeMatch.start !== 0) {
      bits.push(str.slice(0, matchPos[0].wholeMatch.start));
    }
    for (var i = 0; i < lng; ++i) {
      bits.push(
        replacement(
          str.slice(matchPos[i].wholeMatch.start, matchPos[i].wholeMatch.end),
          str.slice(matchPos[i].match.start, matchPos[i].match.end),
          str.slice(matchPos[i].left.start, matchPos[i].left.end),
          str.slice(matchPos[i].right.start, matchPos[i].right.end)
        )
      );
      if (i < lng - 1) {
        bits.push(str.slice(matchPos[i].wholeMatch.end, matchPos[i + 1].wholeMatch.start));
      }
    }
    if (matchPos[lng - 1].wholeMatch.end < str.length) {
      bits.push(str.slice(matchPos[lng - 1].wholeMatch.end));
    }
    finalStr = bits.join('');
  }
  return finalStr;
};

/**
 * Returns the index within the passed String object of the first occurrence of the specified regex,
 * starting the search at fromIndex. Returns -1 if the value is not found.
 *
 * @param {string} str string to search
 * @param {RegExp} regex Regular expression to search
 * @param {int} [fromIndex = 0] Index to start the search
 * @returns {Number}
 * @throws InvalidArgumentError
 */
showdown.helper.regexIndexOf = function (str, regex, fromIndex) {
  'use strict';
  if (!showdown.helper.isString(str)) {
    throw 'InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string';
  }
  if (regex instanceof RegExp === false) {
    throw 'InvalidArgumentError: second parameter of showdown.helper.regexIndexOf function must be an instance of RegExp';
  }
  var indexOf = str.substring(fromIndex || 0).search(regex);
  return (indexOf >= 0) ? (indexOf + (fromIndex || 0)) : indexOf;
};

/**
 * Splits the passed string object at the defined index, and returns an array composed of the two substrings
 * @param {string} str string to split
 * @param {int} index index to split string at
 * @returns {[string,string]}
 * @throws InvalidArgumentError
 */
showdown.helper.splitAtIndex = function (str, index) {
  'use strict';
  if (!showdown.helper.isString(str)) {
    throw 'InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string';
  }
  return [str.substring(0, index), str.substring(index)];
};

/**
 * Obfuscate an e-mail address through the use of Character Entities,
 * transforming ASCII characters into their equivalent decimal or hex entities.
 *
 * Since it has a random component, subsequent calls to this function produce different results
 *
 * @param {string} mail
 * @returns {string}
 */
showdown.helper.encodeEmailAddress = function (mail) {
  'use strict';
  var encode = [
    function (ch) {
      return '&#' + ch.charCodeAt(0) + ';';
    },
    function (ch) {
      return '&#x' + ch.charCodeAt(0).toString(16) + ';';
    },
    function (ch) {
      return ch;
    }
  ];

  mail = mail.replace(/./g, function (ch) {
    if (ch === '@') {
      // this *must* be encoded. I insist.
      ch = encode[Math.floor(Math.random() * 2)](ch);
    } else {
      var r = Math.random();
      // roughly 10% raw, 45% hex, 45% dec
      ch = (
        r > 0.9 ? encode[2](ch) : r > 0.45 ? encode[1](ch) : encode[0](ch)
      );
    }
    return ch;
  });

  return mail;
};

/**
 * POLYFILLS
 */
// use this instead of builtin is undefined for IE8 compatibility
if (typeof(console) === 'undefined') {
  console = {
    warn: function (msg) {
      'use strict';
      alert(msg);
    },
    log: function (msg) {
      'use strict';
      alert(msg);
    },
    error: function (msg) {
      'use strict';
      throw msg;
    }
  };
}

/**
 * Common regexes.
 * We declare some common regexes to improve performance
 */
showdown.helper.regexes = {
  asteriskDashAndColon: /([*_:~])/g
};

/**
 * EMOJIS LIST
 */
showdown.helper.emojis = {
  '+1':'\ud83d\udc4d',
  '-1':'\ud83d\udc4e',
  '100':'\ud83d\udcaf',
  '1234':'\ud83d\udd22',
  '1st_place_medal':'\ud83e\udd47',
  '2nd_place_medal':'\ud83e\udd48',
  '3rd_place_medal':'\ud83e\udd49',
  '8ball':'\ud83c\udfb1',
  'a':'\ud83c\udd70\ufe0f',
  'ab':'\ud83c\udd8e',
  'abc':'\ud83d\udd24',
  'abcd':'\ud83d\udd21',
  'accept':'\ud83c\ude51',
  'aerial_tramway':'\ud83d\udea1',
  'airplane':'\u2708\ufe0f',
  'alarm_clock':'\u23f0',
  'alembic':'\u2697\ufe0f',
  'alien':'\ud83d\udc7d',
  'ambulance':'\ud83d\ude91',
  'amphora':'\ud83c\udffa',
  'anchor':'\u2693\ufe0f',
  'angel':'\ud83d\udc7c',
  'anger':'\ud83d\udca2',
  'angry':'\ud83d\ude20',
  'anguished':'\ud83d\ude27',
  'ant':'\ud83d\udc1c',
  'apple':'\ud83c\udf4e',
  'aquarius':'\u2652\ufe0f',
  'aries':'\u2648\ufe0f',
  'arrow_backward':'\u25c0\ufe0f',
  'arrow_double_down':'\u23ec',
  'arrow_double_up':'\u23eb',
  'arrow_down':'\u2b07\ufe0f',
  'arrow_down_small':'\ud83d\udd3d',
  'arrow_forward':'\u25b6\ufe0f',
  'arrow_heading_down':'\u2935\ufe0f',
  'arrow_heading_up':'\u2934\ufe0f',
  'arrow_left':'\u2b05\ufe0f',
  'arrow_lower_left':'\u2199\ufe0f',
  'arrow_lower_right':'\u2198\ufe0f',
  'arrow_right':'\u27a1\ufe0f',
  'arrow_right_hook':'\u21aa\ufe0f',
  'arrow_up':'\u2b06\ufe0f',
  'arrow_up_down':'\u2195\ufe0f',
  'arrow_up_small':'\ud83d\udd3c',
  'arrow_upper_left':'\u2196\ufe0f',
  'arrow_upper_right':'\u2197\ufe0f',
  'arrows_clockwise':'\ud83d\udd03',
  'arrows_counterclockwise':'\ud83d\udd04',
  'art':'\ud83c\udfa8',
  'articulated_lorry':'\ud83d\ude9b',
  'artificial_satellite':'\ud83d\udef0',
  'astonished':'\ud83d\ude32',
  'athletic_shoe':'\ud83d\udc5f',
  'atm':'\ud83c\udfe7',
  'atom_symbol':'\u269b\ufe0f',
  'avocado':'\ud83e\udd51',
  'b':'\ud83c\udd71\ufe0f',
  'baby':'\ud83d\udc76',
  'baby_bottle':'\ud83c\udf7c',
  'baby_chick':'\ud83d\udc24',
  'baby_symbol':'\ud83d\udebc',
  'back':'\ud83d\udd19',
  'bacon':'\ud83e\udd53',
  'badminton':'\ud83c\udff8',
  'baggage_claim':'\ud83d\udec4',
  'baguette_bread':'\ud83e\udd56',
  'balance_scale':'\u2696\ufe0f',
  'balloon':'\ud83c\udf88',
  'ballot_box':'\ud83d\uddf3',
  'ballot_box_with_check':'\u2611\ufe0f',
  'bamboo':'\ud83c\udf8d',
  'banana':'\ud83c\udf4c',
  'bangbang':'\u203c\ufe0f',
  'bank':'\ud83c\udfe6',
  'bar_chart':'\ud83d\udcca',
  'barber':'\ud83d\udc88',
  'baseball':'\u26be\ufe0f',
  'basketball':'\ud83c\udfc0',
  'basketball_man':'\u26f9\ufe0f',
  'basketball_woman':'\u26f9\ufe0f&zwj;\u2640\ufe0f',
  'bat':'\ud83e\udd87',
  'bath':'\ud83d\udec0',
  'bathtub':'\ud83d\udec1',
  'battery':'\ud83d\udd0b',
  'beach_umbrella':'\ud83c\udfd6',
  'bear':'\ud83d\udc3b',
  'bed':'\ud83d\udecf',
  'bee':'\ud83d\udc1d',
  'beer':'\ud83c\udf7a',
  'beers':'\ud83c\udf7b',
  'beetle':'\ud83d\udc1e',
  'beginner':'\ud83d\udd30',
  'bell':'\ud83d\udd14',
  'bellhop_bell':'\ud83d\udece',
  'bento':'\ud83c\udf71',
  'biking_man':'\ud83d\udeb4',
  'bike':'\ud83d\udeb2',
  'biking_woman':'\ud83d\udeb4&zwj;\u2640\ufe0f',
  'bikini':'\ud83d\udc59',
  'biohazard':'\u2623\ufe0f',
  'bird':'\ud83d\udc26',
  'birthday':'\ud83c\udf82',
  'black_circle':'\u26ab\ufe0f',
  'black_flag':'\ud83c\udff4',
  'black_heart':'\ud83d\udda4',
  'black_joker':'\ud83c\udccf',
  'black_large_square':'\u2b1b\ufe0f',
  'black_medium_small_square':'\u25fe\ufe0f',
  'black_medium_square':'\u25fc\ufe0f',
  'black_nib':'\u2712\ufe0f',
  'black_small_square':'\u25aa\ufe0f',
  'black_square_button':'\ud83d\udd32',
  'blonde_man':'\ud83d\udc71',
  'blonde_woman':'\ud83d\udc71&zwj;\u2640\ufe0f',
  'blossom':'\ud83c\udf3c',
  'blowfish':'\ud83d\udc21',
  'blue_book':'\ud83d\udcd8',
  'blue_car':'\ud83d\ude99',
  'blue_heart':'\ud83d\udc99',
  'blush':'\ud83d\ude0a',
  'boar':'\ud83d\udc17',
  'boat':'\u26f5\ufe0f',
  'bomb':'\ud83d\udca3',
  'book':'\ud83d\udcd6',
  'bookmark':'\ud83d\udd16',
  'bookmark_tabs':'\ud83d\udcd1',
  'books':'\ud83d\udcda',
  'boom':'\ud83d\udca5',
  'boot':'\ud83d\udc62',
  'bouquet':'\ud83d\udc90',
  'bowing_man':'\ud83d\ude47',
  'bow_and_arrow':'\ud83c\udff9',
  'bowing_woman':'\ud83d\ude47&zwj;\u2640\ufe0f',
  'bowling':'\ud83c\udfb3',
  'boxing_glove':'\ud83e\udd4a',
  'boy':'\ud83d\udc66',
  'bread':'\ud83c\udf5e',
  'bride_with_veil':'\ud83d\udc70',
  'bridge_at_night':'\ud83c\udf09',
  'briefcase':'\ud83d\udcbc',
  'broken_heart':'\ud83d\udc94',
  'bug':'\ud83d\udc1b',
  'building_construction':'\ud83c\udfd7',
  'bulb':'\ud83d\udca1',
  'bullettrain_front':'\ud83d\ude85',
  'bullettrain_side':'\ud83d\ude84',
  'burrito':'\ud83c\udf2f',
  'bus':'\ud83d\ude8c',
  'business_suit_levitating':'\ud83d\udd74',
  'busstop':'\ud83d\ude8f',
  'bust_in_silhouette':'\ud83d\udc64',
  'busts_in_silhouette':'\ud83d\udc65',
  'butterfly':'\ud83e\udd8b',
  'cactus':'\ud83c\udf35',
  'cake':'\ud83c\udf70',
  'calendar':'\ud83d\udcc6',
  'call_me_hand':'\ud83e\udd19',
  'calling':'\ud83d\udcf2',
  'camel':'\ud83d\udc2b',
  'camera':'\ud83d\udcf7',
  'camera_flash':'\ud83d\udcf8',
  'camping':'\ud83c\udfd5',
  'cancer':'\u264b\ufe0f',
  'candle':'\ud83d\udd6f',
  'candy':'\ud83c\udf6c',
  'canoe':'\ud83d\udef6',
  'capital_abcd':'\ud83d\udd20',
  'capricorn':'\u2651\ufe0f',
  'car':'\ud83d\ude97',
  'card_file_box':'\ud83d\uddc3',
  'card_index':'\ud83d\udcc7',
  'card_index_dividers':'\ud83d\uddc2',
  'carousel_horse':'\ud83c\udfa0',
  'carrot':'\ud83e\udd55',
  'cat':'\ud83d\udc31',
  'cat2':'\ud83d\udc08',
  'cd':'\ud83d\udcbf',
  'chains':'\u26d3',
  'champagne':'\ud83c\udf7e',
  'chart':'\ud83d\udcb9',
  'chart_with_downwards_trend':'\ud83d\udcc9',
  'chart_with_upwards_trend':'\ud83d\udcc8',
  'checkered_flag':'\ud83c\udfc1',
  'cheese':'\ud83e\uddc0',
  'cherries':'\ud83c\udf52',
  'cherry_blossom':'\ud83c\udf38',
  'chestnut':'\ud83c\udf30',
  'chicken':'\ud83d\udc14',
  'children_crossing':'\ud83d\udeb8',
  'chipmunk':'\ud83d\udc3f',
  'chocolate_bar':'\ud83c\udf6b',
  'christmas_tree':'\ud83c\udf84',
  'church':'\u26ea\ufe0f',
  'cinema':'\ud83c\udfa6',
  'circus_tent':'\ud83c\udfaa',
  'city_sunrise':'\ud83c\udf07',
  'city_sunset':'\ud83c\udf06',
  'cityscape':'\ud83c\udfd9',
  'cl':'\ud83c\udd91',
  'clamp':'\ud83d\udddc',
  'clap':'\ud83d\udc4f',
  'clapper':'\ud83c\udfac',
  'classical_building':'\ud83c\udfdb',
  'clinking_glasses':'\ud83e\udd42',
  'clipboard':'\ud83d\udccb',
  'clock1':'\ud83d\udd50',
  'clock10':'\ud83d\udd59',
  'clock1030':'\ud83d\udd65',
  'clock11':'\ud83d\udd5a',
  'clock1130':'\ud83d\udd66',
  'clock12':'\ud83d\udd5b',
  'clock1230':'\ud83d\udd67',
  'clock130':'\ud83d\udd5c',
  'clock2':'\ud83d\udd51',
  'clock230':'\ud83d\udd5d',
  'clock3':'\ud83d\udd52',
  'clock330':'\ud83d\udd5e',
  'clock4':'\ud83d\udd53',
  'clock430':'\ud83d\udd5f',
  'clock5':'\ud83d\udd54',
  'clock530':'\ud83d\udd60',
  'clock6':'\ud83d\udd55',
  'clock630':'\ud83d\udd61',
  'clock7':'\ud83d\udd56',
  'clock730':'\ud83d\udd62',
  'clock8':'\ud83d\udd57',
  'clock830':'\ud83d\udd63',
  'clock9':'\ud83d\udd58',
  'clock930':'\ud83d\udd64',
  'closed_book':'\ud83d\udcd5',
  'closed_lock_with_key':'\ud83d\udd10',
  'closed_umbrella':'\ud83c\udf02',
  'cloud':'\u2601\ufe0f',
  'cloud_with_lightning':'\ud83c\udf29',
  'cloud_with_lightning_and_rain':'\u26c8',
  'cloud_with_rain':'\ud83c\udf27',
  'cloud_with_snow':'\ud83c\udf28',
  'clown_face':'\ud83e\udd21',
  'clubs':'\u2663\ufe0f',
  'cocktail':'\ud83c\udf78',
  'coffee':'\u2615\ufe0f',
  'coffin':'\u26b0\ufe0f',
  'cold_sweat':'\ud83d\ude30',
  'comet':'\u2604\ufe0f',
  'computer':'\ud83d\udcbb',
  'computer_mouse':'\ud83d\uddb1',
  'confetti_ball':'\ud83c\udf8a',
  'confounded':'\ud83d\ude16',
  'confused':'\ud83d\ude15',
  'congratulations':'\u3297\ufe0f',
  'construction':'\ud83d\udea7',
  'construction_worker_man':'\ud83d\udc77',
  'construction_worker_woman':'\ud83d\udc77&zwj;\u2640\ufe0f',
  'control_knobs':'\ud83c\udf9b',
  'convenience_store':'\ud83c\udfea',
  'cookie':'\ud83c\udf6a',
  'cool':'\ud83c\udd92',
  'policeman':'\ud83d\udc6e',
  'copyright':'\u00a9\ufe0f',
  'corn':'\ud83c\udf3d',
  'couch_and_lamp':'\ud83d\udecb',
  'couple':'\ud83d\udc6b',
  'couple_with_heart_woman_man':'\ud83d\udc91',
  'couple_with_heart_man_man':'\ud83d\udc68&zwj;\u2764\ufe0f&zwj;\ud83d\udc68',
  'couple_with_heart_woman_woman':'\ud83d\udc69&zwj;\u2764\ufe0f&zwj;\ud83d\udc69',
  'couplekiss_man_man':'\ud83d\udc68&zwj;\u2764\ufe0f&zwj;\ud83d\udc8b&zwj;\ud83d\udc68',
  'couplekiss_man_woman':'\ud83d\udc8f',
  'couplekiss_woman_woman':'\ud83d\udc69&zwj;\u2764\ufe0f&zwj;\ud83d\udc8b&zwj;\ud83d\udc69',
  'cow':'\ud83d\udc2e',
  'cow2':'\ud83d\udc04',
  'cowboy_hat_face':'\ud83e\udd20',
  'crab':'\ud83e\udd80',
  'crayon':'\ud83d\udd8d',
  'credit_card':'\ud83d\udcb3',
  'crescent_moon':'\ud83c\udf19',
  'cricket':'\ud83c\udfcf',
  'crocodile':'\ud83d\udc0a',
  'croissant':'\ud83e\udd50',
  'crossed_fingers':'\ud83e\udd1e',
  'crossed_flags':'\ud83c\udf8c',
  'crossed_swords':'\u2694\ufe0f',
  'crown':'\ud83d\udc51',
  'cry':'\ud83d\ude22',
  'crying_cat_face':'\ud83d\ude3f',
  'crystal_ball':'\ud83d\udd2e',
  'cucumber':'\ud83e\udd52',
  'cupid':'\ud83d\udc98',
  'curly_loop':'\u27b0',
  'currency_exchange':'\ud83d\udcb1',
  'curry':'\ud83c\udf5b',
  'custard':'\ud83c\udf6e',
  'customs':'\ud83d\udec3',
  'cyclone':'\ud83c\udf00',
  'dagger':'\ud83d\udde1',
  'dancer':'\ud83d\udc83',
  'dancing_women':'\ud83d\udc6f',
  'dancing_men':'\ud83d\udc6f&zwj;\u2642\ufe0f',
  'dango':'\ud83c\udf61',
  'dark_sunglasses':'\ud83d\udd76',
  'dart':'\ud83c\udfaf',
  'dash':'\ud83d\udca8',
  'date':'\ud83d\udcc5',
  'deciduous_tree':'\ud83c\udf33',
  'deer':'\ud83e\udd8c',
  'department_store':'\ud83c\udfec',
  'derelict_house':'\ud83c\udfda',
  'desert':'\ud83c\udfdc',
  'desert_island':'\ud83c\udfdd',
  'desktop_computer':'\ud83d\udda5',
  'male_detective':'\ud83d\udd75\ufe0f',
  'diamond_shape_with_a_dot_inside':'\ud83d\udca0',
  'diamonds':'\u2666\ufe0f',
  'disappointed':'\ud83d\ude1e',
  'disappointed_relieved':'\ud83d\ude25',
  'dizzy':'\ud83d\udcab',
  'dizzy_face':'\ud83d\ude35',
  'do_not_litter':'\ud83d\udeaf',
  'dog':'\ud83d\udc36',
  'dog2':'\ud83d\udc15',
  'dollar':'\ud83d\udcb5',
  'dolls':'\ud83c\udf8e',
  'dolphin':'\ud83d\udc2c',
  'door':'\ud83d\udeaa',
  'doughnut':'\ud83c\udf69',
  'dove':'\ud83d\udd4a',
  'dragon':'\ud83d\udc09',
  'dragon_face':'\ud83d\udc32',
  'dress':'\ud83d\udc57',
  'dromedary_camel':'\ud83d\udc2a',
  'drooling_face':'\ud83e\udd24',
  'droplet':'\ud83d\udca7',
  'drum':'\ud83e\udd41',
  'duck':'\ud83e\udd86',
  'dvd':'\ud83d\udcc0',
  'e-mail':'\ud83d\udce7',
  'eagle':'\ud83e\udd85',
  'ear':'\ud83d\udc42',
  'ear_of_rice':'\ud83c\udf3e',
  'earth_africa':'\ud83c\udf0d',
  'earth_americas':'\ud83c\udf0e',
  'earth_asia':'\ud83c\udf0f',
  'egg':'\ud83e\udd5a',
  'eggplant':'\ud83c\udf46',
  'eight_pointed_black_star':'\u2734\ufe0f',
  'eight_spoked_asterisk':'\u2733\ufe0f',
  'electric_plug':'\ud83d\udd0c',
  'elephant':'\ud83d\udc18',
  'email':'\u2709\ufe0f',
  'end':'\ud83d\udd1a',
  'envelope_with_arrow':'\ud83d\udce9',
  'euro':'\ud83d\udcb6',
  'european_castle':'\ud83c\udff0',
  'european_post_office':'\ud83c\udfe4',
  'evergreen_tree':'\ud83c\udf32',
  'exclamation':'\u2757\ufe0f',
  'expressionless':'\ud83d\ude11',
  'eye':'\ud83d\udc41',
  'eye_speech_bubble':'\ud83d\udc41&zwj;\ud83d\udde8',
  'eyeglasses':'\ud83d\udc53',
  'eyes':'\ud83d\udc40',
  'face_with_head_bandage':'\ud83e\udd15',
  'face_with_thermometer':'\ud83e\udd12',
  'fist_oncoming':'\ud83d\udc4a',
  'factory':'\ud83c\udfed',
  'fallen_leaf':'\ud83c\udf42',
  'family_man_woman_boy':'\ud83d\udc6a',
  'family_man_boy':'\ud83d\udc68&zwj;\ud83d\udc66',
  'family_man_boy_boy':'\ud83d\udc68&zwj;\ud83d\udc66&zwj;\ud83d\udc66',
  'family_man_girl':'\ud83d\udc68&zwj;\ud83d\udc67',
  'family_man_girl_boy':'\ud83d\udc68&zwj;\ud83d\udc67&zwj;\ud83d\udc66',
  'family_man_girl_girl':'\ud83d\udc68&zwj;\ud83d\udc67&zwj;\ud83d\udc67',
  'family_man_man_boy':'\ud83d\udc68&zwj;\ud83d\udc68&zwj;\ud83d\udc66',
  'family_man_man_boy_boy':'\ud83d\udc68&zwj;\ud83d\udc68&zwj;\ud83d\udc66&zwj;\ud83d\udc66',
  'family_man_man_girl':'\ud83d\udc68&zwj;\ud83d\udc68&zwj;\ud83d\udc67',
  'family_man_man_girl_boy':'\ud83d\udc68&zwj;\ud83d\udc68&zwj;\ud83d\udc67&zwj;\ud83d\udc66',
  'family_man_man_girl_girl':'\ud83d\udc68&zwj;\ud83d\udc68&zwj;\ud83d\udc67&zwj;\ud83d\udc67',
  'family_man_woman_boy_boy':'\ud83d\udc68&zwj;\ud83d\udc69&zwj;\ud83d\udc66&zwj;\ud83d\udc66',
  'family_man_woman_girl':'\ud83d\udc68&zwj;\ud83d\udc69&zwj;\ud83d\udc67',
  'family_man_woman_girl_boy':'\ud83d\udc68&zwj;\ud83d\udc69&zwj;\ud83d\udc67&zwj;\ud83d\udc66',
  'family_man_woman_girl_girl':'\ud83d\udc68&zwj;\ud83d\udc69&zwj;\ud83d\udc67&zwj;\ud83d\udc67',
  'family_woman_boy':'\ud83d\udc69&zwj;\ud83d\udc66',
  'family_woman_boy_boy':'\ud83d\udc69&zwj;\ud83d\udc66&zwj;\ud83d\udc66',
  'family_woman_girl':'\ud83d\udc69&zwj;\ud83d\udc67',
  'family_woman_girl_boy':'\ud83d\udc69&zwj;\ud83d\udc67&zwj;\ud83d\udc66',
  'family_woman_girl_girl':'\ud83d\udc69&zwj;\ud83d\udc67&zwj;\ud83d\udc67',
  'family_woman_woman_boy':'\ud83d\udc69&zwj;\ud83d\udc69&zwj;\ud83d\udc66',
  'family_woman_woman_boy_boy':'\ud83d\udc69&zwj;\ud83d\udc69&zwj;\ud83d\udc66&zwj;\ud83d\udc66',
  'family_woman_woman_girl':'\ud83d\udc69&zwj;\ud83d\udc69&zwj;\ud83d\udc67',
  'family_woman_woman_girl_boy':'\ud83d\udc69&zwj;\ud83d\udc69&zwj;\ud83d\udc67&zwj;\ud83d\udc66',
  'family_woman_woman_girl_girl':'\ud83d\udc69&zwj;\ud83d\udc69&zwj;\ud83d\udc67&zwj;\ud83d\udc67',
  'fast_forward':'\u23e9',
  'fax':'\ud83d\udce0',
  'fearful':'\ud83d\ude28',
  'feet':'\ud83d\udc3e',
  'female_detective':'\ud83d\udd75\ufe0f&zwj;\u2640\ufe0f',
  'ferris_wheel':'\ud83c\udfa1',
  'ferry':'\u26f4',
  'field_hockey':'\ud83c\udfd1',
  'file_cabinet':'\ud83d\uddc4',
  'file_folder':'\ud83d\udcc1',
  'film_projector':'\ud83d\udcfd',
  'film_strip':'\ud83c\udf9e',
  'fire':'\ud83d\udd25',
  'fire_engine':'\ud83d\ude92',
  'fireworks':'\ud83c\udf86',
  'first_quarter_moon':'\ud83c\udf13',
  'first_quarter_moon_with_face':'\ud83c\udf1b',
  'fish':'\ud83d\udc1f',
  'fish_cake':'\ud83c\udf65',
  'fishing_pole_and_fish':'\ud83c\udfa3',
  'fist_raised':'\u270a',
  'fist_left':'\ud83e\udd1b',
  'fist_right':'\ud83e\udd1c',
  'flags':'\ud83c\udf8f',
  'flashlight':'\ud83d\udd26',
  'fleur_de_lis':'\u269c\ufe0f',
  'flight_arrival':'\ud83d\udeec',
  'flight_departure':'\ud83d\udeeb',
  'floppy_disk':'\ud83d\udcbe',
  'flower_playing_cards':'\ud83c\udfb4',
  'flushed':'\ud83d\ude33',
  'fog':'\ud83c\udf2b',
  'foggy':'\ud83c\udf01',
  'football':'\ud83c\udfc8',
  'footprints':'\ud83d\udc63',
  'fork_and_knife':'\ud83c\udf74',
  'fountain':'\u26f2\ufe0f',
  'fountain_pen':'\ud83d\udd8b',
  'four_leaf_clover':'\ud83c\udf40',
  'fox_face':'\ud83e\udd8a',
  'framed_picture':'\ud83d\uddbc',
  'free':'\ud83c\udd93',
  'fried_egg':'\ud83c\udf73',
  'fried_shrimp':'\ud83c\udf64',
  'fries':'\ud83c\udf5f',
  'frog':'\ud83d\udc38',
  'frowning':'\ud83d\ude26',
  'frowning_face':'\u2639\ufe0f',
  'frowning_man':'\ud83d\ude4d&zwj;\u2642\ufe0f',
  'frowning_woman':'\ud83d\ude4d',
  'middle_finger':'\ud83d\udd95',
  'fuelpump':'\u26fd\ufe0f',
  'full_moon':'\ud83c\udf15',
  'full_moon_with_face':'\ud83c\udf1d',
  'funeral_urn':'\u26b1\ufe0f',
  'game_die':'\ud83c\udfb2',
  'gear':'\u2699\ufe0f',
  'gem':'\ud83d\udc8e',
  'gemini':'\u264a\ufe0f',
  'ghost':'\ud83d\udc7b',
  'gift':'\ud83c\udf81',
  'gift_heart':'\ud83d\udc9d',
  'girl':'\ud83d\udc67',
  'globe_with_meridians':'\ud83c\udf10',
  'goal_net':'\ud83e\udd45',
  'goat':'\ud83d\udc10',
  'golf':'\u26f3\ufe0f',
  'golfing_man':'\ud83c\udfcc\ufe0f',
  'golfing_woman':'\ud83c\udfcc\ufe0f&zwj;\u2640\ufe0f',
  'gorilla':'\ud83e\udd8d',
  'grapes':'\ud83c\udf47',
  'green_apple':'\ud83c\udf4f',
  'green_book':'\ud83d\udcd7',
  'green_heart':'\ud83d\udc9a',
  'green_salad':'\ud83e\udd57',
  'grey_exclamation':'\u2755',
  'grey_question':'\u2754',
  'grimacing':'\ud83d\ude2c',
  'grin':'\ud83d\ude01',
  'grinning':'\ud83d\ude00',
  'guardsman':'\ud83d\udc82',
  'guardswoman':'\ud83d\udc82&zwj;\u2640\ufe0f',
  'guitar':'\ud83c\udfb8',
  'gun':'\ud83d\udd2b',
  'haircut_woman':'\ud83d\udc87',
  'haircut_man':'\ud83d\udc87&zwj;\u2642\ufe0f',
  'hamburger':'\ud83c\udf54',
  'hammer':'\ud83d\udd28',
  'hammer_and_pick':'\u2692',
  'hammer_and_wrench':'\ud83d\udee0',
  'hamster':'\ud83d\udc39',
  'hand':'\u270b',
  'handbag':'\ud83d\udc5c',
  'handshake':'\ud83e\udd1d',
  'hankey':'\ud83d\udca9',
  'hatched_chick':'\ud83d\udc25',
  'hatching_chick':'\ud83d\udc23',
  'headphones':'\ud83c\udfa7',
  'hear_no_evil':'\ud83d\ude49',
  'heart':'\u2764\ufe0f',
  'heart_decoration':'\ud83d\udc9f',
  'heart_eyes':'\ud83d\ude0d',
  'heart_eyes_cat':'\ud83d\ude3b',
  'heartbeat':'\ud83d\udc93',
  'heartpulse':'\ud83d\udc97',
  'hearts':'\u2665\ufe0f',
  'heavy_check_mark':'\u2714\ufe0f',
  'heavy_division_sign':'\u2797',
  'heavy_dollar_sign':'\ud83d\udcb2',
  'heavy_heart_exclamation':'\u2763\ufe0f',
  'heavy_minus_sign':'\u2796',
  'heavy_multiplication_x':'\u2716\ufe0f',
  'heavy_plus_sign':'\u2795',
  'helicopter':'\ud83d\ude81',
  'herb':'\ud83c\udf3f',
  'hibiscus':'\ud83c\udf3a',
  'high_brightness':'\ud83d\udd06',
  'high_heel':'\ud83d\udc60',
  'hocho':'\ud83d\udd2a',
  'hole':'\ud83d\udd73',
  'honey_pot':'\ud83c\udf6f',
  'horse':'\ud83d\udc34',
  'horse_racing':'\ud83c\udfc7',
  'hospital':'\ud83c\udfe5',
  'hot_pepper':'\ud83c\udf36',
  'hotdog':'\ud83c\udf2d',
  'hotel':'\ud83c\udfe8',
  'hotsprings':'\u2668\ufe0f',
  'hourglass':'\u231b\ufe0f',
  'hourglass_flowing_sand':'\u23f3',
  'house':'\ud83c\udfe0',
  'house_with_garden':'\ud83c\udfe1',
  'houses':'\ud83c\udfd8',
  'hugs':'\ud83e\udd17',
  'hushed':'\ud83d\ude2f',
  'ice_cream':'\ud83c\udf68',
  'ice_hockey':'\ud83c\udfd2',
  'ice_skate':'\u26f8',
  'icecream':'\ud83c\udf66',
  'id':'\ud83c\udd94',
  'ideograph_advantage':'\ud83c\ude50',
  'imp':'\ud83d\udc7f',
  'inbox_tray':'\ud83d\udce5',
  'incoming_envelope':'\ud83d\udce8',
  'tipping_hand_woman':'\ud83d\udc81',
  'information_source':'\u2139\ufe0f',
  'innocent':'\ud83d\ude07',
  'interrobang':'\u2049\ufe0f',
  'iphone':'\ud83d\udcf1',
  'izakaya_lantern':'\ud83c\udfee',
  'jack_o_lantern':'\ud83c\udf83',
  'japan':'\ud83d\uddfe',
  'japanese_castle':'\ud83c\udfef',
  'japanese_goblin':'\ud83d\udc7a',
  'japanese_ogre':'\ud83d\udc79',
  'jeans':'\ud83d\udc56',
  'joy':'\ud83d\ude02',
  'joy_cat':'\ud83d\ude39',
  'joystick':'\ud83d\udd79',
  'kaaba':'\ud83d\udd4b',
  'key':'\ud83d\udd11',
  'keyboard':'\u2328\ufe0f',
  'keycap_ten':'\ud83d\udd1f',
  'kick_scooter':'\ud83d\udef4',
  'kimono':'\ud83d\udc58',
  'kiss':'\ud83d\udc8b',
  'kissing':'\ud83d\ude17',
  'kissing_cat':'\ud83d\ude3d',
  'kissing_closed_eyes':'\ud83d\ude1a',
  'kissing_heart':'\ud83d\ude18',
  'kissing_smiling_eyes':'\ud83d\ude19',
  'kiwi_fruit':'\ud83e\udd5d',
  'koala':'\ud83d\udc28',
  'koko':'\ud83c\ude01',
  'label':'\ud83c\udff7',
  'large_blue_circle':'\ud83d\udd35',
  'large_blue_diamond':'\ud83d\udd37',
  'large_orange_diamond':'\ud83d\udd36',
  'last_quarter_moon':'\ud83c\udf17',
  'last_quarter_moon_with_face':'\ud83c\udf1c',
  'latin_cross':'\u271d\ufe0f',
  'laughing':'\ud83d\ude06',
  'leaves':'\ud83c\udf43',
  'ledger':'\ud83d\udcd2',
  'left_luggage':'\ud83d\udec5',
  'left_right_arrow':'\u2194\ufe0f',
  'leftwards_arrow_with_hook':'\u21a9\ufe0f',
  'lemon':'\ud83c\udf4b',
  'leo':'\u264c\ufe0f',
  'leopard':'\ud83d\udc06',
  'level_slider':'\ud83c\udf9a',
  'libra':'\u264e\ufe0f',
  'light_rail':'\ud83d\ude88',
  'link':'\ud83d\udd17',
  'lion':'\ud83e\udd81',
  'lips':'\ud83d\udc44',
  'lipstick':'\ud83d\udc84',
  'lizard':'\ud83e\udd8e',
  'lock':'\ud83d\udd12',
  'lock_with_ink_pen':'\ud83d\udd0f',
  'lollipop':'\ud83c\udf6d',
  'loop':'\u27bf',
  'loud_sound':'\ud83d\udd0a',
  'loudspeaker':'\ud83d\udce2',
  'love_hotel':'\ud83c\udfe9',
  'love_letter':'\ud83d\udc8c',
  'low_brightness':'\ud83d\udd05',
  'lying_face':'\ud83e\udd25',
  'm':'\u24c2\ufe0f',
  'mag':'\ud83d\udd0d',
  'mag_right':'\ud83d\udd0e',
  'mahjong':'\ud83c\udc04\ufe0f',
  'mailbox':'\ud83d\udceb',
  'mailbox_closed':'\ud83d\udcea',
  'mailbox_with_mail':'\ud83d\udcec',
  'mailbox_with_no_mail':'\ud83d\udced',
  'man':'\ud83d\udc68',
  'man_artist':'\ud83d\udc68&zwj;\ud83c\udfa8',
  'man_astronaut':'\ud83d\udc68&zwj;\ud83d\ude80',
  'man_cartwheeling':'\ud83e\udd38&zwj;\u2642\ufe0f',
  'man_cook':'\ud83d\udc68&zwj;\ud83c\udf73',
  'man_dancing':'\ud83d\udd7a',
  'man_facepalming':'\ud83e\udd26&zwj;\u2642\ufe0f',
  'man_factory_worker':'\ud83d\udc68&zwj;\ud83c\udfed',
  'man_farmer':'\ud83d\udc68&zwj;\ud83c\udf3e',
  'man_firefighter':'\ud83d\udc68&zwj;\ud83d\ude92',
  'man_health_worker':'\ud83d\udc68&zwj;\u2695\ufe0f',
  'man_in_tuxedo':'\ud83e\udd35',
  'man_judge':'\ud83d\udc68&zwj;\u2696\ufe0f',
  'man_juggling':'\ud83e\udd39&zwj;\u2642\ufe0f',
  'man_mechanic':'\ud83d\udc68&zwj;\ud83d\udd27',
  'man_office_worker':'\ud83d\udc68&zwj;\ud83d\udcbc',
  'man_pilot':'\ud83d\udc68&zwj;\u2708\ufe0f',
  'man_playing_handball':'\ud83e\udd3e&zwj;\u2642\ufe0f',
  'man_playing_water_polo':'\ud83e\udd3d&zwj;\u2642\ufe0f',
  'man_scientist':'\ud83d\udc68&zwj;\ud83d\udd2c',
  'man_shrugging':'\ud83e\udd37&zwj;\u2642\ufe0f',
  'man_singer':'\ud83d\udc68&zwj;\ud83c\udfa4',
  'man_student':'\ud83d\udc68&zwj;\ud83c\udf93',
  'man_teacher':'\ud83d\udc68&zwj;\ud83c\udfeb',
  'man_technologist':'\ud83d\udc68&zwj;\ud83d\udcbb',
  'man_with_gua_pi_mao':'\ud83d\udc72',
  'man_with_turban':'\ud83d\udc73',
  'tangerine':'\ud83c\udf4a',
  'mans_shoe':'\ud83d\udc5e',
  'mantelpiece_clock':'\ud83d\udd70',
  'maple_leaf':'\ud83c\udf41',
  'martial_arts_uniform':'\ud83e\udd4b',
  'mask':'\ud83d\ude37',
  'massage_woman':'\ud83d\udc86',
  'massage_man':'\ud83d\udc86&zwj;\u2642\ufe0f',
  'meat_on_bone':'\ud83c\udf56',
  'medal_military':'\ud83c\udf96',
  'medal_sports':'\ud83c\udfc5',
  'mega':'\ud83d\udce3',
  'melon':'\ud83c\udf48',
  'memo':'\ud83d\udcdd',
  'men_wrestling':'\ud83e\udd3c&zwj;\u2642\ufe0f',
  'menorah':'\ud83d\udd4e',
  'mens':'\ud83d\udeb9',
  'metal':'\ud83e\udd18',
  'metro':'\ud83d\ude87',
  'microphone':'\ud83c\udfa4',
  'microscope':'\ud83d\udd2c',
  'milk_glass':'\ud83e\udd5b',
  'milky_way':'\ud83c\udf0c',
  'minibus':'\ud83d\ude90',
  'minidisc':'\ud83d\udcbd',
  'mobile_phone_off':'\ud83d\udcf4',
  'money_mouth_face':'\ud83e\udd11',
  'money_with_wings':'\ud83d\udcb8',
  'moneybag':'\ud83d\udcb0',
  'monkey':'\ud83d\udc12',
  'monkey_face':'\ud83d\udc35',
  'monorail':'\ud83d\ude9d',
  'moon':'\ud83c\udf14',
  'mortar_board':'\ud83c\udf93',
  'mosque':'\ud83d\udd4c',
  'motor_boat':'\ud83d\udee5',
  'motor_scooter':'\ud83d\udef5',
  'motorcycle':'\ud83c\udfcd',
  'motorway':'\ud83d\udee3',
  'mount_fuji':'\ud83d\uddfb',
  'mountain':'\u26f0',
  'mountain_biking_man':'\ud83d\udeb5',
  'mountain_biking_woman':'\ud83d\udeb5&zwj;\u2640\ufe0f',
  'mountain_cableway':'\ud83d\udea0',
  'mountain_railway':'\ud83d\ude9e',
  'mountain_snow':'\ud83c\udfd4',
  'mouse':'\ud83d\udc2d',
  'mouse2':'\ud83d\udc01',
  'movie_camera':'\ud83c\udfa5',
  'moyai':'\ud83d\uddff',
  'mrs_claus':'\ud83e\udd36',
  'muscle':'\ud83d\udcaa',
  'mushroom':'\ud83c\udf44',
  'musical_keyboard':'\ud83c\udfb9',
  'musical_note':'\ud83c\udfb5',
  'musical_score':'\ud83c\udfbc',
  'mute':'\ud83d\udd07',
  'nail_care':'\ud83d\udc85',
  'name_badge':'\ud83d\udcdb',
  'national_park':'\ud83c\udfde',
  'nauseated_face':'\ud83e\udd22',
  'necktie':'\ud83d\udc54',
  'negative_squared_cross_mark':'\u274e',
  'nerd_face':'\ud83e\udd13',
  'neutral_face':'\ud83d\ude10',
  'new':'\ud83c\udd95',
  'new_moon':'\ud83c\udf11',
  'new_moon_with_face':'\ud83c\udf1a',
  'newspaper':'\ud83d\udcf0',
  'newspaper_roll':'\ud83d\uddde',
  'next_track_button':'\u23ed',
  'ng':'\ud83c\udd96',
  'no_good_man':'\ud83d\ude45&zwj;\u2642\ufe0f',
  'no_good_woman':'\ud83d\ude45',
  'night_with_stars':'\ud83c\udf03',
  'no_bell':'\ud83d\udd15',
  'no_bicycles':'\ud83d\udeb3',
  'no_entry':'\u26d4\ufe0f',
  'no_entry_sign':'\ud83d\udeab',
  'no_mobile_phones':'\ud83d\udcf5',
  'no_mouth':'\ud83d\ude36',
  'no_pedestrians':'\ud83d\udeb7',
  'no_smoking':'\ud83d\udead',
  'non-potable_water':'\ud83d\udeb1',
  'nose':'\ud83d\udc43',
  'notebook':'\ud83d\udcd3',
  'notebook_with_decorative_cover':'\ud83d\udcd4',
  'notes':'\ud83c\udfb6',
  'nut_and_bolt':'\ud83d\udd29',
  'o':'\u2b55\ufe0f',
  'o2':'\ud83c\udd7e\ufe0f',
  'ocean':'\ud83c\udf0a',
  'octopus':'\ud83d\udc19',
  'oden':'\ud83c\udf62',
  'office':'\ud83c\udfe2',
  'oil_drum':'\ud83d\udee2',
  'ok':'\ud83c\udd97',
  'ok_hand':'\ud83d\udc4c',
  'ok_man':'\ud83d\ude46&zwj;\u2642\ufe0f',
  'ok_woman':'\ud83d\ude46',
  'old_key':'\ud83d\udddd',
  'older_man':'\ud83d\udc74',
  'older_woman':'\ud83d\udc75',
  'om':'\ud83d\udd49',
  'on':'\ud83d\udd1b',
  'oncoming_automobile':'\ud83d\ude98',
  'oncoming_bus':'\ud83d\ude8d',
  'oncoming_police_car':'\ud83d\ude94',
  'oncoming_taxi':'\ud83d\ude96',
  'open_file_folder':'\ud83d\udcc2',
  'open_hands':'\ud83d\udc50',
  'open_mouth':'\ud83d\ude2e',
  'open_umbrella':'\u2602\ufe0f',
  'ophiuchus':'\u26ce',
  'orange_book':'\ud83d\udcd9',
  'orthodox_cross':'\u2626\ufe0f',
  'outbox_tray':'\ud83d\udce4',
  'owl':'\ud83e\udd89',
  'ox':'\ud83d\udc02',
  'package':'\ud83d\udce6',
  'page_facing_up':'\ud83d\udcc4',
  'page_with_curl':'\ud83d\udcc3',
  'pager':'\ud83d\udcdf',
  'paintbrush':'\ud83d\udd8c',
  'palm_tree':'\ud83c\udf34',
  'pancakes':'\ud83e\udd5e',
  'panda_face':'\ud83d\udc3c',
  'paperclip':'\ud83d\udcce',
  'paperclips':'\ud83d\udd87',
  'parasol_on_ground':'\u26f1',
  'parking':'\ud83c\udd7f\ufe0f',
  'part_alternation_mark':'\u303d\ufe0f',
  'partly_sunny':'\u26c5\ufe0f',
  'passenger_ship':'\ud83d\udef3',
  'passport_control':'\ud83d\udec2',
  'pause_button':'\u23f8',
  'peace_symbol':'\u262e\ufe0f',
  'peach':'\ud83c\udf51',
  'peanuts':'\ud83e\udd5c',
  'pear':'\ud83c\udf50',
  'pen':'\ud83d\udd8a',
  'pencil2':'\u270f\ufe0f',
  'penguin':'\ud83d\udc27',
  'pensive':'\ud83d\ude14',
  'performing_arts':'\ud83c\udfad',
  'persevere':'\ud83d\ude23',
  'person_fencing':'\ud83e\udd3a',
  'pouting_woman':'\ud83d\ude4e',
  'phone':'\u260e\ufe0f',
  'pick':'\u26cf',
  'pig':'\ud83d\udc37',
  'pig2':'\ud83d\udc16',
  'pig_nose':'\ud83d\udc3d',
  'pill':'\ud83d\udc8a',
  'pineapple':'\ud83c\udf4d',
  'ping_pong':'\ud83c\udfd3',
  'pisces':'\u2653\ufe0f',
  'pizza':'\ud83c\udf55',
  'place_of_worship':'\ud83d\uded0',
  'plate_with_cutlery':'\ud83c\udf7d',
  'play_or_pause_button':'\u23ef',
  'point_down':'\ud83d\udc47',
  'point_left':'\ud83d\udc48',
  'point_right':'\ud83d\udc49',
  'point_up':'\u261d\ufe0f',
  'point_up_2':'\ud83d\udc46',
  'police_car':'\ud83d\ude93',
  'policewoman':'\ud83d\udc6e&zwj;\u2640\ufe0f',
  'poodle':'\ud83d\udc29',
  'popcorn':'\ud83c\udf7f',
  'post_office':'\ud83c\udfe3',
  'postal_horn':'\ud83d\udcef',
  'postbox':'\ud83d\udcee',
  'potable_water':'\ud83d\udeb0',
  'potato':'\ud83e\udd54',
  'pouch':'\ud83d\udc5d',
  'poultry_leg':'\ud83c\udf57',
  'pound':'\ud83d\udcb7',
  'rage':'\ud83d\ude21',
  'pouting_cat':'\ud83d\ude3e',
  'pouting_man':'\ud83d\ude4e&zwj;\u2642\ufe0f',
  'pray':'\ud83d\ude4f',
  'prayer_beads':'\ud83d\udcff',
  'pregnant_woman':'\ud83e\udd30',
  'previous_track_button':'\u23ee',
  'prince':'\ud83e\udd34',
  'princess':'\ud83d\udc78',
  'printer':'\ud83d\udda8',
  'purple_heart':'\ud83d\udc9c',
  'purse':'\ud83d\udc5b',
  'pushpin':'\ud83d\udccc',
  'put_litter_in_its_place':'\ud83d\udeae',
  'question':'\u2753',
  'rabbit':'\ud83d\udc30',
  'rabbit2':'\ud83d\udc07',
  'racehorse':'\ud83d\udc0e',
  'racing_car':'\ud83c\udfce',
  'radio':'\ud83d\udcfb',
  'radio_button':'\ud83d\udd18',
  'radioactive':'\u2622\ufe0f',
  'railway_car':'\ud83d\ude83',
  'railway_track':'\ud83d\udee4',
  'rainbow':'\ud83c\udf08',
  'rainbow_flag':'\ud83c\udff3\ufe0f&zwj;\ud83c\udf08',
  'raised_back_of_hand':'\ud83e\udd1a',
  'raised_hand_with_fingers_splayed':'\ud83d\udd90',
  'raised_hands':'\ud83d\ude4c',
  'raising_hand_woman':'\ud83d\ude4b',
  'raising_hand_man':'\ud83d\ude4b&zwj;\u2642\ufe0f',
  'ram':'\ud83d\udc0f',
  'ramen':'\ud83c\udf5c',
  'rat':'\ud83d\udc00',
  'record_button':'\u23fa',
  'recycle':'\u267b\ufe0f',
  'red_circle':'\ud83d\udd34',
  'registered':'\u00ae\ufe0f',
  'relaxed':'\u263a\ufe0f',
  'relieved':'\ud83d\ude0c',
  'reminder_ribbon':'\ud83c\udf97',
  'repeat':'\ud83d\udd01',
  'repeat_one':'\ud83d\udd02',
  'rescue_worker_helmet':'\u26d1',
  'restroom':'\ud83d\udebb',
  'revolving_hearts':'\ud83d\udc9e',
  'rewind':'\u23ea',
  'rhinoceros':'\ud83e\udd8f',
  'ribbon':'\ud83c\udf80',
  'rice':'\ud83c\udf5a',
  'rice_ball':'\ud83c\udf59',
  'rice_cracker':'\ud83c\udf58',
  'rice_scene':'\ud83c\udf91',
  'right_anger_bubble':'\ud83d\uddef',
  'ring':'\ud83d\udc8d',
  'robot':'\ud83e\udd16',
  'rocket':'\ud83d\ude80',
  'rofl':'\ud83e\udd23',
  'roll_eyes':'\ud83d\ude44',
  'roller_coaster':'\ud83c\udfa2',
  'rooster':'\ud83d\udc13',
  'rose':'\ud83c\udf39',
  'rosette':'\ud83c\udff5',
  'rotating_light':'\ud83d\udea8',
  'round_pushpin':'\ud83d\udccd',
  'rowing_man':'\ud83d\udea3',
  'rowing_woman':'\ud83d\udea3&zwj;\u2640\ufe0f',
  'rugby_football':'\ud83c\udfc9',
  'running_man':'\ud83c\udfc3',
  'running_shirt_with_sash':'\ud83c\udfbd',
  'running_woman':'\ud83c\udfc3&zwj;\u2640\ufe0f',
  'sa':'\ud83c\ude02\ufe0f',
  'sagittarius':'\u2650\ufe0f',
  'sake':'\ud83c\udf76',
  'sandal':'\ud83d\udc61',
  'santa':'\ud83c\udf85',
  'satellite':'\ud83d\udce1',
  'saxophone':'\ud83c\udfb7',
  'school':'\ud83c\udfeb',
  'school_satchel':'\ud83c\udf92',
  'scissors':'\u2702\ufe0f',
  'scorpion':'\ud83e\udd82',
  'scorpius':'\u264f\ufe0f',
  'scream':'\ud83d\ude31',
  'scream_cat':'\ud83d\ude40',
  'scroll':'\ud83d\udcdc',
  'seat':'\ud83d\udcba',
  'secret':'\u3299\ufe0f',
  'see_no_evil':'\ud83d\ude48',
  'seedling':'\ud83c\udf31',
  'selfie':'\ud83e\udd33',
  'shallow_pan_of_food':'\ud83e\udd58',
  'shamrock':'\u2618\ufe0f',
  'shark':'\ud83e\udd88',
  'shaved_ice':'\ud83c\udf67',
  'sheep':'\ud83d\udc11',
  'shell':'\ud83d\udc1a',
  'shield':'\ud83d\udee1',
  'shinto_shrine':'\u26e9',
  'ship':'\ud83d\udea2',
  'shirt':'\ud83d\udc55',
  'shopping':'\ud83d\udecd',
  'shopping_cart':'\ud83d\uded2',
  'shower':'\ud83d\udebf',
  'shrimp':'\ud83e\udd90',
  'signal_strength':'\ud83d\udcf6',
  'six_pointed_star':'\ud83d\udd2f',
  'ski':'\ud83c\udfbf',
  'skier':'\u26f7',
  'skull':'\ud83d\udc80',
  'skull_and_crossbones':'\u2620\ufe0f',
  'sleeping':'\ud83d\ude34',
  'sleeping_bed':'\ud83d\udecc',
  'sleepy':'\ud83d\ude2a',
  'slightly_frowning_face':'\ud83d\ude41',
  'slightly_smiling_face':'\ud83d\ude42',
  'slot_machine':'\ud83c\udfb0',
  'small_airplane':'\ud83d\udee9',
  'small_blue_diamond':'\ud83d\udd39',
  'small_orange_diamond':'\ud83d\udd38',
  'small_red_triangle':'\ud83d\udd3a',
  'small_red_triangle_down':'\ud83d\udd3b',
  'smile':'\ud83d\ude04',
  'smile_cat':'\ud83d\ude38',
  'smiley':'\ud83d\ude03',
  'smiley_cat':'\ud83d\ude3a',
  'smiling_imp':'\ud83d\ude08',
  'smirk':'\ud83d\ude0f',
  'smirk_cat':'\ud83d\ude3c',
  'smoking':'\ud83d\udeac',
  'snail':'\ud83d\udc0c',
  'snake':'\ud83d\udc0d',
  'sneezing_face':'\ud83e\udd27',
  'snowboarder':'\ud83c\udfc2',
  'snowflake':'\u2744\ufe0f',
  'snowman':'\u26c4\ufe0f',
  'snowman_with_snow':'\u2603\ufe0f',
  'sob':'\ud83d\ude2d',
  'soccer':'\u26bd\ufe0f',
  'soon':'\ud83d\udd1c',
  'sos':'\ud83c\udd98',
  'sound':'\ud83d\udd09',
  'space_invader':'\ud83d\udc7e',
  'spades':'\u2660\ufe0f',
  'spaghetti':'\ud83c\udf5d',
  'sparkle':'\u2747\ufe0f',
  'sparkler':'\ud83c\udf87',
  'sparkles':'\u2728',
  'sparkling_heart':'\ud83d\udc96',
  'speak_no_evil':'\ud83d\ude4a',
  'speaker':'\ud83d\udd08',
  'speaking_head':'\ud83d\udde3',
  'speech_balloon':'\ud83d\udcac',
  'speedboat':'\ud83d\udea4',
  'spider':'\ud83d\udd77',
  'spider_web':'\ud83d\udd78',
  'spiral_calendar':'\ud83d\uddd3',
  'spiral_notepad':'\ud83d\uddd2',
  'spoon':'\ud83e\udd44',
  'squid':'\ud83e\udd91',
  'stadium':'\ud83c\udfdf',
  'star':'\u2b50\ufe0f',
  'star2':'\ud83c\udf1f',
  'star_and_crescent':'\u262a\ufe0f',
  'star_of_david':'\u2721\ufe0f',
  'stars':'\ud83c\udf20',
  'station':'\ud83d\ude89',
  'statue_of_liberty':'\ud83d\uddfd',
  'steam_locomotive':'\ud83d\ude82',
  'stew':'\ud83c\udf72',
  'stop_button':'\u23f9',
  'stop_sign':'\ud83d\uded1',
  'stopwatch':'\u23f1',
  'straight_ruler':'\ud83d\udccf',
  'strawberry':'\ud83c\udf53',
  'stuck_out_tongue':'\ud83d\ude1b',
  'stuck_out_tongue_closed_eyes':'\ud83d\ude1d',
  'stuck_out_tongue_winking_eye':'\ud83d\ude1c',
  'studio_microphone':'\ud83c\udf99',
  'stuffed_flatbread':'\ud83e\udd59',
  'sun_behind_large_cloud':'\ud83c\udf25',
  'sun_behind_rain_cloud':'\ud83c\udf26',
  'sun_behind_small_cloud':'\ud83c\udf24',
  'sun_with_face':'\ud83c\udf1e',
  'sunflower':'\ud83c\udf3b',
  'sunglasses':'\ud83d\ude0e',
  'sunny':'\u2600\ufe0f',
  'sunrise':'\ud83c\udf05',
  'sunrise_over_mountains':'\ud83c\udf04',
  'surfing_man':'\ud83c\udfc4',
  'surfing_woman':'\ud83c\udfc4&zwj;\u2640\ufe0f',
  'sushi':'\ud83c\udf63',
  'suspension_railway':'\ud83d\ude9f',
  'sweat':'\ud83d\ude13',
  'sweat_drops':'\ud83d\udca6',
  'sweat_smile':'\ud83d\ude05',
  'sweet_potato':'\ud83c\udf60',
  'swimming_man':'\ud83c\udfca',
  'swimming_woman':'\ud83c\udfca&zwj;\u2640\ufe0f',
  'symbols':'\ud83d\udd23',
  'synagogue':'\ud83d\udd4d',
  'syringe':'\ud83d\udc89',
  'taco':'\ud83c\udf2e',
  'tada':'\ud83c\udf89',
  'tanabata_tree':'\ud83c\udf8b',
  'taurus':'\u2649\ufe0f',
  'taxi':'\ud83d\ude95',
  'tea':'\ud83c\udf75',
  'telephone_receiver':'\ud83d\udcde',
  'telescope':'\ud83d\udd2d',
  'tennis':'\ud83c\udfbe',
  'tent':'\u26fa\ufe0f',
  'thermometer':'\ud83c\udf21',
  'thinking':'\ud83e\udd14',
  'thought_balloon':'\ud83d\udcad',
  'ticket':'\ud83c\udfab',
  'tickets':'\ud83c\udf9f',
  'tiger':'\ud83d\udc2f',
  'tiger2':'\ud83d\udc05',
  'timer_clock':'\u23f2',
  'tipping_hand_man':'\ud83d\udc81&zwj;\u2642\ufe0f',
  'tired_face':'\ud83d\ude2b',
  'tm':'\u2122\ufe0f',
  'toilet':'\ud83d\udebd',
  'tokyo_tower':'\ud83d\uddfc',
  'tomato':'\ud83c\udf45',
  'tongue':'\ud83d\udc45',
  'top':'\ud83d\udd1d',
  'tophat':'\ud83c\udfa9',
  'tornado':'\ud83c\udf2a',
  'trackball':'\ud83d\uddb2',
  'tractor':'\ud83d\ude9c',
  'traffic_light':'\ud83d\udea5',
  'train':'\ud83d\ude8b',
  'train2':'\ud83d\ude86',
  'tram':'\ud83d\ude8a',
  'triangular_flag_on_post':'\ud83d\udea9',
  'triangular_ruler':'\ud83d\udcd0',
  'trident':'\ud83d\udd31',
  'triumph':'\ud83d\ude24',
  'trolleybus':'\ud83d\ude8e',
  'trophy':'\ud83c\udfc6',
  'tropical_drink':'\ud83c\udf79',
  'tropical_fish':'\ud83d\udc20',
  'truck':'\ud83d\ude9a',
  'trumpet':'\ud83c\udfba',
  'tulip':'\ud83c\udf37',
  'tumbler_glass':'\ud83e\udd43',
  'turkey':'\ud83e\udd83',
  'turtle':'\ud83d\udc22',
  'tv':'\ud83d\udcfa',
  'twisted_rightwards_arrows':'\ud83d\udd00',
  'two_hearts':'\ud83d\udc95',
  'two_men_holding_hands':'\ud83d\udc6c',
  'two_women_holding_hands':'\ud83d\udc6d',
  'u5272':'\ud83c\ude39',
  'u5408':'\ud83c\ude34',
  'u55b6':'\ud83c\ude3a',
  'u6307':'\ud83c\ude2f\ufe0f',
  'u6708':'\ud83c\ude37\ufe0f',
  'u6709':'\ud83c\ude36',
  'u6e80':'\ud83c\ude35',
  'u7121':'\ud83c\ude1a\ufe0f',
  'u7533':'\ud83c\ude38',
  'u7981':'\ud83c\ude32',
  'u7a7a':'\ud83c\ude33',
  'umbrella':'\u2614\ufe0f',
  'unamused':'\ud83d\ude12',
  'underage':'\ud83d\udd1e',
  'unicorn':'\ud83e\udd84',
  'unlock':'\ud83d\udd13',
  'up':'\ud83c\udd99',
  'upside_down_face':'\ud83d\ude43',
  'v':'\u270c\ufe0f',
  'vertical_traffic_light':'\ud83d\udea6',
  'vhs':'\ud83d\udcfc',
  'vibration_mode':'\ud83d\udcf3',
  'video_camera':'\ud83d\udcf9',
  'video_game':'\ud83c\udfae',
  'violin':'\ud83c\udfbb',
  'virgo':'\u264d\ufe0f',
  'volcano':'\ud83c\udf0b',
  'volleyball':'\ud83c\udfd0',
  'vs':'\ud83c\udd9a',
  'vulcan_salute':'\ud83d\udd96',
  'walking_man':'\ud83d\udeb6',
  'walking_woman':'\ud83d\udeb6&zwj;\u2640\ufe0f',
  'waning_crescent_moon':'\ud83c\udf18',
  'waning_gibbous_moon':'\ud83c\udf16',
  'warning':'\u26a0\ufe0f',
  'wastebasket':'\ud83d\uddd1',
  'watch':'\u231a\ufe0f',
  'water_buffalo':'\ud83d\udc03',
  'watermelon':'\ud83c\udf49',
  'wave':'\ud83d\udc4b',
  'wavy_dash':'\u3030\ufe0f',
  'waxing_crescent_moon':'\ud83c\udf12',
  'wc':'\ud83d\udebe',
  'weary':'\ud83d\ude29',
  'wedding':'\ud83d\udc92',
  'weight_lifting_man':'\ud83c\udfcb\ufe0f',
  'weight_lifting_woman':'\ud83c\udfcb\ufe0f&zwj;\u2640\ufe0f',
  'whale':'\ud83d\udc33',
  'whale2':'\ud83d\udc0b',
  'wheel_of_dharma':'\u2638\ufe0f',
  'wheelchair':'\u267f\ufe0f',
  'white_check_mark':'\u2705',
  'white_circle':'\u26aa\ufe0f',
  'white_flag':'\ud83c\udff3\ufe0f',
  'white_flower':'\ud83d\udcae',
  'white_large_square':'\u2b1c\ufe0f',
  'white_medium_small_square':'\u25fd\ufe0f',
  'white_medium_square':'\u25fb\ufe0f',
  'white_small_square':'\u25ab\ufe0f',
  'white_square_button':'\ud83d\udd33',
  'wilted_flower':'\ud83e\udd40',
  'wind_chime':'\ud83c\udf90',
  'wind_face':'\ud83c\udf2c',
  'wine_glass':'\ud83c\udf77',
  'wink':'\ud83d\ude09',
  'wolf':'\ud83d\udc3a',
  'woman':'\ud83d\udc69',
  'woman_artist':'\ud83d\udc69&zwj;\ud83c\udfa8',
  'woman_astronaut':'\ud83d\udc69&zwj;\ud83d\ude80',
  'woman_cartwheeling':'\ud83e\udd38&zwj;\u2640\ufe0f',
  'woman_cook':'\ud83d\udc69&zwj;\ud83c\udf73',
  'woman_facepalming':'\ud83e\udd26&zwj;\u2640\ufe0f',
  'woman_factory_worker':'\ud83d\udc69&zwj;\ud83c\udfed',
  'woman_farmer':'\ud83d\udc69&zwj;\ud83c\udf3e',
  'woman_firefighter':'\ud83d\udc69&zwj;\ud83d\ude92',
  'woman_health_worker':'\ud83d\udc69&zwj;\u2695\ufe0f',
  'woman_judge':'\ud83d\udc69&zwj;\u2696\ufe0f',
  'woman_juggling':'\ud83e\udd39&zwj;\u2640\ufe0f',
  'woman_mechanic':'\ud83d\udc69&zwj;\ud83d\udd27',
  'woman_office_worker':'\ud83d\udc69&zwj;\ud83d\udcbc',
  'woman_pilot':'\ud83d\udc69&zwj;\u2708\ufe0f',
  'woman_playing_handball':'\ud83e\udd3e&zwj;\u2640\ufe0f',
  'woman_playing_water_polo':'\ud83e\udd3d&zwj;\u2640\ufe0f',
  'woman_scientist':'\ud83d\udc69&zwj;\ud83d\udd2c',
  'woman_shrugging':'\ud83e\udd37&zwj;\u2640\ufe0f',
  'woman_singer':'\ud83d\udc69&zwj;\ud83c\udfa4',
  'woman_student':'\ud83d\udc69&zwj;\ud83c\udf93',
  'woman_teacher':'\ud83d\udc69&zwj;\ud83c\udfeb',
  'woman_technologist':'\ud83d\udc69&zwj;\ud83d\udcbb',
  'woman_with_turban':'\ud83d\udc73&zwj;\u2640\ufe0f',
  'womans_clothes':'\ud83d\udc5a',
  'womans_hat':'\ud83d\udc52',
  'women_wrestling':'\ud83e\udd3c&zwj;\u2640\ufe0f',
  'womens':'\ud83d\udeba',
  'world_map':'\ud83d\uddfa',
  'worried':'\ud83d\ude1f',
  'wrench':'\ud83d\udd27',
  'writing_hand':'\u270d\ufe0f',
  'x':'\u274c',
  'yellow_heart':'\ud83d\udc9b',
  'yen':'\ud83d\udcb4',
  'yin_yang':'\u262f\ufe0f',
  'yum':'\ud83d\ude0b',
  'zap':'\u26a1\ufe0f',
  'zipper_mouth_face':'\ud83e\udd10',
  'zzz':'\ud83d\udca4',

  /* special emojis :P */
  'octocat':  '<img width="20" height="20" align="absmiddle" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAOwUlEQVR42uVbCVyO6RbPmn0sw9gZS0aZO4y5GTEUE2ObxjZjrbHEJVy3sWS5pkaWxjLEkCVDSbSgFLdESaWSLIVUSIi4kvb9f895vi/zbbR+yZ339/tbnu99n/ec/3Oe85xznufV0CjDBaAdwZqwnzCJ0FXjHV70/i8J5oQDhCFV8cJdq1atwqxZs+Ds7Iz4+HhqwgXCLELNKlK6G2Ej4e6lS5ewZcsWzJgxA+fOnWNZFqvzxT1v3boF/qcsBg0ahP3796OwsJAFWKYuIqjfPoS9cXFxWL58Obp06SInh5aWFr//jjoJWLlu3TolAorRuXNn7Ny5k4W4Spgj81xrgj5hLmED4RDhlNRygglBhADCSakpWxFMCHoETUJTwrYHDx7A1NT0je9nPHz4kN/fXl0EeI0aNeqtAjB69+4NPz8/FsSdlXvy5An8/f1hZ2cHCwsLGBsbY/To0cJy9PT0MGDAAAwePBhGRkbClNesWYODBw8iODgYOTk53M/d9evXo27duiW++8iRI3z/ZHURENOjR48ShSjGuHHjhHJ16tQp9TOKaNWqlZKpvw1MHluQOpSvk5eXh5YtW5ZbmarAvHnzmIBd6iCgXnZ2Npo1a1atCWAfwY5SHQTUKCoqQocOHao1AebmHBJgi7p8QBDP6epMwKFDvMDAWF0ELLS1ta3WBNy9e5cJMFIXAdvt7e2rNQHDhw9nAv5D+KKylV9y8+bNCi1pVYWZM2cyCfaVTcDdsqzH7xpBQRxcwqyylLdi5/K+KM/Q0dFhAqIri4Bn1T0AUgVpdmhYUeVHnD59+r1TnjF27Fgm4HhFCThoYmLyXhLQoEGD4mRKsyIE3OrZs+d7SQCDCyZcNSqv8k1evXoFTU3NUr+wzUcfYqRBf8yb/C2WzfoBFoTF08fBdMIITDD8CsP1+kL30x7Q6dYZH7drjfZ0f4fWLdG1Q1t81qMLBvTRwejB/TBl1BDMnzQGS2dMxKo5k7Fs9iSY/jAaBvR8Pc26pZaH02quLZSXgO6xsbGlelGnli1wZKcVMqN8gKcRwItrf+K/VB95doXaLwOJIVSzOU/+2Re5kV7IuuyJrIhTyLt6mmztLBBPNZLHoUAy9fE8UvJ8ikxfj8PwJPQErJeYlkquTZs2MQFLykuANgc/Jb2kn3Z3ZMaQUrmxwO1zyAo7gfRAJ6RfOIyMEFdkXj5F8BTK5lzxQv610yi8QcFatI8gQoCIK7x+hojwRnaE5H4JTiEj9Pjr/rJDqcZyn9b4ovu45LYbdWvXeqtsXMHiSlZ5CegRExPz1hd83PYj5POo0QinXyLFg48hnZTOiQ1Dzr1IZEaeQRoJn0HKZIR7lA2kfHrQUerXHTlx4ZL+rnjjFRGRGeYB5MUj2GnbW+XbuJFrp1heXgI6JCYmvvUFN1x3Aek3SWkapRAXMeJFGS8ge2Xfuog0toaykED3Mpk8+shOk+sv68Y50V9WuKewBKt5094o39atW/mRf5WXgIYZGRlo3Lixys4nj6A6Z1YMcqRCpwU4ouDlUyHk/QA/hNttR25Wlvh/ZthJUsil9ATQ/axkYbqEzDgfL0Ts/x35+aLyTES7IY36Q6w/+Q4/tP6wuUoZ9+7dy7ebVmQZjO/atavKzn32rAdeXkd6KCkXdAxZ13yFcLFnvPD73zrDVrsdTs6eggKSuSjjORHkUGoC0i86Iyc6QPQX7eqMnTodYNuzHU4vnosiaitMSUSavwMy6d3IvEUrzViVMrq5uXEX4ytCgL++vr5Sx7Vr1cIDX0dKkQJfj37Rs3jw1sBxkwlwGD4Ax3+ciN1faCHW76xQRFgAOcjSEMBkIe0x8nLzcez7kTg8Rh/uxuOxR/cTJISFSfq7eATpZCk8CAfXLVFJwIULXHnHoIoQYLtw4UKljps2aogXQcQuef/XAiMDKY+S4DhyEFwpDnCj9f+Afl8EbbWRTANaAdihlYoAMn8aZzyNuYODX/eD29TvRH/7v+qN8H27JdOAyWQfQQ74xPafVRLAPox9WUlK6hIGEgx4f00Kg2JcvHhRqeP6FIwknXemyen/2gLIIeC/CYk49M0AuE4xgtu0sThg8AUCN62TEuBdRgJo2Y+Kxh9D/k59SQiwH9QHobt3SAk4KSGA4oWjm1YqyVi8U6Soj4yOrHM/jTAyKVby/PnzIoNi8L+L4eXlpXoFcLcTgc1rAlISkJeXDxeK2A6P1hdTwI6mQPTJE+WbAlnJyE7PhNO3Q3BkrKGYWtxfHMkkmQLO0ilwA7+vXqAkn66urtBLUZ9iHfm30NBQaPAf165dA0d9vP2UlJSEp0+f4vHjx3j06JH4e+rUqUovcNmyGkiNEkLwklXsBG+ecMUOnfbYod1emG5uboFKJ8jPFVD0l0dBUHqoPDHpQeQEb0qc4FUHe3KAbYUT9JgzDbwOFL5MfN0fXkXhJ5PxSvLt2LFD1Ah5u4z1YJ14l4qnBe8v3rhxAzz4PAVG8nLHivIP0dHRiIiIQGRkpEgmrl69ClW1QBMjQ7LDW8hmU+RRI69ckJIkhL7jfRJBm62R+TJVYq6h0jhBRslsivqenT2MF/7OyI70VmkFhWnPJaS6OyPkt43IycqR9EfWlH7JDQUUTuNhCHR7Ke9YcRp/5coVoQPrcvnyZURFRYmBZlLS0kR8MVLD29sbnp6e8PHxQUBAgCgn8YO8E3z79m3BGKeVc+bMkXuBZt06SA12F/F5Go0gR4C8HBalPZMPXKL8lQKhPAqF+f97KXFyNx6HQsoPsshJ/kmAp2TKkJLISpXvjyxNhMYcDVLOEO+lPDi8B5mamipkZx1YF9YpJCRErAy+vr5CZ9ZdWABhDGEYYTBhAOFz3g4nfMJelNCbkNCpUye5F034mvxIPi1/FM+zQCw0k5B9O0iEr5kRXkqhMJOVf9NXIHjtT7hmaymSoBzKETimkAuFpaF1dkwI9RcmIYaXv3BJXoGCuyIgk5WpefPmKCgoYK46SmX/RKoL69Sfl0WuFEl1HlmWJXE5z6WmTZvKJxxmxkIQ3AuU5APk6NICj4hRT6eITTEEzqWk55HHPjz3cxJhNF5cxeNT9kj2cRDTQjEkzpDtjyyCic5l5fEA7uSHFEefR5pPsahrb2B9QkICFHeJ51HunkdLIg0VLY0BFKdLwllVHp4dHyvst3QuEiiju21vA/+VZkiluIKt4I3RIfWXQ4QgKUxkni47LJWUP3PmjHo2RxVI+CebmKJP6EiFDVurxUgmExe5PHlnPAkn8w4QqW62NCVmYopozid5H0CI9RKE21ggJeAYEeMnfitOnRn5XCfgeJ+VTosWQU8MOc6ZE0cqnUm4fv165SrPBVHCfMI4TowUfmOfsIcdJh92kBWmUcP6GDt8EDZbzIffH5tx3/ewSFjw5LKk0MEFEkZenDBjgew7Yiog5brkt+QrknvJmhIp4Apw/A1bVpjhG/0v5d7Vrl07bNu2TelUSqUoz8uI3Z49OEtBAy+TdP1CqKtwHzvQUxxgTJs2TeX5gdq1a0ObSmCjh+jB+NuvRamL1+3ls77HCip1rTSdJP5eNnMizKndjMLoH42G4bthX+FzHS3UVVEC69evH3799VeKMXJZrlWKclUGAZ5jxoxB02ZNsNlxH74aagBHZyex986HlVTczyGmI58h4CjL2toa48ePFxsUPEotWrQoc0GT0/C2bduiY8eO4ISMcxLeoOFYhS6qm2EpoZG65jmbv+dPSyRZlt5QfVjvtX19AOFNL+aDFNI4m0eFc9Ho5ORkaGtrl5kAVp6DMOk88efEjLe++ZhclZwHTJHEHbs4YOCmLj2645fdvwnTK42zoXtaEHwNDQ3LXdZm5yad3/2r+gQmDsRnIF5KAldX6zdsgG/GG8F44Vzcu3eP2y1K6GPr2rVrK1zbnz59Or/LoaoJCPZ4kCZsjw9GECL79OmDj9q2wb+320C3/5fgPQO6Vrzh+fpcDqxXr16lbHBwgkZXm6okYJr0ECMrX5vraiJ1lArEjrEnzWuOqemiYj9spGd2ee478XkiPsJakmJ83qA05/8qXNurJFLiunXrhpo1a6LxB02wyHIFZpovgOHwYfjZ0hK2lH5u2rwZ5suWYv5ycyUlmjRpgl69eimlrFy3kwuoyOvXr19frm3RokVMwPZ3TYC57E6xVq+e6KzVDSaL/oEp82Zh8IhhWLjGAp/p9oX5ujVKBNjY2MDV1VWuzd3dXaTesm2biUQuZ8u28elSPmKr8a4vdog8GnJpcT1N1KHUuBbt0jSgWuGbzJh3mVhh2TYHBwdxjFa2jVcZnvPVlQBOLXdZWlqW2ZFxNYYVlm07fPgwAgMD5dr4OD5HeHLFFxM+O42DGtXhIkFaMQlcUjIzM0P37t1Ro0YNpZPjPJcVK7SOjo5ybU5OTqIAo0gAh97VlgAZIj4l8Pn4WFaO64ocuXG6zJtDbMqySnC7IgF8uptLVrJtq1evFuWqak+A4j4i4TNpltiJ8LPiNFFFwNGjRyWFyfedAFUny/joekkEuLi4KK0CfykCeFnkiu1flgBeFtl3/D8SsMbKykpOifv37ysRcPz4cVHKUiSA8wwNdR9/VTMBSh9Y8S4Nf2qnSICiBbDzVCRg9uzZTMC+94kAv6FDh8opwRsVHPjItnl4eEDxHNLKlStFXV+2javQ/M1SpZe+1KA4L4G7WDG57fSm/OUbXiqG0ewAFYOeYcN4fwZhvLkp2y4tftrxcltdlf/w+fPn4qNGxTCYU2m6nrRu3VqunT/EoiuZvw6TTZHpyuNNmEaNGsndP3fu3OJAq1N1JOAHDmyKheVtNP4OkE2crULRAW7fvl20EyyLy24a8p+/7WISFixYIMLt4t82bNhQYjXqXREgPq3j74mlX3AmSL8E1eOPIBXnuVT5OsVZpuLnOMeOHeN7vifwiYhYzhC5IpwlOXj1QXWdBmy/XWU/X+UqMZfKBw4cKAobHPlJlZe9h6tOu+7cuSN2dg0MDMSSyZUpmXvaSD+crq/xvl0k9BTCRa7qEPq+5T4t6ffF52WVV+f1P6zyLG30bsU4AAAAAElFTkSuQmCC">',
  'showdown': '<img width="20" height="20" align="absmiddle" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAECtaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzA2NyA3OS4xNTc3NDcsIDIwMTUvMDMvMzAtMjM6NDA6NDIgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIgogICAgICAgICAgICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgICAgICAgICAgIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIgogICAgICAgICAgICB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIgogICAgICAgICAgICB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmV4aWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vZXhpZi8xLjAvIj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgMjAxNSAoV2luZG93cyk8L3htcDpDcmVhdG9yVG9vbD4KICAgICAgICAgPHhtcDpDcmVhdGVEYXRlPjIwMTUtMDEtMTVUMjE6MDE6MTlaPC94bXA6Q3JlYXRlRGF0ZT4KICAgICAgICAgPHhtcDpNZXRhZGF0YURhdGU+MjAxNy0xMC0yNFQxMzozMTozMCswMTowMDwveG1wOk1ldGFkYXRhRGF0ZT4KICAgICAgICAgPHhtcDpNb2RpZnlEYXRlPjIwMTctMTAtMjRUMTM6MzE6MzArMDE6MDA8L3htcDpNb2RpZnlEYXRlPgogICAgICAgICA8cGhvdG9zaG9wOkNvbG9yTW9kZT4zPC9waG90b3Nob3A6Q29sb3JNb2RlPgogICAgICAgICA8cGhvdG9zaG9wOklDQ1Byb2ZpbGU+c1JHQiBJRUM2MTk2Ni0yLjE8L3Bob3Rvc2hvcDpJQ0NQcm9maWxlPgogICAgICAgICA8cGhvdG9zaG9wOlRleHRMYXllcnM+CiAgICAgICAgICAgIDxyZGY6QmFnPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHBob3Rvc2hvcDpMYXllck5hbWU+UyAtPC9waG90b3Nob3A6TGF5ZXJOYW1lPgogICAgICAgICAgICAgICAgICA8cGhvdG9zaG9wOkxheWVyVGV4dD5TIC08L3Bob3Rvc2hvcDpMYXllclRleHQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICA8L3JkZjpCYWc+CiAgICAgICAgIDwvcGhvdG9zaG9wOlRleHRMYXllcnM+CiAgICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2UvcG5nPC9kYzpmb3JtYXQ+CiAgICAgICAgIDx4bXBNTTpJbnN0YW5jZUlEPnhtcC5paWQ6N2NkMzQxNzctOWYyZi0yNDRiLWEyYjQtMzU1MzJkY2Y1MWJiPC94bXBNTTpJbnN0YW5jZUlEPgogICAgICAgICA8eG1wTU06RG9jdW1lbnRJRD5hZG9iZTpkb2NpZDpwaG90b3Nob3A6M2E1YzgxYmYtYjhiNy0xMWU3LTk0NDktYTQ2MzdlZjJkNjMzPC94bXBNTTpEb2N1bWVudElEPgogICAgICAgICA8eG1wTU06T3JpZ2luYWxEb2N1bWVudElEPnhtcC5kaWQ6NjBDNUFFNjVGNjlDRTQxMTk0NUE4NTVFM0JDQTdFRUI8L3htcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkhpc3Rvcnk+CiAgICAgICAgICAgIDxyZGY6U2VxPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5jcmVhdGVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6NjBDNUFFNjVGNjlDRTQxMTk0NUE4NTVFM0JDQTdFRUI8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDp3aGVuPjIwMTUtMDEtMTVUMjE6MDE6MTlaPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPnNhdmVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6ODZjNjBkMGQtOGY0Yy01ZTRlLWEwMjQtODI4ZWQyNTIwZDc3PC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE3LTEwLTI0VDEzOjMxOjMwKzAxOjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ0MgMjAxNSAoV2luZG93cyk8L3N0RXZ0OnNvZnR3YXJlQWdlbnQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDpjaGFuZ2VkPi88L3N0RXZ0OmNoYW5nZWQ+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5jb252ZXJ0ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+ZnJvbSBhcHBsaWNhdGlvbi92bmQuYWRvYmUucGhvdG9zaG9wIHRvIGltYWdlL3BuZzwvc3RFdnQ6cGFyYW1ldGVycz4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgICAgIDxyZGY6bGkgcmRmOnBhcnNlVHlwZT0iUmVzb3VyY2UiPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6YWN0aW9uPmRlcml2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnBhcmFtZXRlcnM+Y29udmVydGVkIGZyb20gYXBwbGljYXRpb24vdm5kLmFkb2JlLnBob3Rvc2hvcCB0byBpbWFnZS9wbmc8L3N0RXZ0OnBhcmFtZXRlcnM+CiAgICAgICAgICAgICAgIDwvcmRmOmxpPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5zYXZlZDwvc3RFdnQ6YWN0aW9uPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6aW5zdGFuY2VJRD54bXAuaWlkOjdjZDM0MTc3LTlmMmYtMjQ0Yi1hMmI0LTM1NTMyZGNmNTFiYjwvc3RFdnQ6aW5zdGFuY2VJRD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNy0xMC0yNFQxMzozMTozMCswMTowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpPC9zdEV2dDpzb2Z0d2FyZUFnZW50PgogICAgICAgICAgICAgICAgICA8c3RFdnQ6Y2hhbmdlZD4vPC9zdEV2dDpjaGFuZ2VkPgogICAgICAgICAgICAgICA8L3JkZjpsaT4KICAgICAgICAgICAgPC9yZGY6U2VxPgogICAgICAgICA8L3htcE1NOkhpc3Rvcnk+CiAgICAgICAgIDx4bXBNTTpEZXJpdmVkRnJvbSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgIDxzdFJlZjppbnN0YW5jZUlEPnhtcC5paWQ6ODZjNjBkMGQtOGY0Yy01ZTRlLWEwMjQtODI4ZWQyNTIwZDc3PC9zdFJlZjppbnN0YW5jZUlEPgogICAgICAgICAgICA8c3RSZWY6ZG9jdW1lbnRJRD54bXAuZGlkOjYwQzVBRTY1RjY5Q0U0MTE5NDVBODU1RTNCQ0E3RUVCPC9zdFJlZjpkb2N1bWVudElEPgogICAgICAgICAgICA8c3RSZWY6b3JpZ2luYWxEb2N1bWVudElEPnhtcC5kaWQ6NjBDNUFFNjVGNjlDRTQxMTk0NUE4NTVFM0JDQTdFRUI8L3N0UmVmOm9yaWdpbmFsRG9jdW1lbnRJRD4KICAgICAgICAgPC94bXBNTTpEZXJpdmVkRnJvbT4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgICAgPHRpZmY6WFJlc29sdXRpb24+NzIwMDAwLzEwMDAwPC90aWZmOlhSZXNvbHV0aW9uPgogICAgICAgICA8dGlmZjpZUmVzb2x1dGlvbj43MjAwMDAvMTAwMDA8L3RpZmY6WVJlc29sdXRpb24+CiAgICAgICAgIDx0aWZmOlJlc29sdXRpb25Vbml0PjI8L3RpZmY6UmVzb2x1dGlvblVuaXQ+CiAgICAgICAgIDxleGlmOkNvbG9yU3BhY2U+MTwvZXhpZjpDb2xvclNwYWNlPgogICAgICAgICA8ZXhpZjpQaXhlbFhEaW1lbnNpb24+NjQ8L2V4aWY6UGl4ZWxYRGltZW5zaW9uPgogICAgICAgICA8ZXhpZjpQaXhlbFlEaW1lbnNpb24+NjQ8L2V4aWY6UGl4ZWxZRGltZW5zaW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/Pse7bzcAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAA1JJREFUeNrsm1+OmlAUhz+aeS9dwZggJn1AnRUMO6jpBgZXULuC2hWUWUGZBTSxKyiuoA4mfUBMnB04K5g+9DihRBHlyh/lJLwIXLgf99xzzu9etZeXFy7Z3nDh1gBoAFy4XeVtQNO0zNcapmUDfUBPnFoBfhQGq6IBaHmjwD4Ahmk5wAD4kKG5J8CNwsAFaHe6DvA9cc0wCgOv8gDka3vA9RHNPgo0D7hNnJtGYWBXxgV2dH4MfMnRRA+Y1WIO2NJ5F/ikoKm3tYsChmkNFHW+fmHQMC1dfHaXPQP3wM1yMdc2B/AOGALTWobBmI1Shu0UGCwX83XyRBQGawHntTtdG5gUNfxVu4CTNqNv6/wWGL7kCc+1AmCYVisl3I2ydD4GYZUCs7IjoLXrxHIx9w9tLAqDCfBwDrXAY457x+cAoCfuwRGjYFUnAGk+PsjR7s8Dn1VeLWCYVlpDw+VivjVHSHt+u9PVJbzGzZXQWTkAkz0V31fATUaEsjVJlQBs4FeGcteLgzgbAALBA+4y3voAeJL8nA0AHfClnM1qm1HhnYUidCSE+KzvSSJUTwAxCOMcpfETMFYpfRUKIAbCFhC3OTJJJwqDWS0BxED0JZ4Pjix1P2+E0loCSMBwyK4S/xc1ojBwag8gMU84cvTKGgmlAYhngu1O9xAXuVE5J1QCQCz3bwHuHvdQui5QKQAxEO6eEKpsFCgTRSXkvdoxSlBMCxhJJbgrrbZRtHCiShN0pRB6PeQ3ckBw2K0oKXMBVYJIP+Nvh9qulFivGoBt1lLQxowT2ykBXCfnhZIglgYACWmqXQv+baioBYCeiCQHm+QEg1O7RhF7hO4OhSAhcJKSFU7qBGADwZeqMMuXn6TUBw8qlaMrirNb4LdhWlP+SWD+cjFfxTpuS2GUpik+o3jFSEkqbJiWn0P0OMSGqlWiOu0TvD+FRHZKAE+oW+cfRmEwqlsesJJEJs8y91QqP+9UL6lqEtz2gpuNEY5sm9sIHln2DRa2aFKGJtiXkZEMiWtgVvRKUSUFkSKt2S7fAGgAXLYpmQQXf36MUChTZdUa2u8/rkvPA6Tz30r4eH3ybcBS5gJ6SaNXb+aABkA1AMxKenclBZLW/He4cYEGwEXb3wEASelexk6LIIIAAAAASUVORK5CYII=">'
};

/**
 * Created by Estevao on 31-05-2015.
 */

/**
 * Showdown Converter class
 * @class
 * @param {object} [converterOptions]
 * @returns {Converter}
 */
showdown.Converter = function (converterOptions) {
  'use strict';

  var
      /**
       * Options used by this converter
       * @private
       * @type {{}}
       */
      options = {},

      /**
       * Language extensions used by this converter
       * @private
       * @type {Array}
       */
      langExtensions = [],

      /**
       * Output modifiers extensions used by this converter
       * @private
       * @type {Array}
       */
      outputModifiers = [],

      /**
       * Event listeners
       * @private
       * @type {{}}
       */
      listeners = {},

      /**
       * The flavor set in this converter
       */
      setConvFlavor = setFlavor,

    /**
     * Metadata of the document
     * @type {{parsed: {}, raw: string, format: string}}
     */
      metadata = {
        parsed: {},
        raw: '',
        format: ''
      };

  _constructor();

  /**
   * Converter constructor
   * @private
   */
  function _constructor () {
    converterOptions = converterOptions || {};

    for (var gOpt in globalOptions) {
      if (globalOptions.hasOwnProperty(gOpt)) {
        options[gOpt] = globalOptions[gOpt];
      }
    }

    // Merge options
    if (typeof converterOptions === 'object') {
      for (var opt in converterOptions) {
        if (converterOptions.hasOwnProperty(opt)) {
          options[opt] = converterOptions[opt];
        }
      }
    } else {
      throw Error('Converter expects the passed parameter to be an object, but ' + typeof converterOptions +
      ' was passed instead.');
    }

    if (options.extensions) {
      showdown.helper.forEach(options.extensions, _parseExtension);
    }
  }

  /**
   * Parse extension
   * @param {*} ext
   * @param {string} [name='']
   * @private
   */
  function _parseExtension (ext, name) {

    name = name || null;
    // If it's a string, the extension was previously loaded
    if (showdown.helper.isString(ext)) {
      ext = showdown.helper.stdExtName(ext);
      name = ext;

      // LEGACY_SUPPORT CODE
      if (showdown.extensions[ext]) {
        console.warn('DEPRECATION WARNING: ' + ext + ' is an old extension that uses a deprecated loading method.' +
          'Please inform the developer that the extension should be updated!');
        legacyExtensionLoading(showdown.extensions[ext], ext);
        return;
      // END LEGACY SUPPORT CODE

      } else if (!showdown.helper.isUndefined(extensions[ext])) {
        ext = extensions[ext];

      } else {
        throw Error('Extension "' + ext + '" could not be loaded. It was either not found or is not a valid extension.');
      }
    }

    if (typeof ext === 'function') {
      ext = ext();
    }

    if (!showdown.helper.isArray(ext)) {
      ext = [ext];
    }

    var validExt = validate(ext, name);
    if (!validExt.valid) {
      throw Error(validExt.error);
    }

    for (var i = 0; i < ext.length; ++i) {
      switch (ext[i].type) {

        case 'lang':
          langExtensions.push(ext[i]);
          break;

        case 'output':
          outputModifiers.push(ext[i]);
          break;
      }
      if (ext[i].hasOwnProperty('listeners')) {
        for (var ln in ext[i].listeners) {
          if (ext[i].listeners.hasOwnProperty(ln)) {
            listen(ln, ext[i].listeners[ln]);
          }
        }
      }
    }

  }

  /**
   * LEGACY_SUPPORT
   * @param {*} ext
   * @param {string} name
   */
  function legacyExtensionLoading (ext, name) {
    if (typeof ext === 'function') {
      ext = ext(new showdown.Converter());
    }
    if (!showdown.helper.isArray(ext)) {
      ext = [ext];
    }
    var valid = validate(ext, name);

    if (!valid.valid) {
      throw Error(valid.error);
    }

    for (var i = 0; i < ext.length; ++i) {
      switch (ext[i].type) {
        case 'lang':
          langExtensions.push(ext[i]);
          break;
        case 'output':
          outputModifiers.push(ext[i]);
          break;
        default:// should never reach here
          throw Error('Extension loader error: Type unrecognized!!!');
      }
    }
  }

  /**
   * Listen to an event
   * @param {string} name
   * @param {function} callback
   */
  function listen (name, callback) {
    if (!showdown.helper.isString(name)) {
      throw Error('Invalid argument in converter.listen() method: name must be a string, but ' + typeof name + ' given');
    }

    if (typeof callback !== 'function') {
      throw Error('Invalid argument in converter.listen() method: callback must be a function, but ' + typeof callback + ' given');
    }

    if (!listeners.hasOwnProperty(name)) {
      listeners[name] = [];
    }
    listeners[name].push(callback);
  }

  function rTrimInputText (text) {
    var rsp = text.match(/^\s*/)[0].length,
        rgx = new RegExp('^\\s{0,' + rsp + '}', 'gm');
    return text.replace(rgx, '');
  }

  /**
   * Dispatch an event
   * @private
   * @param {string} evtName Event name
   * @param {string} text Text
   * @param {{}} options Converter Options
   * @param {{}} globals
   * @returns {string}
   */
  this._dispatch = function dispatch (evtName, text, options, globals) {
    if (listeners.hasOwnProperty(evtName)) {
      for (var ei = 0; ei < listeners[evtName].length; ++ei) {
        var nText = listeners[evtName][ei](evtName, text, this, options, globals);
        if (nText && typeof nText !== 'undefined') {
          text = nText;
        }
      }
    }
    return text;
  };

  /**
   * Listen to an event
   * @param {string} name
   * @param {function} callback
   * @returns {showdown.Converter}
   */
  this.listen = function (name, callback) {
    listen(name, callback);
    return this;
  };

  /**
   * Converts a markdown string into HTML
   * @param {string} text
   * @returns {*}
   */
  this.makeHtml = function (text) {
    //check if text is not falsy
    if (!text) {
      return text;
    }

    var globals = {
      gHtmlBlocks:     [],
      gHtmlMdBlocks:   [],
      gHtmlSpans:      [],
      gUrls:           {},
      gTitles:         {},
      gDimensions:     {},
      gListLevel:      0,
      hashLinkCounts:  {},
      langExtensions:  langExtensions,
      outputModifiers: outputModifiers,
      converter:       this,
      ghCodeBlocks:    [],
      metadata: {
        parsed: {},
        raw: '',
        format: ''
      }
    };

    // This lets us use ¨ trema as an escape char to avoid md5 hashes
    // The choice of character is arbitrary; anything that isn't
    // magic in Markdown will work.
    text = text.replace(/¨/g, '¨T');

    // Replace $ with ¨D
    // RegExp interprets $ as a special character
    // when it's in a replacement string
    text = text.replace(/\$/g, '¨D');

    // Standardize line endings
    text = text.replace(/\r\n/g, '\n'); // DOS to Unix
    text = text.replace(/\r/g, '\n'); // Mac to Unix

    // Stardardize line spaces (nbsp causes trouble in older browsers and some regex flavors)
    text = text.replace(/\u00A0/g, ' ');

    if (options.smartIndentationFix) {
      text = rTrimInputText(text);
    }

    // Make sure text begins and ends with a couple of newlines:
    text = '\n\n' + text + '\n\n';

    // detab
    text = showdown.subParser('detab')(text, options, globals);

    /**
     * Strip any lines consisting only of spaces and tabs.
     * This makes subsequent regexs easier to write, because we can
     * match consecutive blank lines with /\n+/ instead of something
     * contorted like /[ \t]*\n+/
     */
    text = text.replace(/^[ \t]+$/mg, '');

    //run languageExtensions
    showdown.helper.forEach(langExtensions, function (ext) {
      text = showdown.subParser('runExtension')(ext, text, options, globals);
    });

    // run the sub parsers
    text = showdown.subParser('metadata')(text, options, globals);
    text = showdown.subParser('hashPreCodeTags')(text, options, globals);
    text = showdown.subParser('githubCodeBlocks')(text, options, globals);
    text = showdown.subParser('hashHTMLBlocks')(text, options, globals);
    text = showdown.subParser('hashCodeTags')(text, options, globals);
    text = showdown.subParser('stripLinkDefinitions')(text, options, globals);
    text = showdown.subParser('blockGamut')(text, options, globals);
    text = showdown.subParser('unhashHTMLSpans')(text, options, globals);
    text = showdown.subParser('unescapeSpecialChars')(text, options, globals);

    // attacklab: Restore dollar signs
    text = text.replace(/¨D/g, '$$');

    // attacklab: Restore tremas
    text = text.replace(/¨T/g, '¨');

    // render a complete html document instead of a partial if the option is enabled
    text = showdown.subParser('completeHTMLDocument')(text, options, globals);

    // Run output modifiers
    showdown.helper.forEach(outputModifiers, function (ext) {
      text = showdown.subParser('runExtension')(ext, text, options, globals);
    });

    // update metadata
    metadata = globals.metadata;
    return text;
  };

  /**
   * Set an option of this Converter instance
   * @param {string} key
   * @param {*} value
   */
  this.setOption = function (key, value) {
    options[key] = value;
  };

  /**
   * Get the option of this Converter instance
   * @param {string} key
   * @returns {*}
   */
  this.getOption = function (key) {
    return options[key];
  };

  /**
   * Get the options of this Converter instance
   * @returns {{}}
   */
  this.getOptions = function () {
    return options;
  };

  /**
   * Add extension to THIS converter
   * @param {{}} extension
   * @param {string} [name=null]
   */
  this.addExtension = function (extension, name) {
    name = name || null;
    _parseExtension(extension, name);
  };

  /**
   * Use a global registered extension with THIS converter
   * @param {string} extensionName Name of the previously registered extension
   */
  this.useExtension = function (extensionName) {
    _parseExtension(extensionName);
  };

  /**
   * Set the flavor THIS converter should use
   * @param {string} name
   */
  this.setFlavor = function (name) {
    if (!flavor.hasOwnProperty(name)) {
      throw Error(name + ' flavor was not found');
    }
    var preset = flavor[name];
    setConvFlavor = name;
    for (var option in preset) {
      if (preset.hasOwnProperty(option)) {
        options[option] = preset[option];
      }
    }
  };

  /**
   * Get the currently set flavor of this converter
   * @returns {string}
   */
  this.getFlavor = function () {
    return setConvFlavor;
  };

  /**
   * Remove an extension from THIS converter.
   * Note: This is a costly operation. It's better to initialize a new converter
   * and specify the extensions you wish to use
   * @param {Array} extension
   */
  this.removeExtension = function (extension) {
    if (!showdown.helper.isArray(extension)) {
      extension = [extension];
    }
    for (var a = 0; a < extension.length; ++a) {
      var ext = extension[a];
      for (var i = 0; i < langExtensions.length; ++i) {
        if (langExtensions[i] === ext) {
          langExtensions[i].splice(i, 1);
        }
      }
      for (var ii = 0; ii < outputModifiers.length; ++i) {
        if (outputModifiers[ii] === ext) {
          outputModifiers[ii].splice(i, 1);
        }
      }
    }
  };

  /**
   * Get all extension of THIS converter
   * @returns {{language: Array, output: Array}}
   */
  this.getAllExtensions = function () {
    return {
      language: langExtensions,
      output: outputModifiers
    };
  };

  /**
   * Get the metadata of the previously parsed document
   * @param raw
   * @returns {string|{}}
   */
  this.getMetadata = function (raw) {
    if (raw) {
      return metadata.raw;
    } else {
      return metadata.parsed;
    }
  };

  /**
   * Get the metadata format of the previously parsed document
   * @returns {string}
   */
  this.getMetadataFormat = function () {
    return metadata.format;
  };

  /**
   * Private: set a single key, value metadata pair
   * @param {string} key
   * @param {string} value
   */
  this._setMetadataPair = function (key, value) {
    metadata.parsed[key] = value;
  };

  /**
   * Private: set metadata format
   * @param {string} format
   */
  this._setMetadataFormat = function (format) {
    metadata.format = format;
  };

  /**
   * Private: set metadata raw text
   * @param {string} raw
   */
  this._setMetadataRaw = function (raw) {
    metadata.raw = raw;
  };
};

/**
 * Turn Markdown link shortcuts into XHTML <a> tags.
 */
showdown.subParser('anchors', function (text, options, globals) {
  'use strict';

  text = globals.converter._dispatch('anchors.before', text, options, globals);

  var writeAnchorTag = function (wholeMatch, linkText, linkId, url, m5, m6, title) {
    if (showdown.helper.isUndefined(title)) {
      title = '';
    }
    linkId = linkId.toLowerCase();

    // Special case for explicit empty url
    if (wholeMatch.search(/\(<?\s*>? ?(['"].*['"])?\)$/m) > -1) {
      url = '';
    } else if (!url) {
      if (!linkId) {
        // lower-case and turn embedded newlines into spaces
        linkId = linkText.toLowerCase().replace(/ ?\n/g, ' ');
      }
      url = '#' + linkId;

      if (!showdown.helper.isUndefined(globals.gUrls[linkId])) {
        url = globals.gUrls[linkId];
        if (!showdown.helper.isUndefined(globals.gTitles[linkId])) {
          title = globals.gTitles[linkId];
        }
      } else {
        return wholeMatch;
      }
    }

    //url = showdown.helper.escapeCharacters(url, '*_', false); // replaced line to improve performance
    url = url.replace(showdown.helper.regexes.asteriskDashAndColon, showdown.helper.escapeCharactersCallback);

    var result = '<a href="' + url + '"';

    if (title !== '' && title !== null) {
      title = title.replace(/"/g, '&quot;');
      //title = showdown.helper.escapeCharacters(title, '*_', false); // replaced line to improve performance
      title = title.replace(showdown.helper.regexes.asteriskDashAndColon, showdown.helper.escapeCharactersCallback);
      result += ' title="' + title + '"';
    }

    // optionLinksInNewWindow only applies
    // to external links. Hash links (#) open in same page
    if (options.openLinksInNewWindow && !/^#/.test(url)) {
      // escaped _
      result += ' target="¨E95Eblank"';
    }

    result += '>' + linkText + '</a>';

    return result;
  };

  // First, handle reference-style links: [link text] [id]
  text = text.replace(/\[((?:\[[^\]]*]|[^\[\]])*)] ?(?:\n *)?\[(.*?)]()()()()/g, writeAnchorTag);

  // Next, inline-style links: [link text](url "optional title")
  // cases with crazy urls like ./image/cat1).png
  text = text.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<([^>]*)>(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,
    writeAnchorTag);

  // normal cases
  text = text.replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,
                      writeAnchorTag);

  // handle reference-style shortcuts: [link text]
  // These must come last in case you've also got [link test][1]
  // or [link test](/foo)
  text = text.replace(/\[([^\[\]]+)]()()()()()/g, writeAnchorTag);

  // Lastly handle GithubMentions if option is enabled
  if (options.ghMentions) {
    text = text.replace(/(^|\s)(\\)?(@([a-z\d\-]+))(?=[.!?;,[\]()]|\s|$)/gmi, function (wm, st, escape, mentions, username) {
      if (escape === '\\') {
        return st + mentions;
      }

      //check if options.ghMentionsLink is a string
      if (!showdown.helper.isString(options.ghMentionsLink)) {
        throw new Error('ghMentionsLink option must be a string');
      }
      var lnk = options.ghMentionsLink.replace(/\{u}/g, username),
          target = '';
      if (options.openLinksInNewWindow) {
        target = ' target="¨E95Eblank"';
      }
      return st + '<a href="' + lnk + '"' + target + '>' + mentions + '</a>';
    });
  }

  text = globals.converter._dispatch('anchors.after', text, options, globals);
  return text;
});

// url allowed chars [a-z\d_.~:/?#[]@!$&'()*+,;=-]

var simpleURLRegex  = /([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+?\.[^'">\s]+?)()(\1)?(?=\s|$)(?!["<>])/gi,
    simpleURLRegex2 = /([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+?)([.!?,()\[\]])?(\1)?(?=\s|$)(?!["<>])/gi,
    delimUrlRegex   = /()<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)()>()/gi,
    simpleMailRegex = /(^|\s)(?:mailto:)?([A-Za-z0-9!#$%&'*+-/=?^_`{|}~.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?=$|\s)/gmi,
    delimMailRegex  = /<()(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,

    replaceLink = function (options) {
      'use strict';
      return function (wm, leadingMagicChars, link, m2, m3, trailingPunctuation, trailingMagicChars) {
        link = link.replace(showdown.helper.regexes.asteriskDashAndColon, showdown.helper.escapeCharactersCallback);
        var lnkTxt = link,
            append = '',
            target = '',
            lmc    = leadingMagicChars || '',
            tmc    = trailingMagicChars || '';
        if (/^www\./i.test(link)) {
          link = link.replace(/^www\./i, 'http://www.');
        }
        if (options.excludeTrailingPunctuationFromURLs && trailingPunctuation) {
          append = trailingPunctuation;
        }
        if (options.openLinksInNewWindow) {
          target = ' target="¨E95Eblank"';
        }
        return lmc + '<a href="' + link + '"' + target + '>' + lnkTxt + '</a>' + append + tmc;
      };
    },

    replaceMail = function (options, globals) {
      'use strict';
      return function (wholeMatch, b, mail) {
        var href = 'mailto:';
        b = b || '';
        mail = showdown.subParser('unescapeSpecialChars')(mail, options, globals);
        if (options.encodeEmails) {
          href = showdown.helper.encodeEmailAddress(href + mail);
          mail = showdown.helper.encodeEmailAddress(mail);
        } else {
          href = href + mail;
        }
        return b + '<a href="' + href + '">' + mail + '</a>';
      };
    };

showdown.subParser('autoLinks', function (text, options, globals) {
  'use strict';

  text = globals.converter._dispatch('autoLinks.before', text, options, globals);

  text = text.replace(delimUrlRegex, replaceLink(options));
  text = text.replace(delimMailRegex, replaceMail(options, globals));

  text = globals.converter._dispatch('autoLinks.after', text, options, globals);

  return text;
});

showdown.subParser('simplifiedAutoLinks', function (text, options, globals) {
  'use strict';

  if (!options.simplifiedAutoLink) {
    return text;
  }

  text = globals.converter._dispatch('simplifiedAutoLinks.before', text, options, globals);

  if (options.excludeTrailingPunctuationFromURLs) {
    text = text.replace(simpleURLRegex2, replaceLink(options));
  } else {
    text = text.replace(simpleURLRegex, replaceLink(options));
  }
  text = text.replace(simpleMailRegex, replaceMail(options, globals));

  text = globals.converter._dispatch('simplifiedAutoLinks.after', text, options, globals);

  return text;
});

/**
 * These are all the transformations that form block-level
 * tags like paragraphs, headers, and list items.
 */
showdown.subParser('blockGamut', function (text, options, globals) {
  'use strict';

  text = globals.converter._dispatch('blockGamut.before', text, options, globals);

  // we parse blockquotes first so that we can have headings and hrs
  // inside blockquotes
  text = showdown.subParser('blockQuotes')(text, options, globals);
  text = showdown.subParser('headers')(text, options, globals);

  // Do Horizontal Rules:
  text = showdown.subParser('horizontalRule')(text, options, globals);

  text = showdown.subParser('lists')(text, options, globals);
  text = showdown.subParser('codeBlocks')(text, options, globals);
  text = showdown.subParser('tables')(text, options, globals);

  // We already ran _HashHTMLBlocks() before, in Markdown(), but that
  // was to escape raw HTML in the original Markdown source. This time,
  // we're escaping the markup we've just created, so that we don't wrap
  // <p> tags around block-level tags.
  text = showdown.subParser('hashHTMLBlocks')(text, options, globals);
  text = showdown.subParser('paragraphs')(text, options, globals);

  text = globals.converter._dispatch('blockGamut.after', text, options, globals);

  return text;
});

showdown.subParser('blockQuotes', function (text, options, globals) {
  'use strict';

  text = globals.converter._dispatch('blockQuotes.before', text, options, globals);

  // add a couple extra lines after the text and endtext mark
  text = text + '\n\n';

  var rgx = /(^ {0,3}>[ \t]?.+\n(.+\n)*\n*)+/gm;

  if (options.splitAdjacentBlockquotes) {
    rgx = /^ {0,3}>[\s\S]*?(?:\n\n)/gm;
  }

  text = text.replace(rgx, function (bq) {
    // attacklab: hack around Konqueror 3.5.4 bug:
    // "----------bug".replace(/^-/g,"") == "bug"
    bq = bq.replace(/^[ \t]*>[ \t]?/gm, ''); // trim one level of quoting

    // attacklab: clean up hack
    bq = bq.replace(/¨0/g, '');

    bq = bq.replace(/^[ \t]+$/gm, ''); // trim whitespace-only lines
    bq = showdown.subParser('githubCodeBlocks')(bq, options, globals);
    bq = showdown.subParser('blockGamut')(bq, options, globals); // recurse

    bq = bq.replace(/(^|\n)/g, '$1  ');
    // These leading spaces screw with <pre> content, so we need to fix that:
    bq = bq.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm, function (wholeMatch, m1) {
      var pre = m1;
      // attacklab: hack around Konqueror 3.5.4 bug:
      pre = pre.replace(/^  /mg, '¨0');
      pre = pre.replace(/¨0/g, '');
      return pre;
    });

    return showdown.subParser('hashBlock')('<blockquote>\n' + bq + '\n</blockquote>', options, globals);
  });

  text = globals.converter._dispatch('blockQuotes.after', text, options, globals);
  return text;
});

/**
 * Process Markdown `<pre><code>` blocks.
 */
showdown.subParser('codeBlocks', function (text, options, globals) {
  'use strict';

  text = globals.converter._dispatch('codeBlocks.before', text, options, globals);

  // sentinel workarounds for lack of \A and \Z, safari\khtml bug
  text += '¨0';

  var pattern = /(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=¨0))/g;
  text = text.replace(pattern, function (wholeMatch, m1, m2) {
    var codeblock = m1,
        nextChar = m2,
        end = '\n';

    codeblock = showdown.subParser('outdent')(codeblock, options, globals);
    codeblock = showdown.subParser('encodeCode')(codeblock, options, globals);
    codeblock = showdown.subParser('detab')(codeblock, options, globals);
    codeblock = codeblock.replace(/^\n+/g, ''); // trim leading newlines
    codeblock = codeblock.replace(/\n+$/g, ''); // trim trailing newlines

    if (options.omitExtraWLInCodeBlocks) {
      end = '';
    }

    codeblock = '<pre><code>' + codeblock + end + '</code></pre>';

    return showdown.subParser('hashBlock')(codeblock, options, globals) + nextChar;
  });

  // strip sentinel
  text = text.replace(/¨0/, '');

  text = globals.converter._dispatch('codeBlocks.after', text, options, globals);
  return text;
});

/**
 *
 *   *  Backtick quotes are used for <code></code> spans.
 *
 *   *  You can use multiple backticks as the delimiters if you want to
 *     include literal backticks in the code span. So, this input:
 *
 *         Just type ``foo `bar` baz`` at the prompt.
 *
 *       Will translate to:
 *
 *         <p>Just type <code>foo `bar` baz</code> at the prompt.</p>
 *
 *    There's no arbitrary limit to the number of backticks you
 *    can use as delimters. If you need three consecutive backticks
 *    in your code, use four for delimiters, etc.
 *
 *  *  You can use spaces to get literal backticks at the edges:
 *
 *         ... type `` `bar` `` ...
 *
 *       Turns to:
 *
 *         ... type <code>`bar`</code> ...
 */
showdown.subParser('codeSpans', function (text, options, globals) {
  'use strict';

  text = globals.converter._dispatch('codeSpans.before', text, options, globals);

  if (typeof(text) === 'undefined') {
    text = '';
  }
  text = text.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,
    function (wholeMatch, m1, m2, m3) {
      var c = m3;
      c = c.replace(/^([ \t]*)/g, '');	// leading whitespace
      c = c.replace(/[ \t]*$/g, '');	// trailing whitespace
      c = showdown.subParser('encodeCode')(c, options, globals);
      c = m1 + '<code>' + c + '</code>';
      c = showdown.subParser('hashHTMLSpans')(c, options, globals);
      return c;
    }
  );

  text = globals.converter._dispatch('codeSpans.after', text, options, globals);
  return text;
});

/**
 * Turn Markdown link shortcuts into XHTML <a> tags.
 */
showdown.subParser('completeHTMLDocument', function (text, options, globals) {
  'use strict';

  if (!options.completeHTMLDocument) {
    return text;
  }

  text = globals.converter._dispatch('completeHTMLDocument.before', text, options, globals);

  var doctype = 'html',
      doctypeParsed = '<!DOCTYPE HTML>\n',
      title = '',
      charset = '<meta charset="utf-8">\n',
      lang = '',
      metadata = '';

  if (typeof globals.metadata.parsed.doctype !== 'undefined') {
    doctypeParsed = '<!DOCTYPE ' +  globals.metadata.parsed.doctype + '>\n';
    doctype = globals.metadata.parsed.doctype.toString().toLowerCase();
    if (doctype === 'html' || doctype === 'html5') {
      charset = '<meta charset="utf-8">';
    }
  }

  for (var meta in globals.metadata.parsed) {
    if (globals.metadata.parsed.hasOwnProperty(meta)) {
      switch (meta.toLowerCase()) {
        case 'doctype':
          break;

        case 'title':
          title = '<title>' +  globals.metadata.parsed.title + '</title>\n';
          break;

        case 'charset':
          if (doctype === 'html' || doctype === 'html5') {
            charset = '<meta charset="' + globals.metadata.parsed.charset + '">\n';
          } else {
            charset = '<meta name="charset" content="' + globals.metadata.parsed.charset + '">\n';
          }
          break;

        case 'language':
        case 'lang':
          lang = ' lang="' + globals.metadata.parsed[meta] + '"';
          metadata += '<meta name="' + meta + '" content="' + globals.metadata.parsed[meta] + '">\n';
          break;

        default:
          metadata += '<meta name="' + meta + '" content="' + globals.metadata.parsed[meta] + '">\n';
      }
    }
  }

  text = doctypeParsed + '<html' + lang + '>\n<head>\n' + title + charset + metadata + '</head>\n<body>\n' + text.trim() + '\n</body>\n</html>';

  text = globals.converter._dispatch('completeHTMLDocument.after', text, options, globals);
  return text;
});

/**
 * Convert all tabs to spaces
 */
showdown.subParser('detab', function (text, options, globals) {
  'use strict';
  text = globals.converter._dispatch('detab.before', text, options, globals);

  // expand first n-1 tabs
  text = text.replace(/\t(?=\t)/g, '    '); // g_tab_width

  // replace the nth with two sentinels
  text = text.replace(/\t/g, '¨A¨B');

  // use the sentinel to anchor our regex so it doesn't explode
  text = text.replace(/¨B(.+?)¨A/g, function (wholeMatch, m1) {
    var leadingText = m1,
        numSpaces = 4 - leadingText.length % 4;  // g_tab_width

    // there *must* be a better way to do this:
    for (var i = 0; i < numSpaces; i++) {
      leadingText += ' ';
    }

    return leadingText;
  });

  // clean up sentinels
  text = text.replace(/¨A/g, '    ');  // g_tab_width
  text = text.replace(/¨B/g, '');

  text = globals.converter._dispatch('detab.after', text, options, globals);
  return text;
});

showdown.subParser('ellipsis', function (text, options, globals) {
  'use strict';

  text = globals.converter._dispatch('ellipsis.before', text, options, globals);

  text = text.replace(/\.\.\./g, '…');

  text = globals.converter._dispatch('ellipsis.after', text, options, globals);

  return text;
});

/**
 * These are all the transformations that occur *within* block-level
 * tags like paragraphs, headers, and list items.
 */
showdown.subParser('emoji', function (text, options, globals) {
  'use strict';

  if (!options.emoji) {
    return text;
  }

  text = globals.converter._dispatch('emoji.before', text, options, globals);

  var emojiRgx = /:([\S]+?):/g;

  text = text.replace(emojiRgx, function (wm, emojiCode) {
    if (showdown.helper.emojis.hasOwnProperty(emojiCode)) {
      return showdown.helper.emojis[emojiCode];
    }
    return wm;
  });

  text = globals.converter._dispatch('emoji.after', text, options, globals);

  return text;
});

/**
 * Smart processing for ampersands and angle brackets that need to be encoded.
 */
showdown.subParser('encodeAmpsAndAngles', function (text, options, globals) {
  'use strict';
  text = globals.converter._dispatch('encodeAmpsAndAngles.before', text, options, globals);

  // Ampersand-encoding based entirely on Nat Irons's Amputator MT plugin:
  // http://bumppo.net/projects/amputator/
  text = text.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g, '&amp;');

  // Encode naked <'s
  text = text.replace(/<(?![a-z\/?$!])/gi, '&lt;');

  // Encode <
  text = text.replace(/</g, '&lt;');

  // Encode >
  text = text.replace(/>/g, '&gt;');

  text = globals.converter._dispatch('encodeAmpsAndAngles.after', text, options, globals);
  return text;
});

/**
 * Returns the string, with after processing the following backslash escape sequences.
 *
 * attacklab: The polite way to do this is with the new escapeCharacters() function:
 *
 *    text = escapeCharacters(text,"\\",true);
 *    text = escapeCharacters(text,"`*_{}[]()>#+-.!",true);
 *
 * ...but we're sidestepping its use of the (slow) RegExp constructor
 * as an optimization for Firefox.  This function gets called a LOT.
 */
showdown.subParser('encodeBackslashEscapes', function (text, options, globals) {
  'use strict';
  text = globals.converter._dispatch('encodeBackslashEscapes.before', text, options, globals);

  text = text.replace(/\\(\\)/g, showdown.helper.escapeCharactersCallback);
  text = text.replace(/\\([`*_{}\[\]()>#+.!~=|-])/g, showdown.helper.escapeCharactersCallback);

  text = globals.converter._dispatch('encodeBackslashEscapes.after', text, options, globals);
  return text;
});

/**
 * Encode/escape certain characters inside Markdown code runs.
 * The point is that in code, these characters are literals,
 * and lose their special Markdown meanings.
 */
showdown.subParser('encodeCode', function (text, options, globals) {
  'use strict';

  text = globals.converter._dispatch('encodeCode.before', text, options, globals);

  // Encode all ampersands; HTML entities are not
  // entities within a Markdown code span.
  text = text
    .replace(/&/g, '&amp;')
  // Do the angle bracket song and dance:
    .replace(/</g, '&lt;')
    .replace(/>/g, '&gt;')
  // Now, escape characters that are magic in Markdown:
    .replace(/([*_{}\[\]\\=~-])/g, showdown.helper.escapeCharactersCallback);

  text = globals.converter._dispatch('encodeCode.after', text, options, globals);
  return text;
});

/**
 * Within tags -- meaning between < and > -- encode [\ ` * _ ~ =] so they
 * don't conflict with their use in Markdown for code, italics and strong.
 */
showdown.subParser('escapeSpecialCharsWithinTagAttributes', function (text, options, globals) {
  'use strict';
  text = globals.converter._dispatch('escapeSpecialCharsWithinTagAttributes.before', text, options, globals);

  // Build a regex to find HTML tags.
  var tags     = /<\/?[a-z\d_:-]+(?:[\s]+[\s\S]+?)?>/gi,
      comments = /<!(--(?:(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>/gi;

  text = text.replace(tags, function (wholeMatch) {
    return wholeMatch
      .replace(/(.)<\/?code>(?=.)/g, '$1`')
      .replace(/([\\`*_~=|])/g, showdown.helper.escapeCharactersCallback);
  });

  text = text.replace(comments, function (wholeMatch) {
    return wholeMatch
      .replace(/([\\`*_~=|])/g, showdown.helper.escapeCharactersCallback);
  });

  text = globals.converter._dispatch('escapeSpecialCharsWithinTagAttributes.after', text, options, globals);
  return text;
});

/**
 * Handle github codeblocks prior to running HashHTML so that
 * HTML contained within the codeblock gets escaped properly
 * Example:
 * ```ruby
 *     def hello_world(x)
 *       puts "Hello, #{x}"
 *     end
 * ```
 */
showdown.subParser('githubCodeBlocks', function (text, options, globals) {
  'use strict';

  // early exit if option is not enabled
  if (!options.ghCodeBlocks) {
    return text;
  }

  text = globals.converter._dispatch('githubCodeBlocks.before', text, options, globals);

  text += '¨0';

  text = text.replace(/(?:^|\n)(```+|~~~+)([^\s`~]*)\n([\s\S]*?)\n\1/g, function (wholeMatch, delim, language, codeblock) {
    var end = (options.omitExtraWLInCodeBlocks) ? '' : '\n';

    // First parse the github code block
    codeblock = showdown.subParser('encodeCode')(codeblock, options, globals);
    codeblock = showdown.subParser('detab')(codeblock, options, globals);
    codeblock = codeblock.replace(/^\n+/g, ''); // trim leading newlines
    codeblock = codeblock.replace(/\n+$/g, ''); // trim trailing whitespace

    codeblock = '<pre><code' + (language ? ' class="' + language + ' language-' + language + '"' : '') + '>' + codeblock + end + '</code></pre>';

    codeblock = showdown.subParser('hashBlock')(codeblock, options, globals);

    // Since GHCodeblocks can be false positives, we need to
    // store the primitive text and the parsed text in a global var,
    // and then return a token
    return '\n\n¨G' + (globals.ghCodeBlocks.push({text: wholeMatch, codeblock: codeblock}) - 1) + 'G\n\n';
  });

  // attacklab: strip sentinel
  text = text.replace(/¨0/, '');

  return globals.converter._dispatch('githubCodeBlocks.after', text, options, globals);
});

showdown.subParser('hashBlock', function (text, options, globals) {
  'use strict';
  text = globals.converter._dispatch('hashBlock.before', text, options, globals);
  text = text.replace(/(^\n+|\n+$)/g, '');
  text = '\n\n¨K' + (globals.gHtmlBlocks.push(text) - 1) + 'K\n\n';
  text = globals.converter._dispatch('hashBlock.after', text, options, globals);
  return text;
});

/**
 * Hash and escape <code> elements that should not be parsed as markdown
 */
showdown.subParser('hashCodeTags', function (text, options, globals) {
  'use strict';
  text = globals.converter._dispatch('hashCodeTags.before', text, options, globals);

  var repFunc = function (wholeMatch, match, left, right) {
    var codeblock = left + showdown.subParser('encodeCode')(match, options, globals) + right;
    return '¨C' + (globals.gHtmlSpans.push(codeblock) - 1) + 'C';
  };

  // Hash naked <code>
  text = showdown.helper.replaceRecursiveRegExp(text, repFunc, '<code\\b[^>]*>', '</code>', 'gim');

  text = globals.converter._dispatch('hashCodeTags.after', text, options, globals);
  return text;
});

showdown.subParser('hashElement', function (text, options, globals) {
  'use strict';

  return function (wholeMatch, m1) {
    var blockText = m1;

    // Undo double lines
    blockText = blockText.replace(/\n\n/g, '\n');
    blockText = blockText.replace(/^\n/, '');

    // strip trailing blank lines
    blockText = blockText.replace(/\n+$/g, '');

    // Replace the element text with a marker ("¨KxK" where x is its key)
    blockText = '\n\n¨K' + (globals.gHtmlBlocks.push(blockText) - 1) + 'K\n\n';

    return blockText;
  };
});

showdown.subParser('hashHTMLBlocks', function (text, options, globals) {
  'use strict';
  text = globals.converter._dispatch('hashHTMLBlocks.before', text, options, globals);

  var blockTags = [
        'pre',
        'div',
        'h1',
        'h2',
        'h3',
        'h4',
        'h5',
        'h6',
        'blockquote',
        'table',
        'dl',
        'ol',
        'ul',
        'script',
        'noscript',
        'form',
        'fieldset',
        'iframe',
        'math',
        'style',
        'section',
        'header',
        'footer',
        'nav',
        'article',
        'aside',
        'address',
        'audio',
        'canvas',
        'figure',
        'hgroup',
        'output',
        'video',
        'p'
      ],
      repFunc = function (wholeMatch, match, left, right) {
        var txt = wholeMatch;
        // check if this html element is marked as markdown
        // if so, it's contents should be parsed as markdown
        if (left.search(/\bmarkdown\b/) !== -1) {
          txt = left + globals.converter.makeHtml(match) + right;
        }
        return '\n\n¨K' + (globals.gHtmlBlocks.push(txt) - 1) + 'K\n\n';
      };

  if (options.backslashEscapesHTMLTags) {
    // encode backslash escaped HTML tags
    text = text.replace(/\\<(\/?[^>]+?)>/g, function (wm, inside) {
      return '&lt;' + inside + '&gt;';
    });
  }

  // hash HTML Blocks
  for (var i = 0; i < blockTags.length; ++i) {

    var opTagPos,
        rgx1     = new RegExp('^ {0,3}(<' + blockTags[i] + '\\b[^>]*>)', 'im'),
        patLeft  = '<' + blockTags[i] + '\\b[^>]*>',
        patRight = '</' + blockTags[i] + '>';
    // 1. Look for the first position of the first opening HTML tag in the text
    while ((opTagPos = showdown.helper.regexIndexOf(text, rgx1)) !== -1) {

      // if the HTML tag is \ escaped, we need to escape it and break


      //2. Split the text in that position
      var subTexts = showdown.helper.splitAtIndex(text, opTagPos),
      //3. Match recursively
          newSubText1 = showdown.helper.replaceRecursiveRegExp(subTexts[1], repFunc, patLeft, patRight, 'im');

      // prevent an infinite loop
      if (newSubText1 === subTexts[1]) {
        break;
      }
      text = subTexts[0].concat(newSubText1);
    }
  }
  // HR SPECIAL CASE
  text = text.replace(/(\n {0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,
    showdown.subParser('hashElement')(text, options, globals));

  // Special case for standalone HTML comments
  text = showdown.helper.replaceRecursiveRegExp(text, function (txt) {
    return '\n\n¨K' + (globals.gHtmlBlocks.push(txt) - 1) + 'K\n\n';
  }, '^ {0,3}<!--', '-->', 'gm');

  // PHP and ASP-style processor instructions (<?...?> and <%...%>)
  text = text.replace(/(?:\n\n)( {0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,
    showdown.subParser('hashElement')(text, options, globals));

  text = globals.converter._dispatch('hashHTMLBlocks.after', text, options, globals);
  return text;
});

/**
 * Hash span elements that should not be parsed as markdown
 */
showdown.subParser('hashHTMLSpans', function (text, options, globals) {
  'use strict';
  text = globals.converter._dispatch('hashHTMLSpans.before', text, options, globals);

  function hashHTMLSpan (html) {
    return '¨C' + (globals.gHtmlSpans.push(html) - 1) + 'C';
  }

  // Hash Self Closing tags
  text = text.replace(/<[^>]+?\/>/gi, function (wm) {
    return hashHTMLSpan(wm);
  });

  // Hash tags without properties
  text = text.replace(/<([^>]+?)>[\s\S]*?<\/\1>/g, function (wm) {
    return hashHTMLSpan(wm);
  });

  // Hash tags with properties
  text = text.replace(/<([^>]+?)\s[^>]+?>[\s\S]*?<\/\1>/g, function (wm) {
    return hashHTMLSpan(wm);
  });

  // Hash self closing tags without />
  text = text.replace(/<[^>]+?>/gi, function (wm) {
    return hashHTMLSpan(wm);
  });

  /*showdown.helper.matchRecursiveRegExp(text, '<code\\b[^>]*>', '</code>', 'gi');*/

  text = globals.converter._dispatch('hashHTMLSpans.after', text, options, globals);
  return text;
});

/**
 * Unhash HTML spans
 */
showdown.subParser('unhashHTMLSpans', function (text, options, globals) {
  'use strict';
  text = globals.converter._dispatch('unhashHTMLSpans.before', text, options, globals);

  for (var i = 0; i < globals.gHtmlSpans.length; ++i) {
    var repText = globals.gHtmlSpans[i],
        // limiter to prevent infinite loop (assume 10 as limit for recurse)
        limit = 0;

    while (/¨C(\d+)C/.test(repText)) {
      var num = RegExp.$1;
      repText = repText.replace('¨C' + num + 'C', globals.gHtmlSpans[num]);
      if (limit === 10) {
        console.error('maximum nesting of 10 spans reached!!!');
        break;
      }
      ++limit;
    }
    text = text.replace('¨C' + i + 'C', repText);
  }

  text = globals.converter._dispatch('unhashHTMLSpans.after', text, options, globals);
  return text;
});

/**
 * Hash and escape <pre><code> elements that should not be parsed as markdown
 */
showdown.subParser('hashPreCodeTags', function (text, options, globals) {
  'use strict';
  text = globals.converter._dispatch('hashPreCodeTags.before', text, options, globals);

  var repFunc = function (wholeMatch, match, left, right) {
    // encode html entities
    var codeblock = left + showdown.subParser('encodeCode')(match, options, globals) + right;
    return '\n\n¨G' + (globals.ghCodeBlocks.push({text: wholeMatch, codeblock: codeblock}) - 1) + 'G\n\n';
  };

  // Hash <pre><code>
  text = showdown.helper.replaceRecursiveRegExp(text, repFunc, '^ {0,3}<pre\\b[^>]*>\\s*<code\\b[^>]*>', '^ {0,3}</code>\\s*</pre>', 'gim');

  text = globals.converter._dispatch('hashPreCodeTags.after', text, options, globals);
  return text;
});

showdown.subParser('headers', function (text, options, globals) {
  'use strict';

  text = globals.converter._dispatch('headers.before', text, options, globals);

  var headerLevelStart = (isNaN(parseInt(options.headerLevelStart))) ? 1 : parseInt(options.headerLevelStart),

  // Set text-style headers:
  //	Header 1
  //	========
  //
  //	Header 2
  //	--------
  //
      setextRegexH1 = (options.smoothLivePreview) ? /^(.+)[ \t]*\n={2,}[ \t]*\n+/gm : /^(.+)[ \t]*\n=+[ \t]*\n+/gm,
      setextRegexH2 = (options.smoothLivePreview) ? /^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm : /^(.+)[ \t]*\n-+[ \t]*\n+/gm;

  text = text.replace(setextRegexH1, function (wholeMatch, m1) {

    var spanGamut = showdown.subParser('spanGamut')(m1, options, globals),
        hID = (options.noHeaderId) ? '' : ' id="' + headerId(m1) + '"',
        hLevel = headerLevelStart,
        hashBlock = '<h' + hLevel + hID + '>' + spanGamut + '</h' + hLevel + '>';
    return showdown.subParser('hashBlock')(hashBlock, options, globals);
  });

  text = text.replace(setextRegexH2, function (matchFound, m1) {
    var spanGamut = showdown.subParser('spanGamut')(m1, options, globals),
        hID = (options.noHeaderId) ? '' : ' id="' + headerId(m1) + '"',
        hLevel = headerLevelStart + 1,
        hashBlock = '<h' + hLevel + hID + '>' + spanGamut + '</h' + hLevel + '>';
    return showdown.subParser('hashBlock')(hashBlock, options, globals);
  });

  // atx-style headers:
  //  # Header 1
  //  ## Header 2
  //  ## Header 2 with closing hashes ##
  //  ...
  //  ###### Header 6
  //
  var atxStyle = (options.requireSpaceBeforeHeadingText) ? /^(#{1,6})[ \t]+(.+?)[ \t]*#*\n+/gm : /^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm;

  text = text.replace(atxStyle, function (wholeMatch, m1, m2) {
    var hText = m2;
    if (options.customizedHeaderId) {
      hText = m2.replace(/\s?\{([^{]+?)}\s*$/, '');
    }

    var span = showdown.subParser('spanGamut')(hText, options, globals),
        hID = (options.noHeaderId) ? '' : ' id="' + headerId(m2) + '"',
        hLevel = headerLevelStart - 1 + m1.length,
        header = '<h' + hLevel + hID + '>' + span + '</h' + hLevel + '>';

    return showdown.subParser('hashBlock')(header, options, globals);
  });

  function headerId (m) {
    var title,
        prefix;

    // It is separate from other options to allow combining prefix and customized
    if (options.customizedHeaderId) {
      var match = m.match(/\{([^{]+?)}\s*$/);
      if (match && match[1]) {
        m = match[1];
      }
    }

    title = m;

    // Prefix id to prevent causing inadvertent pre-existing style matches.
    if (showdown.helper.isString(options.prefixHeaderId)) {
      prefix = options.prefixHeaderId;
    } else if (options.prefixHeaderId === true) {
      prefix = 'section-';
    } else {
      prefix = '';
    }

    if (!options.rawPrefixHeaderId) {
      title = prefix + title;
    }

    if (options.ghCompatibleHeaderId) {
      title = title
        .replace(/ /g, '-')
        // replace previously escaped chars (&, ¨ and $)
        .replace(/&amp;/g, '')
        .replace(/¨T/g, '')
        .replace(/¨D/g, '')
        // replace rest of the chars (&~$ are repeated as they might have been escaped)
        // borrowed from github's redcarpet (some they should produce similar results)
        .replace(/[&+$,\/:;=?@"#{}|^¨~\[\]`\\*)(%.!'<>]/g, '')
        .toLowerCase();
    } else if (options.rawHeaderId) {
      title = title
        .replace(/ /g, '-')
        // replace previously escaped chars (&, ¨ and $)
        .replace(/&amp;/g, '&')
        .replace(/¨T/g, '¨')
        .replace(/¨D/g, '$')
        // replace " and '
        .replace(/["']/g, '-')
        .toLowerCase();
    } else {
      title = title
        .replace(/[^\w]/g, '')
        .toLowerCase();
    }

    if (options.rawPrefixHeaderId) {
      title = prefix + title;
    }

    if (globals.hashLinkCounts[title]) {
      title = title + '-' + (globals.hashLinkCounts[title]++);
    } else {
      globals.hashLinkCounts[title] = 1;
    }
    return title;
  }

  text = globals.converter._dispatch('headers.after', text, options, globals);
  return text;
});

/**
 * Turn Markdown link shortcuts into XHTML <a> tags.
 */
showdown.subParser('horizontalRule', function (text, options, globals) {
  'use strict';
  text = globals.converter._dispatch('horizontalRule.before', text, options, globals);

  var key = showdown.subParser('hashBlock')('<hr />', options, globals);
  text = text.replace(/^ {0,2}( ?-){3,}[ \t]*$/gm, key);
  text = text.replace(/^ {0,2}( ?\*){3,}[ \t]*$/gm, key);
  text = text.replace(/^ {0,2}( ?_){3,}[ \t]*$/gm, key);

  text = globals.converter._dispatch('horizontalRule.after', text, options, globals);
  return text;
});

/**
 * Turn Markdown image shortcuts into <img> tags.
 */
showdown.subParser('images', function (text, options, globals) {
  'use strict';

  text = globals.converter._dispatch('images.before', text, options, globals);

  var inlineRegExp      = /!\[([^\]]*?)][ \t]*()\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,
      crazyRegExp       = /!\[([^\]]*?)][ \t]*()\([ \t]?<([^>]*)>(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(?:(["'])([^"]*?)\6))?[ \t]?\)/g,
      base64RegExp      = /!\[([^\]]*?)][ \t]*()\([ \t]?<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,
      referenceRegExp   = /!\[([^\]]*?)] ?(?:\n *)?\[([\s\S]*?)]()()()()()/g,
      refShortcutRegExp = /!\[([^\[\]]+)]()()()()()/g;

  function writeImageTagBase64 (wholeMatch, altText, linkId, url, width, height, m5, title) {
    url = url.replace(/\s/g, '');
    return writeImageTag (wholeMatch, altText, linkId, url, width, height, m5, title);
  }

  function writeImageTag (wholeMatch, altText, linkId, url, width, height, m5, title) {

    var gUrls   = globals.gUrls,
        gTitles = globals.gTitles,
        gDims   = globals.gDimensions;

    linkId = linkId.toLowerCase();

    if (!title) {
      title = '';
    }
    // Special case for explicit empty url
    if (wholeMatch.search(/\(<?\s*>? ?(['"].*['"])?\)$/m) > -1) {
      url = '';

    } else if (url === '' || url === null) {
      if (linkId === '' || linkId === null) {
        // lower-case and turn embedded newlines into spaces
        linkId = altText.toLowerCase().replace(/ ?\n/g, ' ');
      }
      url = '#' + linkId;

      if (!showdown.helper.isUndefined(gUrls[linkId])) {
        url = gUrls[linkId];
        if (!showdown.helper.isUndefined(gTitles[linkId])) {
          title = gTitles[linkId];
        }
        if (!showdown.helper.isUndefined(gDims[linkId])) {
          width = gDims[linkId].width;
          height = gDims[linkId].height;
        }
      } else {
        return wholeMatch;
      }
    }

    altText = altText
      .replace(/"/g, '&quot;')
    //altText = showdown.helper.escapeCharacters(altText, '*_', false);
      .replace(showdown.helper.regexes.asteriskDashAndColon, showdown.helper.escapeCharactersCallback);
    //url = showdown.helper.escapeCharacters(url, '*_', false);
    url = url.replace(showdown.helper.regexes.asteriskDashAndColon, showdown.helper.escapeCharactersCallback);
    var result = '<img src="' + url + '" alt="' + altText + '"';

    if (title) {
      title = title
        .replace(/"/g, '&quot;')
      //title = showdown.helper.escapeCharacters(title, '*_', false);
        .replace(showdown.helper.regexes.asteriskDashAndColon, showdown.helper.escapeCharactersCallback);
      result += ' title="' + title + '"';
    }

    if (width && height) {
      width  = (width === '*') ? 'auto' : width;
      height = (height === '*') ? 'auto' : height;

      result += ' width="' + width + '"';
      result += ' height="' + height + '"';
    }

    result += ' />';

    return result;
  }

  // First, handle reference-style labeled images: ![alt text][id]
  text = text.replace(referenceRegExp, writeImageTag);

  // Next, handle inline images:  ![alt text](url =<width>x<height> "optional title")

  // base64 encoded images
  text = text.replace(base64RegExp, writeImageTagBase64);

  // cases with crazy urls like ./image/cat1).png
  text = text.replace(crazyRegExp, writeImageTag);

  // normal cases
  text = text.replace(inlineRegExp, writeImageTag);

  // handle reference-style shortcuts: ![img text]
  text = text.replace(refShortcutRegExp, writeImageTag);

  text = globals.converter._dispatch('images.after', text, options, globals);
  return text;
});

showdown.subParser('italicsAndBold', function (text, options, globals) {
  'use strict';

  text = globals.converter._dispatch('italicsAndBold.before', text, options, globals);

  // it's faster to have 3 separate regexes for each case than have just one
  // because of backtracing, in some cases, it could lead to an exponential effect
  // called "catastrophic backtrace". Ominous!

  function parseInside (txt, left, right) {
    /*
    if (options.simplifiedAutoLink) {
      txt = showdown.subParser('simplifiedAutoLinks')(txt, options, globals);
    }
    */
    return left + txt + right;
  }

  // Parse underscores
  if (options.literalMidWordUnderscores) {
    text = text.replace(/\b___(\S[\s\S]*)___\b/g, function (wm, txt) {
      return parseInside (txt, '<strong><em>', '</em></strong>');
    });
    text = text.replace(/\b__(\S[\s\S]*)__\b/g, function (wm, txt) {
      return parseInside (txt, '<strong>', '</strong>');
    });
    text = text.replace(/\b_(\S[\s\S]*?)_\b/g, function (wm, txt) {
      return parseInside (txt, '<em>', '</em>');
    });
  } else {
    text = text.replace(/___(\S[\s\S]*?)___/g, function (wm, m) {
      return (/\S$/.test(m)) ? parseInside (m, '<strong><em>', '</em></strong>') : wm;
    });
    text = text.replace(/__(\S[\s\S]*?)__/g, function (wm, m) {
      return (/\S$/.test(m)) ? parseInside (m, '<strong>', '</strong>') : wm;
    });
    text = text.replace(/_([^\s_][\s\S]*?)_/g, function (wm, m) {
      // !/^_[^_]/.test(m) - test if it doesn't start with __ (since it seems redundant, we removed it)
      return (/\S$/.test(m)) ? parseInside (m, '<em>', '</em>') : wm;
    });
  }

  // Now parse asterisks
  if (options.literalMidWordAsterisks) {
    text = text.replace(/([^*]|^)\B\*\*\*(\S[\s\S]+?)\*\*\*\B(?!\*)/g, function (wm, lead, txt) {
      return parseInside (txt, lead + '<strong><em>', '</em></strong>');
    });
    text = text.replace(/([^*]|^)\B\*\*(\S[\s\S]+?)\*\*\B(?!\*)/g, function (wm, lead, txt) {
      return parseInside (txt, lead + '<strong>', '</strong>');
    });
    text = text.replace(/([^*]|^)\B\*(\S[\s\S]+?)\*\B(?!\*)/g, function (wm, lead, txt) {
      return parseInside (txt, lead + '<em>', '</em>');
    });
  } else {
    text = text.replace(/\*\*\*(\S[\s\S]*?)\*\*\*/g, function (wm, m) {
      return (/\S$/.test(m)) ? parseInside (m, '<strong><em>', '</em></strong>') : wm;
    });
    text = text.replace(/\*\*(\S[\s\S]*?)\*\*/g, function (wm, m) {
      return (/\S$/.test(m)) ? parseInside (m, '<strong>', '</strong>') : wm;
    });
    text = text.replace(/\*([^\s*][\s\S]*?)\*/g, function (wm, m) {
      // !/^\*[^*]/.test(m) - test if it doesn't start with ** (since it seems redundant, we removed it)
      return (/\S$/.test(m)) ? parseInside (m, '<em>', '</em>') : wm;
    });
  }


  text = globals.converter._dispatch('italicsAndBold.after', text, options, globals);
  return text;
});

/**
 * Form HTML ordered (numbered) and unordered (bulleted) lists.
 */
showdown.subParser('lists', function (text, options, globals) {
  'use strict';

  /**
   * Process the contents of a single ordered or unordered list, splitting it
   * into individual list items.
   * @param {string} listStr
   * @param {boolean} trimTrailing
   * @returns {string}
   */
  function processListItems (listStr, trimTrailing) {
    // The $g_list_level global keeps track of when we're inside a list.
    // Each time we enter a list, we increment it; when we leave a list,
    // we decrement. If it's zero, we're not in a list anymore.
    //
    // We do this because when we're not inside a list, we want to treat
    // something like this:
    //
    //    I recommend upgrading to version
    //    8. Oops, now this line is treated
    //    as a sub-list.
    //
    // As a single paragraph, despite the fact that the second line starts
    // with a digit-period-space sequence.
    //
    // Whereas when we're inside a list (or sub-list), that line will be
    // treated as the start of a sub-list. What a kludge, huh? This is
    // an aspect of Markdown's syntax that's hard to parse perfectly
    // without resorting to mind-reading. Perhaps the solution is to
    // change the syntax rules such that sub-lists must start with a
    // starting cardinal number; e.g. "1." or "a.".
    globals.gListLevel++;

    // trim trailing blank lines:
    listStr = listStr.replace(/\n{2,}$/, '\n');

    // attacklab: add sentinel to emulate \z
    listStr += '¨0';

    var rgx = /(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(¨0| {0,3}([*+-]|\d+[.])[ \t]+))/gm,
        isParagraphed = (/\n[ \t]*\n(?!¨0)/.test(listStr));

    // Since version 1.5, nesting sublists requires 4 spaces (or 1 tab) indentation,
    // which is a syntax breaking change
    // activating this option reverts to old behavior
    if (options.disableForced4SpacesIndentedSublists) {
      rgx = /(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(¨0|\2([*+-]|\d+[.])[ \t]+))/gm;
    }

    listStr = listStr.replace(rgx, function (wholeMatch, m1, m2, m3, m4, taskbtn, checked) {
      checked = (checked && checked.trim() !== '');

      var item = showdown.subParser('outdent')(m4, options, globals),
          bulletStyle = '';

      // Support for github tasklists
      if (taskbtn && options.tasklists) {
        bulletStyle = ' class="task-list-item" style="list-style-type: none;"';
        item = item.replace(/^[ \t]*\[(x|X| )?]/m, function () {
          var otp = '<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';
          if (checked) {
            otp += ' checked';
          }
          otp += '>';
          return otp;
        });
      }

      // ISSUE #312
      // This input: - - - a
      // causes trouble to the parser, since it interprets it as:
      // <ul><li><li><li>a</li></li></li></ul>
      // instead of:
      // <ul><li>- - a</li></ul>
      // So, to prevent it, we will put a marker (¨A)in the beginning of the line
      // Kind of hackish/monkey patching, but seems more effective than overcomplicating the list parser
      item = item.replace(/^([-*+]|\d\.)[ \t]+[\S\n ]*/g, function (wm2) {
        return '¨A' + wm2;
      });

      // m1 - Leading line or
      // Has a double return (multi paragraph) or
      // Has sublist
      if (m1 || (item.search(/\n{2,}/) > -1)) {
        item = showdown.subParser('githubCodeBlocks')(item, options, globals);
        item = showdown.subParser('blockGamut')(item, options, globals);
      } else {
        // Recursion for sub-lists:
        item = showdown.subParser('lists')(item, options, globals);
        item = item.replace(/\n$/, ''); // chomp(item)
        item = showdown.subParser('hashHTMLBlocks')(item, options, globals);

        // Colapse double linebreaks
        item = item.replace(/\n\n+/g, '\n\n');
        if (isParagraphed) {
          item = showdown.subParser('paragraphs')(item, options, globals);
        } else {
          item = showdown.subParser('spanGamut')(item, options, globals);
        }
      }

      // now we need to remove the marker (¨A)
      item = item.replace('¨A', '');
      // we can finally wrap the line in list item tags
      item =  '<li' + bulletStyle + '>' + item + '</li>\n';

      return item;
    });

    // attacklab: strip sentinel
    listStr = listStr.replace(/¨0/g, '');

    globals.gListLevel--;

    if (trimTrailing) {
      listStr = listStr.replace(/\s+$/, '');
    }

    return listStr;
  }

  function styleStartNumber (list, listType) {
    // check if ol and starts by a number different than 1
    if (listType === 'ol') {
      var res = list.match(/^ *(\d+)\./);
      if (res && res[1] !== '1') {
        return ' start="' + res[1] + '"';
      }
    }
    return '';
  }

  /**
   * Check and parse consecutive lists (better fix for issue #142)
   * @param {string} list
   * @param {string} listType
   * @param {boolean} trimTrailing
   * @returns {string}
   */
  function parseConsecutiveLists (list, listType, trimTrailing) {
    // check if we caught 2 or more consecutive lists by mistake
    // we use the counterRgx, meaning if listType is UL we look for OL and vice versa
    var olRgx = (options.disableForced4SpacesIndentedSublists) ? /^ ?\d+\.[ \t]/gm : /^ {0,3}\d+\.[ \t]/gm,
        ulRgx = (options.disableForced4SpacesIndentedSublists) ? /^ ?[*+-][ \t]/gm : /^ {0,3}[*+-][ \t]/gm,
        counterRxg = (listType === 'ul') ? olRgx : ulRgx,
        result = '';

    if (list.search(counterRxg) !== -1) {
      (function parseCL (txt) {
        var pos = txt.search(counterRxg),
            style = styleStartNumber(list, listType);
        if (pos !== -1) {
          // slice
          result += '\n\n<' + listType + style + '>\n' + processListItems(txt.slice(0, pos), !!trimTrailing) + '</' + listType + '>\n';

          // invert counterType and listType
          listType = (listType === 'ul') ? 'ol' : 'ul';
          counterRxg = (listType === 'ul') ? olRgx : ulRgx;

          //recurse
          parseCL(txt.slice(pos));
        } else {
          result += '\n\n<' + listType + style + '>\n' + processListItems(txt, !!trimTrailing) + '</' + listType + '>\n';
        }
      })(list);
    } else {
      var style = styleStartNumber(list, listType);
      result = '\n\n<' + listType + style + '>\n' + processListItems(list, !!trimTrailing) + '</' + listType + '>\n';
    }

    return result;
  }

  /** Start of list parsing **/
  text = globals.converter._dispatch('lists.before', text, options, globals);
  // add sentinel to hack around khtml/safari bug:
  // http://bugs.webkit.org/show_bug.cgi?id=11231
  text += '¨0';

  if (globals.gListLevel) {
    text = text.replace(/^(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(¨0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,
      function (wholeMatch, list, m2) {
        var listType = (m2.search(/[*+-]/g) > -1) ? 'ul' : 'ol';
        return parseConsecutiveLists(list, listType, true);
      }
    );
  } else {
    text = text.replace(/(\n\n|^\n?)(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(¨0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,
      function (wholeMatch, m1, list, m3) {
        var listType = (m3.search(/[*+-]/g) > -1) ? 'ul' : 'ol';
        return parseConsecutiveLists(list, listType, false);
      }
    );
  }

  // strip sentinel
  text = text.replace(/¨0/, '');
  text = globals.converter._dispatch('lists.after', text, options, globals);
  return text;
});

/**
 * Parse metadata at the top of the document
 */
showdown.subParser('metadata', function (text, options, globals) {
  'use strict';

  if (!options.metadata) {
    return text;
  }

  text = globals.converter._dispatch('metadata.before', text, options, globals);

  function parseMetadataContents (content) {
    // raw is raw so it's not changed in any way
    globals.metadata.raw = content;

    // escape chars forbidden in html attributes
    // double quotes
    content = content
      // ampersand first
      .replace(/&/g, '&amp;')
      // double quotes
      .replace(/"/g, '&quot;');

    content = content.replace(/\n {4}/g, ' ');
    content.replace(/^([\S ]+): +([\s\S]+?)$/gm, function (wm, key, value) {
      globals.metadata.parsed[key] = value;
      return '';
    });
  }

  text = text.replace(/^\s*«««+(\S*?)\n([\s\S]+?)\n»»»+\n/, function (wholematch, format, content) {
    parseMetadataContents(content);
    return '¨M';
  });

  text = text.replace(/^\s*---+(\S*?)\n([\s\S]+?)\n---+\n/, function (wholematch, format, content) {
    if (format) {
      globals.metadata.format = format;
    }
    parseMetadataContents(content);
    return '¨M';
  });

  text = text.replace(/¨M/g, '');

  text = globals.converter._dispatch('metadata.after', text, options, globals);
  return text;
});

/**
 * Remove one level of line-leading tabs or spaces
 */
showdown.subParser('outdent', function (text, options, globals) {
  'use strict';
  text = globals.converter._dispatch('outdent.before', text, options, globals);

  // attacklab: hack around Konqueror 3.5.4 bug:
  // "----------bug".replace(/^-/g,"") == "bug"
  text = text.replace(/^(\t|[ ]{1,4})/gm, '¨0'); // attacklab: g_tab_width

  // attacklab: clean up hack
  text = text.replace(/¨0/g, '');

  text = globals.converter._dispatch('outdent.after', text, options, globals);
  return text;
});

/**
 *
 */
showdown.subParser('paragraphs', function (text, options, globals) {
  'use strict';

  text = globals.converter._dispatch('paragraphs.before', text, options, globals);
  // Strip leading and trailing lines:
  text = text.replace(/^\n+/g, '');
  text = text.replace(/\n+$/g, '');

  var grafs = text.split(/\n{2,}/g),
      grafsOut = [],
      end = grafs.length; // Wrap <p> tags

  for (var i = 0; i < end; i++) {
    var str = grafs[i];
    // if this is an HTML marker, copy it
    if (str.search(/¨(K|G)(\d+)\1/g) >= 0) {
      grafsOut.push(str);

    // test for presence of characters to prevent empty lines being parsed
    // as paragraphs (resulting in undesired extra empty paragraphs)
    } else if (str.search(/\S/) >= 0) {
      str = showdown.subParser('spanGamut')(str, options, globals);
      str = str.replace(/^([ \t]*)/g, '<p>');
      str += '</p>';
      grafsOut.push(str);
    }
  }

  /** Unhashify HTML blocks */
  end = grafsOut.length;
  for (i = 0; i < end; i++) {
    var blockText = '',
        grafsOutIt = grafsOut[i],
        codeFlag = false;
    // if this is a marker for an html block...
    // use RegExp.test instead of string.search because of QML bug
    while (/¨(K|G)(\d+)\1/.test(grafsOutIt)) {
      var delim = RegExp.$1,
          num   = RegExp.$2;

      if (delim === 'K') {
        blockText = globals.gHtmlBlocks[num];
      } else {
        // we need to check if ghBlock is a false positive
        if (codeFlag) {
          // use encoded version of all text
          blockText = showdown.subParser('encodeCode')(globals.ghCodeBlocks[num].text, options, globals);
        } else {
          blockText = globals.ghCodeBlocks[num].codeblock;
        }
      }
      blockText = blockText.replace(/\$/g, '$$$$'); // Escape any dollar signs

      grafsOutIt = grafsOutIt.replace(/(\n\n)?¨(K|G)\d+\2(\n\n)?/, blockText);
      // Check if grafsOutIt is a pre->code
      if (/^<pre\b[^>]*>\s*<code\b[^>]*>/.test(grafsOutIt)) {
        codeFlag = true;
      }
    }
    grafsOut[i] = grafsOutIt;
  }
  text = grafsOut.join('\n');
  // Strip leading and trailing lines:
  text = text.replace(/^\n+/g, '');
  text = text.replace(/\n+$/g, '');
  return globals.converter._dispatch('paragraphs.after', text, options, globals);
});

/**
 * Run extension
 */
showdown.subParser('runExtension', function (ext, text, options, globals) {
  'use strict';

  if (ext.filter) {
    text = ext.filter(text, globals.converter, options);

  } else if (ext.regex) {
    // TODO remove this when old extension loading mechanism is deprecated
    var re = ext.regex;
    if (!(re instanceof RegExp)) {
      re = new RegExp(re, 'g');
    }
    text = text.replace(re, ext.replace);
  }

  return text;
});

/**
 * These are all the transformations that occur *within* block-level
 * tags like paragraphs, headers, and list items.
 */
showdown.subParser('spanGamut', function (text, options, globals) {
  'use strict';

  text = globals.converter._dispatch('spanGamut.before', text, options, globals);
  text = showdown.subParser('codeSpans')(text, options, globals);
  text = showdown.subParser('escapeSpecialCharsWithinTagAttributes')(text, options, globals);
  text = showdown.subParser('encodeBackslashEscapes')(text, options, globals);

  // Process anchor and image tags. Images must come first,
  // because ![foo][f] looks like an anchor.
  text = showdown.subParser('images')(text, options, globals);
  text = showdown.subParser('anchors')(text, options, globals);

  // Make links out of things like `<http://example.com/>`
  // Must come after anchors, because you can use < and >
  // delimiters in inline links like [this](<url>).
  text = showdown.subParser('autoLinks')(text, options, globals);
  text = showdown.subParser('simplifiedAutoLinks')(text, options, globals);
  text = showdown.subParser('emoji')(text, options, globals);
  text = showdown.subParser('underline')(text, options, globals);
  text = showdown.subParser('italicsAndBold')(text, options, globals);
  text = showdown.subParser('strikethrough')(text, options, globals);
  text = showdown.subParser('ellipsis')(text, options, globals);

  // we need to hash HTML tags inside spans
  text = showdown.subParser('hashHTMLSpans')(text, options, globals);

  // now we encode amps and angles
  text = showdown.subParser('encodeAmpsAndAngles')(text, options, globals);

  // Do hard breaks
  if (options.simpleLineBreaks) {
    // GFM style hard breaks
    // only add line breaks if the text does not contain a block (special case for lists)
    if (!/\n\n¨K/.test(text)) {
      text = text.replace(/\n+/g, '<br />\n');
    }
  } else {
    // Vanilla hard breaks
    text = text.replace(/  +\n/g, '<br />\n');
  }

  text = globals.converter._dispatch('spanGamut.after', text, options, globals);
  return text;
});

showdown.subParser('strikethrough', function (text, options, globals) {
  'use strict';

  function parseInside (txt) {
    if (options.simplifiedAutoLink) {
      txt = showdown.subParser('simplifiedAutoLinks')(txt, options, globals);
    }
    return '<del>' + txt + '</del>';
  }

  if (options.strikethrough) {
    text = globals.converter._dispatch('strikethrough.before', text, options, globals);
    text = text.replace(/(?:~){2}([\s\S]+?)(?:~){2}/g, function (wm, txt) { return parseInside(txt); });
    text = globals.converter._dispatch('strikethrough.after', text, options, globals);
  }

  return text;
});

/**
 * Strips link definitions from text, stores the URLs and titles in
 * hash references.
 * Link defs are in the form: ^[id]: url "optional title"
 */
showdown.subParser('stripLinkDefinitions', function (text, options, globals) {
  'use strict';

  var regex       = /^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?([^>\s]+)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=¨0))/gm,
      base64Regex = /^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n\n|(?=¨0)|(?=\n\[))/gm;

  // attacklab: sentinel workarounds for lack of \A and \Z, safari\khtml bug
  text += '¨0';

  var replaceFunc = function (wholeMatch, linkId, url, width, height, blankLines, title) {
    linkId = linkId.toLowerCase();
    if (url.match(/^data:.+?\/.+?;base64,/)) {
      // remove newlines
      globals.gUrls[linkId] = url.replace(/\s/g, '');
    } else {
      globals.gUrls[linkId] = showdown.subParser('encodeAmpsAndAngles')(url, options, globals);  // Link IDs are case-insensitive
    }

    if (blankLines) {
      // Oops, found blank lines, so it's not a title.
      // Put back the parenthetical statement we stole.
      return blankLines + title;

    } else {
      if (title) {
        globals.gTitles[linkId] = title.replace(/"|'/g, '&quot;');
      }
      if (options.parseImgDimensions && width && height) {
        globals.gDimensions[linkId] = {
          width:  width,
          height: height
        };
      }
    }
    // Completely remove the definition from the text
    return '';
  };

  // first we try to find base64 link references
  text = text.replace(base64Regex, replaceFunc);

  text = text.replace(regex, replaceFunc);

  // attacklab: strip sentinel
  text = text.replace(/¨0/, '');

  return text;
});

showdown.subParser('tables', function (text, options, globals) {
  'use strict';

  if (!options.tables) {
    return text;
  }

  var tableRgx       = /^ {0,3}\|?.+\|.+\n {0,3}\|?[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:[-=]){2,}[\s\S]+?(?:\n\n|¨0)/gm,
    //singeColTblRgx = /^ {0,3}\|.+\|\n {0,3}\|[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*\n(?: {0,3}\|.+\|\n)+(?:\n\n|¨0)/gm;
      singeColTblRgx = /^ {0,3}\|.+\|[ \t]*\n {0,3}\|[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*\n( {0,3}\|.+\|[ \t]*\n)*(?:\n|¨0)/gm;

  function parseStyles (sLine) {
    if (/^:[ \t]*--*$/.test(sLine)) {
      return ' style="text-align:left;"';
    } else if (/^--*[ \t]*:[ \t]*$/.test(sLine)) {
      return ' style="text-align:right;"';
    } else if (/^:[ \t]*--*[ \t]*:$/.test(sLine)) {
      return ' style="text-align:center;"';
    } else {
      return '';
    }
  }

  function parseHeaders (header, style) {
    var id = '';
    header = header.trim();
    // support both tablesHeaderId and tableHeaderId due to error in documentation so we don't break backwards compatibility
    if (options.tablesHeaderId || options.tableHeaderId) {
      id = ' id="' + header.replace(/ /g, '_').toLowerCase() + '"';
    }
    header = showdown.subParser('spanGamut')(header, options, globals);

    return '<th' + id + style + '>' + header + '</th>\n';
  }

  function parseCells (cell, style) {
    var subText = showdown.subParser('spanGamut')(cell, options, globals);
    return '<td' + style + '>' + subText + '</td>\n';
  }

  function buildTable (headers, cells) {
    var tb = '<table>\n<thead>\n<tr>\n',
        tblLgn = headers.length;

    for (var i = 0; i < tblLgn; ++i) {
      tb += headers[i];
    }
    tb += '</tr>\n</thead>\n<tbody>\n';

    for (i = 0; i < cells.length; ++i) {
      tb += '<tr>\n';
      for (var ii = 0; ii < tblLgn; ++ii) {
        tb += cells[i][ii];
      }
      tb += '</tr>\n';
    }
    tb += '</tbody>\n</table>\n';
    return tb;
  }

  function parseTable (rawTable) {
    var i, tableLines = rawTable.split('\n');

    for (i = 0; i < tableLines.length; ++i) {
      // strip wrong first and last column if wrapped tables are used
      if (/^ {0,3}\|/.test(tableLines[i])) {
        tableLines[i] = tableLines[i].replace(/^ {0,3}\|/, '');
      }
      if (/\|[ \t]*$/.test(tableLines[i])) {
        tableLines[i] = tableLines[i].replace(/\|[ \t]*$/, '');
      }
      // parse code spans first, but we only support one line code spans
      tableLines[i] = showdown.subParser('codeSpans')(tableLines[i], options, globals);
    }

    var rawHeaders = tableLines[0].split('|').map(function (s) { return s.trim();}),
        rawStyles = tableLines[1].split('|').map(function (s) { return s.trim();}),
        rawCells = [],
        headers = [],
        styles = [],
        cells = [];

    tableLines.shift();
    tableLines.shift();

    for (i = 0; i < tableLines.length; ++i) {
      if (tableLines[i].trim() === '') {
        continue;
      }
      rawCells.push(
        tableLines[i]
          .split('|')
          .map(function (s) {
            return s.trim();
          })
      );
    }

    if (rawHeaders.length < rawStyles.length) {
      return rawTable;
    }

    for (i = 0; i < rawStyles.length; ++i) {
      styles.push(parseStyles(rawStyles[i]));
    }

    for (i = 0; i < rawHeaders.length; ++i) {
      if (showdown.helper.isUndefined(styles[i])) {
        styles[i] = '';
      }
      headers.push(parseHeaders(rawHeaders[i], styles[i]));
    }

    for (i = 0; i < rawCells.length; ++i) {
      var row = [];
      for (var ii = 0; ii < headers.length; ++ii) {
        if (showdown.helper.isUndefined(rawCells[i][ii])) {

        }
        row.push(parseCells(rawCells[i][ii], styles[ii]));
      }
      cells.push(row);
    }

    return buildTable(headers, cells);
  }

  text = globals.converter._dispatch('tables.before', text, options, globals);

  // find escaped pipe characters
  text = text.replace(/\\(\|)/g, showdown.helper.escapeCharactersCallback);

  // parse multi column tables
  text = text.replace(tableRgx, parseTable);

  // parse one column tables
  text = text.replace(singeColTblRgx, parseTable);

  text = globals.converter._dispatch('tables.after', text, options, globals);

  return text;
});

showdown.subParser('underline', function (text, options, globals) {
  'use strict';

  if (!options.underline) {
    return text;
  }

  text = globals.converter._dispatch('underline.before', text, options, globals);

  if (options.literalMidWordUnderscores) {
    text = text.replace(/\b_?__(\S[\s\S]*)___?\b/g, function (wm, txt) {
      return '<u>' + txt + '</u>';
    });
  } else {
    text = text.replace(/_?__(\S[\s\S]*?)___?/g, function (wm, m) {
      return (/\S$/.test(m)) ? '<u>' + m + '</u>' : wm;
    });
  }

  // escape remaining underscores to prevent them being parsed by italic and bold
  text = text.replace(/(_)/g, showdown.helper.escapeCharactersCallback);

  text = globals.converter._dispatch('underline.after', text, options, globals);

  return text;
});

/**
 * Swap back in all the special characters we've hidden.
 */
showdown.subParser('unescapeSpecialChars', function (text, options, globals) {
  'use strict';
  text = globals.converter._dispatch('unescapeSpecialChars.before', text, options, globals);

  text = text.replace(/¨E(\d+)E/g, function (wholeMatch, m1) {
    var charCodeToReplace = parseInt(m1);
    return String.fromCharCode(charCodeToReplace);
  });

  text = globals.converter._dispatch('unescapeSpecialChars.after', text, options, globals);
  return text;
});

var root = this;

// AMD Loader
if (typeof define === 'function' && define.amd) {
  define(function () {
    'use strict';
    return showdown;
  });

// CommonJS/nodeJS Loader
} else if (typeof module !== 'undefined' && module.exports) {
  module.exports = showdown;

// Regular Browser loader
} else {
  root.showdown = showdown;
}
}).call(this);

//# sourceMappingURL=showdown.js.map

/*! showdown-twitter 26-11-2016 */(function (extension) {
  'use strict';

  if (typeof showdown !== 'undefined') {
    extension(showdown);
  } else if (typeof define === 'function' && define.amd) {
    define(['showdown'], extension);
  } else if (typeof exports === 'object') {
    module.exports = extension(require('showdown'));
  } else {
    throw Error('Could not find showdown library');
  }

}(function (showdown) {
  'use strict';

  showdown.extension('twitter', function () {
    return [
      {
        type:    'lang',
        regex:   '\\B(\\\\)?@([\\S]+)\\b',
        replace: function (match, leadingSlash, username) {
          if (leadingSlash === '\\') {
            return match;
          } else {
            return '<a href="http://twitter.com/' + username + '">@' + username + '</a>';
          }
        }
      },
      {
        type:    'lang',
        regex:   '\\B(\\\\)?#([\\S]+)\\b',
        replace: function (match, leadingSlash, tag) {
          if (leadingSlash === '\\') {
            return match;
          } else {
            return '<a href="http://twitter.com/search/%23' + tag + '">#' + tag + '</a>';
          }
        }
      },
      {
        type:    'lang',
        regex:   '\\\\@',
        replace: '@'
      }
    ];
  });
}));

//# sourceMappingURL=showdown-twitter.js.map
/*! showdown-prettify 06-01-2016 */
(function (extension) {
  'use strict';

  if (typeof showdown !== 'undefined') {
    extension(showdown);
  } else if (typeof define === 'function' && define.amd) {
    define(['showdown'], extension);
  } else if (typeof exports === 'object') {
    module.exports = extension(require('showdown'));
  } else {
    throw Error('Could not find showdown library');
  }

}(function (showdown) {
  'use strict';
  showdown.extension('prettify', function () {
    return [{
      type:   'output',
      filter: function (source) {
        return source.replace(/(<pre[^>]*>)?[\n\s]?<code([^>]*)>/gi, function (match, pre, codeClass) {
          if (pre) {
            return '<pre class="prettyprint linenums"><code' + codeClass + '>';
          } else {
            return ' <code class="prettyprint">';
          }
        });
      }
    }];
  });
}));

//# sourceMappingURL=showdown-prettify.js.map
"use strict";!function(){var c={},d={};function e(e,t,i,n,o){var r;return!i.isPostOpen||c.transientJobs[t].canRunWithOpenGrid?(e=e||function(e,t,i,n,o){return new window.hg[c.transientJobs[e].constructorName](t,i,n,o)}.bind(c,t),r=e(i,n,function(){c.transientJobs[t].jobs[i.index].splice(c.transientJobs[t].jobs[i.index].indexOf(r),1)},o),c.transientJobs[t].jobs[i.index].push(r),window.hg.animator.startJob(r),r):(console.log("Cannot create a "+c.transientJobs[t].constructorName+" while the Grid is expanded"),null)}function t(e,t){return c.transientJobs[e].create(t,(i=t,n=parseInt(Math.random()*i.originalTiles.length),i.originalTiles[n]));var i,n}function i(i,n,e,t,o){var r,a,l;l=c.transientJobs[i].timeouts,a=t+.5*o-(r=0<(r=t-.5*o)?r:1),l[n.index]&&(clearTimeout(l[n.index]),l[n.index]=null),e&&(l[n.index]=setTimeout(function e(){var t=Math.random()*a+r;c.transientJobs[i].createRandom(n);l[n.index]=setTimeout(e,t)},t))}function n(e,t){var i,n;i=c.persistentJobs[e],n=new window.hg[i.constructorName](t),i.jobs[t.index].push(n),i.start(t,i.jobs[t.index].length-1)}function o(e,t,i){void 0!==i?window.hg.animator.startJob(c.persistentJobs[e].jobs[t.index][i]):c.persistentJobs[e].jobs[t.index].forEach(window.hg.animator.startJob)}function r(e,t,i){void 0!==i?c.persistentJobs[e].jobs[t.index][i].cancel():c.persistentJobs[e].jobs[t.index].forEach(function(e){e.cancel()})}function a(){d.grids.forEach(l)}function l(e){var t,i,n,o=e.isPostOpen?e.expandedTile.postData.id:null;window.hg.animator.cancelAll(),e.resize(),u(e),o&&(t=s(e,o),c.transientJobs.OpenPostJob.create(e,t)),d.performanceCheckJob&&(d.performanceCheckJob={start:function(e){n=i=0,d.performanceCheckJob.startTime=e,d.performanceCheckJob.isComplete=!1},update:function(e,t){i++,t>=window.hg.animator.config.deltaTimeUpperThreshold&&n++,20<=i&&(d.performanceCheckJob.isComplete=!0,d.performanceCheckJob=null,console.info("--- PERFORMANCE DIAGNOSTICS ---"),console.info("maxDeltaTimeFrameCount",n),console.info("frameCount",i),console.info("-------------------------------"),.25<n/i&&window.hg.util.requestAnimationFrame(function(){c.isLowPerformanceBrowser=!0,d.grids.forEach(g),a(),function(){console.info("Is a low-performance browser");var e=document.createElement("div"),t=document.getElementsByTagName("body")[0];t.appendChild(e),e.innerHTML="Switching to low-performance mode.",e.style.zIndex=5e3,e.style.position="absolute",e.style.top="0",e.style.right="0",e.style.bottom="0",e.style.left="0",e.style.width="70%",e.style.height="70%",e.style.margin="auto",e.style.padding="5%",e.style.fontSize="5em",e.style.fontWeight="bold",e.style.opacity="1",e.style.color="white",e.style.backgroundColor="rgba(60,0,0,0.6)",window.hg.util.setTransition(e,"opacity 1s linear 1.5s"),setTimeout(function(){e.style.opacity="0",setTimeout(function(){t.removeChild(e)},2500)},10)}()}))},draw:function(){},cancel:function(){},init:function(){},isComplete:!0},window.hg.util.requestAnimationFrame(function(){window.hg.animator.startJob(d.performanceCheckJob)})),p(e),m(),b()}function s(e,t){var i,n;for(i=0,n=e.originalTiles.length;i<n;i+=1)if(e.originalTiles[i].holdsContent&&e.originalTiles[i].postData.id===t)return e.originalTiles[i];return null}function u(e){window.hg.animator.startJob(e),c.persistentJobs.ColorResetJob.start(e),c.persistentJobs.DisplacementResetJob.start(e),window.hg.animator.startJob(d.annotations[e.index]),c.isLowPerformanceBrowser||(c.persistentJobs.ColorShiftJob.start(e),c.persistentJobs.ColorWaveJob.start(e),c.persistentJobs.DisplacementWaveJob.start(e))}function g(e){c.persistentJobs.ColorShiftJob.cancel(e),c.persistentJobs.ColorWaveJob.cancel(e),c.persistentJobs.DisplacementWaveJob.cancel(e)}function h(e,t){e.isPostOpen=!1,e.pagePost=null,e.isTransitioning=!1,e.expandedTile=null,e.sectors=null,e.allNonContentTiles=null,e.postData=t,e.computeContentIndices(),l(e)}function p(e){window.hg.util.checkForSafari()&&(console.info("Is a Safari browser"),c.isSafariBrowser=!0,e.svg.style.width=e.parent.offsetWidth+"px",e.svg.style.height=e.parent.offsetHeight+"px")}function m(){window.hg.util.checkForIos()&&(console.info("Is an iOS browser"),c.isIosBrowser=!0)}function b(){document.documentElement.clientWidth<1250?(console.info("Is a small-screen browser"),c.isSmallScreen=!0):c.isSmallScreen=!1}c.persistentJobs={ColorShiftJob:{constructorName:"ColorShiftJob",jobs:[],create:n.bind(c,"ColorShiftJob"),start:o.bind(c,"ColorShiftJob"),cancel:r.bind(c,"ColorShiftJob")},ColorWaveJob:{constructorName:"ColorWaveJob",jobs:[],create:n.bind(c,"ColorWaveJob"),start:o.bind(c,"ColorWaveJob"),cancel:r.bind(c,"ColorWaveJob")},DisplacementWaveJob:{constructorName:"DisplacementWaveJob",jobs:[],create:n.bind(c,"DisplacementWaveJob"),start:o.bind(c,"DisplacementWaveJob"),cancel:r.bind(c,"DisplacementWaveJob")},ColorResetJob:{constructorName:"ColorResetJob",jobs:[],create:n.bind(c,"ColorResetJob"),start:o.bind(c,"ColorResetJob"),cancel:r.bind(c,"ColorResetJob")},DisplacementResetJob:{constructorName:"DisplacementResetJob",jobs:[],create:n.bind(c,"DisplacementResetJob"),start:o.bind(c,"DisplacementResetJob"),cancel:r.bind(c,"DisplacementResetJob")}},c.transientJobs={OpenPostJob:{constructorName:"OpenPostJob",jobs:[],timeouts:[],create:e.bind(c,null,"OpenPostJob"),createRandom:function(e){return e.isPostOpen?null:c.transientJobs.OpenPostJob.create(e,(t=e,i=parseInt(Math.random()*t.contentTiles.length),t.contentTiles[i]));var t,i},toggleRecurrence:i.bind(c,"OpenPostJob"),canRunWithOpenGrid:!1},ClosePostJob:{constructorName:"ClosePostJob",jobs:[],timeouts:[],create:e.bind(c,null,"ClosePostJob"),createRandom:function(e,t){return e.isPostOpen?c.transientJobs.ClosePostJob.create(e,e.expandedTile,t):null},toggleRecurrence:i.bind(c,"ClosePostJob"),canRunWithOpenGrid:!0},CarouselImageSlideJob:{constructorName:"CarouselImageSlideJob",jobs:[],timeouts:[],create:e.bind(c,null,"CarouselImageSlideJob"),createRandom:null,toggleRecurrence:null,canRunWithOpenGrid:!0},DilateSectorsJob:{constructorName:"DilateSectorsJob",jobs:[],timeouts:[],create:e.bind(c,null,"DilateSectorsJob"),createRandom:null,toggleRecurrence:null,canRunWithOpenGrid:!0},FadePostJob:{constructorName:"FadePostJob",jobs:[],timeouts:[],create:e.bind(c,null,"FadePostJob"),createRandom:null,toggleRecurrence:null,canRunWithOpenGrid:!0},DisplacementRadiateJob:{constructorName:"DisplacementRadiateJob",jobs:[],timeouts:[],create:e.bind(c,null,"DisplacementRadiateJob"),createRandom:t.bind(c,"DisplacementRadiateJob"),toggleRecurrence:i.bind(c,"DisplacementRadiateJob"),canRunWithOpenGrid:!0},HighlightHoverJob:{constructorName:"HighlightHoverJob",jobs:[],timeouts:[],create:e.bind(c,null,"HighlightHoverJob"),createRandom:t.bind(c,"HighlightHoverJob"),toggleRecurrence:i.bind(c,"HighlightHoverJob"),canRunWithOpenGrid:!0},HighlightRadiateJob:{constructorName:"HighlightRadiateJob",jobs:[],timeouts:[],create:e.bind(c,null,"HighlightRadiateJob"),createRandom:t.bind(c,"HighlightRadiateJob"),toggleRecurrence:i.bind(c,"HighlightRadiateJob"),canRunWithOpenGrid:!0},IntraTileRadiateJob:{constructorName:"IntraTileRadiateJob",jobs:[],timeouts:[],create:e.bind(c,null,"IntraTileRadiateJob"),createRandom:t.bind(c,"IntraTileRadiateJob"),toggleRecurrence:i.bind(c,"IntraTileRadiateJob"),canRunWithOpenGrid:!0},LineJob:{constructorName:"LineJob",jobs:[],timeouts:[],create:e.bind(c,function(e,t,i){return window.hg.LineJob.createRandomLineJob(e,i)},"LineJob"),createRandom:t.bind(c,"LineJob"),toggleRecurrence:i.bind(c,"LineJob"),canRunWithOpenGrid:!1},LinesRadiateJob:{constructorName:"LinesRadiateJob",jobs:[],timeouts:[],create:e.bind(c,function(t,e,i){var n=new window.hg.LinesRadiateJob(t,e,function(){n.lineJobs.forEach(function(e){c.transientJobs.LineJob.jobs[t.index].splice(c.transientJobs.LineJob.jobs[t.index].indexOf(e),1)}),i()});return n.lineJobs.forEach(function(e){c.transientJobs.LineJob.jobs[t.index].push(e)}),n},"LinesRadiateJob"),createRandom:t.bind(c,"LinesRadiateJob"),toggleRecurrence:i.bind(c,"LinesRadiateJob"),canRunWithOpenGrid:!1},PanJob:{constructorName:"PanJob",jobs:[],timeouts:[],create:e.bind(c,null,"PanJob"),createRandom:t.bind(c,"PanJob"),toggleRecurrence:i.bind(c,"PanJob"),canRunWithOpenGrid:!0},SpreadJob:{constructorName:"SpreadJob",jobs:[],timeouts:[],create:e.bind(c,null,"SpreadJob"),createRandom:t.bind(c,"SpreadJob"),toggleRecurrence:i.bind(c,"SpreadJob"),canRunWithOpenGrid:!0},TileBorderJob:{constructorName:"TileBorderJob",jobs:[],timeouts:[],create:e.bind(c,null,"TileBorderJob"),createRandom:t.bind(c,"TileBorderJob"),toggleRecurrence:i.bind(c,"TileBorderJob"),canRunWithOpenGrid:!0}},d.grids=[],d.inputs=[],d.annotations=[],d.postData=[],d.performanceCheckJob=!0,c.isLowPerformanceBrowser=!1,c.isSafariBrowser=!1,c.isIosBrowser=!1,c.isSmallScreen=!1,c.config={},c.createNewHexGrid=function(e,t,i){var n,o,r,a;return s=o=d.grids.length,Object.keys(c.persistentJobs).forEach(function(e){c.persistentJobs[e].jobs[s]=[]}),Object.keys(c.transientJobs).forEach(function(e){c.transientJobs[e].jobs[s]=[]}),n=new window.hg.Grid(o,e,t,i),d.grids.push(n),r=n.annotations,d.annotations.push(r),a=new window.hg.Input(n),d.inputs.push(a),window.hg.animator.startJob(n),c.persistentJobs.ColorResetJob.create(n),c.persistentJobs.DisplacementResetJob.create(n),window.hg.animator.startJob(r),c.persistentJobs.ColorShiftJob.create(n),c.persistentJobs.ColorWaveJob.create(n),c.persistentJobs.DisplacementWaveJob.create(n),l=n,Object.keys(c.transientJobs).forEach(function(e){var t=window.hg[c.transientJobs[e].constructorName].config;t.isRecurring&&c.transientJobs[e].toggleRecurrence(l,!0,t.avgDelay,t.delayDeviationRange)}),p(n),m(),b(),n;var l;var s},c.resetGrid=l,c.resetPersistentJobs=u,c.setGridPostData=function(e,t){d.postData[e.index]=t,h(e,t),function(e){if(1<location.hash.length){var t=s(e,location.hash.substr(1));t&&d.inputs[0].createClickAnimation(e,t)}}(e)},c.filterGridPostDataByCategory=function(e,t){var i,n=d.postData[e.index];i="all"!==t?n.filter(function(e){return 0<=e.categories.indexOf(t)}):n.slice(0);h(e,i)},window.hg=window.hg||{},window.hg.controller=c,window.addEventListener("load",function e(){window.removeEventListener("load",e);var t=window.hg.util.debounce(a,300);window.addEventListener("resize",t,!1)},!1),console.log("controller module loaded")}(),function(){function n(e,t){var i,n;return 0<=(i=e.className.indexOf(t))&&!(0!==i&&" "!==e.className[i-1]||(n=i+t.length)!==e.className.length&&" "!==e.className[n])}function r(e,t){e.setAttribute("class",e.className+" "+t)}function o(e,t){e.setAttribute("class",e.className.split(" ").filter(function(e){return e!==t}).join(" "))}var t;var l={listenToMultipleForMultiple:function(e,i,n){e.forEach(function(t){i.forEach(function(e){l.listen(t,e,n)})})},createElement:function(e,t,i,n){var o=document.createElement(e);return t&&t.appendChild(o),i&&(o.id=i),n&&n.forEach(function(e){r(o,e)}),o},containsClass:n,toggleClass:function(e,t,i){void 0===i?n(e,t)?o(e,t):r(e,t):i?r(e,t):o(e,t)},getPageOffset:function(e){for(var t=0,i=0;e;)t+=e.offsetLeft,i+=e.offsetTop,e=e.offsetParent;return{x:t-=l.getScrollLeft(),y:i-=l.getScrollTop()}},getViewportSize:function(){var e,t;return void 0!==window.innerWidth?(e=window.innerWidth,t=window.innerHeight):void 0!==document.documentElement&&void 0!==document.documentElement.clientWidth&&0!==document.documentElement.clientWidth?(e=document.documentElement.clientWidth,t=document.documentElement.clientHeight):(e=document.getElementsByTagName("body")[0].clientWidth,t=document.getElementsByTagName("body")[0].clientHeight),{w:e,h:t}},removeChildIfPresent:function(e,t){return!(!t||t.parentNode!==e||(e.removeChild(t),0))},addClass:r,removeClass:o,clearClasses:function(e){e.className=""},getTextWidth:function(e,t,i,n,o){var r,a;return i=i||document.getElementsByTagName("body")[0],(r=l.createElement(t,null,n,o)).style.position="absolute",r.style.visibility="hidden",r.style.whiteSpace="nowrap",i.appendChild(r),r.innerHTML=e,a=r.clientWidth,i.removeChild(r),a},encodeQueryString:function(e){var t,i;for(t in i=[],e)e.hasOwnProperty(t)&&i.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return"?"+i.join("&")},getQueryStringParameterValue:function(e,t){var i;return t=(t=encodeURIComponent(t)).replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),null===(i=new RegExp("[\\?&]"+t+"=([^&#]*)","i").exec(e))?null:decodeURIComponent(i[1].replace(/\+/g," "))},setTransition:function(e,t){e.style.transition=t,e.style.WebkitTransition=t,e.style.MozTransition=t,e.style.msTransition=t,e.style.OTransition=t},setTransitionDurationSeconds:function(e,t){e.style.transitionDuration=t+"s",e.style.WebkitTransitionDuration=t+"s",e.style.MozTransitionDuration=t+"s",e.style.msTransitionDuration=t+"s",e.style.OTransitionDuration=t+"s"},setTransitionDelaySeconds:function(e,t){e.style.transitionDelay=t+"s",e.style.WebkitTransitionDelay=t+"s",e.style.MozTransitionDelay=t+"s",e.style.msTransitionDelay=t+"s",e.style.OTransitionDelay=t+"s"},setUserSelectNone:function(e){e.style.userSelect="none",e.style.webkitUserSelect="none",e.style.MozUserSelect="none",e.style.msUserSelect="none"},removeChildrenWithClass:function(e,t){var i,n,o;for(n=0,o=(i=e.querySelectorAll("."+t)).length;n<o;n++)e.removeChild(i[n])},setTransitionCubicBezierTimingFunction:function(e,t){var i="cubic-bezier("+t.p1x+","+t.p1y+","+t.p2x+","+t.p2y+")";e.style.transitionTimingFunction=i,e.style.WebkitTransitionTimingFunction=i,e.style.MozTransitionTimingFunction=i,e.style.msTransitionTimingFunction=i,e.style.OTransitionTimingFunction=i},easingFunctions:{linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:(4-2*e)*e-1},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1+--e*e*e},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}},inverseEasingFunctions:{linear:function(e){return e},easeInQuad:function(e){return Math.sqrt(e)},easeOutQuad:function(e){return 1-Math.sqrt(1-e)},easeInOutQuad:function(e){return e<.5?Math.sqrt(.5*e):1-.70710678*Math.sqrt(1-e)}},requestAnimationFrame:(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,16)}).bind(window),getXYFromPercentWithBezier:function(e,t){var i,n,o,r,a;return n=(i=1-e)*i*i,o=3*e*i*i,r=3*e*e*i,a=e*e*e,{x:t[0].x*n+t[1].x*o+t[2].x*r+t[3].x*a,y:t[0].y*n+t[1].y*o+t[2].y*r+t[3].y*a}},setTransform:function(e,t){e.style.webkitTransform=t,e.style.MozTransform=t,e.style.msTransform=t,e.style.OTransform=t,e.style.transform=t},shuffle:function(e){var t,i,n,o;for(t=0,n=e.length;t<n;t+=1)o=e[i=parseInt(Math.random()*n)],e[i]=e[t],e[t]=o;return e},isPointInsidePolyline:function(e,t,i,n){var o,r,a,l,s,c,d,u,g,h,p;if(o=!1,n){if(i.length<6)return o;u=i[i.length-4],g=i[i.length-3]}else{if(i.length<4)return o;u=i[i.length-2],g=i[i.length-1]}for(r=0,a=i.length-2;r<a;r+=2)h=i[r],p=i[r+1],u<h?(l=u,s=g,c=h,d=p):(l=h,s=p,c=u,d=g),h<e==e<=u&&(t-s)*(c-l)<(d-s)*(e-l)&&(o=!o),u=h,g=p;return o},shallowCopy:function(e){var t,i;if("object"==typeof e){for(t in i={},e)i[t]=e[t];return i}return e},deepCopy:function e(t){var i,n;if("object"==typeof t){for(i in n=t instanceof Array?[]:{},t)"object"==typeof t[i]?n[i]=e(t[i]):n[i]=t[i];return n}return t},hsvToHsl:function(e){var t=(2-e.s)*e.v;return{h:e.h,s:e.s*e.v/(t<1?t:2.00000001-t),l:.5*t}},hslToHsv:function(e){var t=e.s*(e.l<.5?e.l:1-e.l);return{h:e.h,s:2*t/(e.l+t),v:e.l+t}},findClassInSelfOrAncestors:function(e,t){for(;e;)if(window.hg.util.containsClass(e,t))return e;return null},addRuleToStyleSheet:function(e){t||(t=document.createElement("style"),document.getElementsByTagName("head")[0].appendChild(t)),t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))},checkForSafari:function(){return/Safari/i.test(window.navigator.userAgent)&&!/Chrome/i.test(window.navigator.userAgent)},checkForIos:function(){return/iPhone|iPod|iPad/i.test(window.navigator.userAgent)},debounce:function(n,o,r){var a;return function(){var e=this,t=arguments,i=r&&!a;clearTimeout(a),a=setTimeout(function(){a=null,r||n.apply(e,t)},o),i&&n.apply(e,t)}},isSmallScreen:function(){return window.innerWidth<660},svgNamespace:"http://www.w3.org/2000/svg",xlinkNamespace:"http://www.w3.org/1999/xlink"};window.hg=window.hg||{},window.hg.util=l,console.log("util module loaded")}(),function(){var o={},i={};function n(e){var t=e-o.previousTime;t=t>i.deltaTimeUpperThreshold?i.deltaTimeUpperThreshold:t,o.isLooping=!0,o.isPaused?o.isLooping=!1:(!function(e,t){var i,n;for(i=0,n=o.jobs.length;i<n;i+=1)o.jobs[i].update(e,t),o.jobs[i].isComplete&&(r(o.jobs[i],i),i--,n--)}(e,t),function(){var e,t;for(e=0,t=o.jobs.length;e<t;e+=1)o.jobs[e].draw()}(),window.hg.util.requestAnimationFrame(n)),o.previousTime=e}function r(e,t){var i;if("number"==typeof t)o.jobs.splice(t,1);else for(t=0,i=o.jobs.length;t<i;t+=1)if(o.jobs[t]===e){o.jobs.splice(t,1);break}0===o.jobs.length&&(o.isPaused=!0)}function e(e){console.log("Job cancelling: "+e.constructor.name),e.cancel(),r(e)}i.deltaTimeUpperThreshold=160,o.jobs=[],o.previousTime=window.performance&&window.performance.now()||0,o.isLooping=!1,o.isPaused=!0,o.startJob=function(e){e.isComplete?(console.log("Job starting: "+e.constructor.name),e.init(),e.start(o.previousTime),o.jobs.push(e)):(console.log("Job restarting: "+e.constructor.name),e.refresh?e.refresh():(e.cancel(),e.init(),e.start(o.previousTime)));o.isPaused=!1,o.isLooping||(o.isLooping=!0,window.hg.util.requestAnimationFrame(function(e){o.previousTime=e,window.hg.util.requestAnimationFrame(n)}))},o.cancelJob=e,o.cancelAll=function(){for(;o.jobs.length;)e(o.jobs[0])},o.config=i,window.hg=window.hg||{},window.hg.animator=o,console.log("animator module loaded")}(),function(){var o={};function e(e){var t=this;t.grid=e,t.startTime=0,t.isComplete=!0,t.annotations=window.hg.util.shallowCopy(o.annotations),t.contentAreaGuideLines=[],t.tileParticleCenters=[],t.tileAnchorLines=[],t.tileAnchorCenters=[],t.tileDisplacementCircles=[],t.tileInnerRadii=[],t.tileOuterRadii=[],t.neighborLines=[],t.forceLines=[],t.velocityLines=[],t.indexTexts=[],t.lineAnimationGapDots=[],t.lineAnimationSelfCornerDots=[],t.lineAnimationLowerNeighborCornerDots=[],t.lineAnimationUpperNeighborCornerDots=[],t.sectorAnchorLines=[],t.sectorAnchorCenters=[],t.originalGridCenterDot=null,t.currentGridCenterDot=null,t.panCenterDot=null,t.toggleAnnotationEnabled=d,t.createAnnotations=u,t.destroyAnnotations=g,t.setExpandedAnnotations=h,t.start=p,t.update=m,t.draw=b,t.cancel=f,t.init=w,t.refresh=v}function t(){var e,t,i;for(t=0,i=(e=this).grid.originalTiles.length;t<i;t+=1)e.grid.originalTiles[t].holdsContent&&(e.grid.originalTiles[t].currentColor.h=o.contentTileHue,e.grid.originalTiles[t].currentColor.s=o.contentTileSaturation,e.grid.originalTiles[t].currentColor.l=o.contentTileLightness)}function i(){var e,t,i;for(t=0,i=(e=this).grid.allTiles.length;t<i;t+=1)e.grid.allTiles[t].getIsBorderTile()&&(e.grid.allTiles[t].currentColor.h=o.borderTileHue,e.grid.allTiles[t].currentColor.s=o.borderTileSaturation,e.grid.allTiles[t].currentColor.l=o.borderTileLightness)}function n(){var e,t,i;for(t=0,i=(e=this).grid.originalBorderTiles.length;t<i;t+=1)e.grid.originalBorderTiles[t].isCornerTile&&(e.grid.originalTiles[t].currentColor.h=o.cornerTileHue,e.grid.originalTiles[t].currentColor.s=o.cornerTileSaturation,e.grid.originalTiles[t].currentColor.l=o.cornerTileLightness)}function r(){var e,t,i,n,o,r;for((e=this).neighborLines=[],t=0,n=e.grid.allTiles.length;t<n;t+=1)for(r=e.grid.allTiles[t].getNeighborStates(),e.neighborLines[t]=[],i=0,o=r.length;i<o;i+=1)r[i]&&(e.neighborLines[t][i]=document.createElementNS(window.hg.util.svgNamespace,"line"),e.grid.svg.appendChild(e.neighborLines[t][i]),e.neighborLines[t][i].setAttribute("stroke","purple"),e.neighborLines[t][i].setAttribute("stroke-width","1"))}function a(){var e,t,i,n,o,r;for(e=0,t=this.grid.sectors.length;e<t;e+=1)for(r=60*e+20,i=0,n=(o=this.grid.sectors[e]).tiles.length;i<n;i+=1)o.tiles[i].currentColor.h=r,o.tiles[i].currentColor.s=window.hg.Grid.config.tileSaturation,o.tiles[i].currentColor.l=window.hg.Grid.config.tileLightness}function l(){var e,t,i,n,o;for(t=0,n=(e=this).neighborLines.length;t<n;t+=1)for(i=0,o=e.neighborLines[t].length;i<o;i+=1)e.neighborLines[t][i]&&e.grid.svg.removeChild(e.neighborLines[t][i]);e.neighborLines=[]}function s(){var e,t;for(e=0,t=this.lineAnimationGapDots.length;e<t;e+=1)this.grid.svg.removeChild(this.lineAnimationGapDots[e]);this.lineAnimationGapDots=[]}function c(){var e,t,i;for(t=0,i=(e=this).lineAnimationSelfCornerDots.length;t<i;t+=1)e.grid.svg.removeChild(e.lineAnimationSelfCornerDots[t]);for(t=0,i=e.lineAnimationLowerNeighborCornerDots.length;t<i;t+=1)e.grid.svg.removeChild(e.lineAnimationLowerNeighborCornerDots[t]);for(t=0,i=e.lineAnimationUpperNeighborCornerDots.length;t<i;t+=1)e.grid.svg.removeChild(e.lineAnimationUpperNeighborCornerDots[t]);e.lineAnimationSelfCornerDots=[],e.lineAnimationLowerNeighborCornerDots=[],e.lineAnimationUpperNeighborCornerDots=[]}function d(e,t){var i;((i=this).annotations[e].enabled=t)?i.annotations[e].create.call(i):i.annotations[e].destroy.call(i)}function u(){var e,t;for(this,e=0,t=o.annotationsArray.length;e<t;e+=1)o.annotationsArray[e].enabled&&o.annotationsArray[e].create.call(this)}function g(){var e,t;for(this,e=0,t=o.annotationsArray.length;e<t;e+=1)o.annotationsArray[e].destroy.call(this)}function h(e){this.annotations.tileNeighborConnections.enabled&&(l.call(this),r.call(this))}function p(){this.isComplete=!1}function m(e,t){var i,n;for(this,i=0,n=o.annotationsArray.length;i<n;i+=1)o.annotationsArray[i].enabled&&o.annotationsArray[i].update.call(this)}function b(){}function f(){this.isComplete=!0}function w(){o.computeDependentValues()}function v(){w(),this.annotations=window.hg.util.shallowCopy(o.annotations)}o.forceLineLengthMultiplier=4e3,o.velocityLineLengthMultiplier=300,o.contentTileHue=187,o.contentTileSaturation=50,o.contentTileLightness=30,o.borderTileHue=267,o.borderTileSaturation=0,o.borderTileLightness=30,o.cornerTileHue=267,o.cornerTileSaturation=50,o.cornerTileLightness=30,o.annotations={tileNeighborConnections:{enabled:!1,create:r,destroy:l,update:function(){var e,t,i,n,o,r,a,l;for(t=0,n=(e=this).grid.allTiles.length;t<n;t+=1)for(r=e.grid.allTiles[t],a=r.getNeighborStates(),i=0,o=a.length;i<o;i+=1)(l=a[i])&&(e.neighborLines[t][i].setAttribute("x1",r.particle.px),e.neighborLines[t][i].setAttribute("y1",r.particle.py),e.neighborLines[t][i].setAttribute("x2",l.tile.particle.px),e.neighborLines[t][i].setAttribute("y2",l.tile.particle.py))},priority:1300},tileAnchorCenters:{enabled:!1,create:function(){var e,t,i;for((e=this).tileAnchorLines=[],e.tileAnchorCenters=[],t=0,i=e.grid.allTiles.length;t<i;t+=1)e.tileAnchorLines[t]=document.createElementNS(window.hg.util.svgNamespace,"line"),e.grid.svg.appendChild(e.tileAnchorLines[t]),e.tileAnchorLines[t].setAttribute("stroke","#666666"),e.tileAnchorLines[t].setAttribute("stroke-width","2"),e.tileAnchorCenters[t]=document.createElementNS(window.hg.util.svgNamespace,"circle"),e.grid.svg.appendChild(e.tileAnchorCenters[t]),e.tileAnchorCenters[t].setAttribute("r","4"),e.tileAnchorCenters[t].setAttribute("fill","#888888")},destroy:function(){var e,t,i;for(t=0,i=(e=this).tileAnchorLines.length;t<i;t+=1)e.grid.svg.removeChild(e.tileAnchorLines[t]),e.grid.svg.removeChild(e.tileAnchorCenters[t]);e.tileAnchorLines=[],e.tileAnchorCenters=[]},update:function(){var e,t,i;for(t=0,i=(e=this).grid.allTiles.length;t<i;t+=1)e.tileAnchorLines[t].setAttribute("x1",e.grid.allTiles[t].particle.px),e.tileAnchorLines[t].setAttribute("y1",e.grid.allTiles[t].particle.py),e.tileAnchorLines[t].setAttribute("x2",e.grid.allTiles[t].currentAnchor.x),e.tileAnchorLines[t].setAttribute("y2",e.grid.allTiles[t].currentAnchor.y),e.tileAnchorCenters[t].setAttribute("cx",e.grid.allTiles[t].currentAnchor.x),e.tileAnchorCenters[t].setAttribute("cy",e.grid.allTiles[t].currentAnchor.y)},priority:500},transparentTiles:{enabled:!1,create:function(){var e,t;for(e=0,t=this.grid.allTiles.length;e<t;e+=1)this.grid.allTiles[e].element.setAttribute("opacity","0")},destroy:function(){var e,t;for(e=0,t=this.grid.originalTiles.length;e<t;e+=1)this.grid.originalTiles[e].element.setAttribute("opacity","1")},update:function(){},priority:400},tileIndices:{enabled:!1,create:function(){var e,t,i;for((e=this).indexTexts=[],t=0,i=e.grid.allTiles.length;t<i;t+=1)e.indexTexts[t]=document.createElementNS(window.hg.util.svgNamespace,"text"),e.indexTexts[t].innerHTML=isNaN(e.grid.allTiles[t].originalIndex)?"?":e.grid.allTiles[t].originalIndex,e.grid.svg.appendChild(e.indexTexts[t]),e.indexTexts[t].setAttribute("font-size","16"),e.indexTexts[t].setAttribute("fill","black"),e.indexTexts[t].setAttribute("pointer-events","none")},destroy:function(){var e,t;for(e=0,t=this.indexTexts.length;e<t;e+=1)this.grid.svg.removeChild(this.indexTexts[e]);this.indexTexts=[]},update:function(){var e,t,i;for(t=0,i=(e=this).grid.allTiles.length;t<i;t+=1)e.indexTexts[t].setAttribute("x",e.grid.allTiles[t].particle.px-10),e.indexTexts[t].setAttribute("y",e.grid.allTiles[t].particle.py+6)},priority:1e3},tileForces:{enabled:!1,create:function(){var e,t,i;for((e=this).forceLines=[],t=0,i=e.grid.allTiles.length;t<i;t+=1)e.forceLines[t]=document.createElementNS(window.hg.util.svgNamespace,"line"),e.grid.svg.appendChild(e.forceLines[t]),e.forceLines[t].setAttribute("stroke","orange"),e.forceLines[t].setAttribute("stroke-width","2")},destroy:function(){var e,t;for(e=0,t=this.forceLines.length;e<t;e+=1)this.grid.svg.removeChild(this.forceLines[e]);this.forceLines=[]},update:function(){var e,t,i;for(t=0,i=(e=this).grid.allTiles.length;t<i;t+=1)e.forceLines[t].setAttribute("x1",e.grid.allTiles[t].particle.px),e.forceLines[t].setAttribute("y1",e.grid.allTiles[t].particle.py),e.forceLines[t].setAttribute("x2",e.grid.allTiles[t].particle.px+e.grid.allTiles[t].particle.fx*o.forceLineLengthMultiplier),e.forceLines[t].setAttribute("y2",e.grid.allTiles[t].particle.py+e.grid.allTiles[t].particle.fy*o.forceLineLengthMultiplier)},priority:1100},tileVelocities:{enabled:!1,create:function(){var e,t,i;for((e=this).velocityLines=[],t=0,i=e.grid.allTiles.length;t<i;t+=1)e.velocityLines[t]=document.createElementNS(window.hg.util.svgNamespace,"line"),e.grid.svg.appendChild(e.velocityLines[t]),e.velocityLines[t].setAttribute("stroke","red"),e.velocityLines[t].setAttribute("stroke-width","2")},destroy:function(){var e,t;for(e=0,t=this.velocityLines.length;e<t;e+=1)this.grid.svg.removeChild(this.velocityLines[e]);this.velocityLines=[]},update:function(){var e,t,i;for(t=0,i=(e=this).grid.allTiles.length;t<i;t+=1)e.velocityLines[t].setAttribute("x1",e.grid.allTiles[t].particle.px),e.velocityLines[t].setAttribute("y1",e.grid.allTiles[t].particle.py),e.velocityLines[t].setAttribute("x2",e.grid.allTiles[t].particle.px+e.grid.allTiles[t].particle.vx*o.velocityLineLengthMultiplier),e.velocityLines[t].setAttribute("y2",e.grid.allTiles[t].particle.py+e.grid.allTiles[t].particle.vy*o.velocityLineLengthMultiplier)},priority:1200},sectorColors:{enabled:!1,create:a,destroy:function(){},update:a,priority:0},borderTiles:{enabled:!1,create:i,destroy:function(){},update:i,priority:200},contentTiles:{enabled:!1,create:t,destroy:function(){},update:t,priority:100},cornerTiles:{enabled:!1,create:n,destroy:function(){},update:n,priority:300},tileParticleCenters:{enabled:!1,create:function(){var e,t,i;for((e=this).tileParticleCenters=[],t=0,i=e.grid.allTiles.length;t<i;t+=1)e.tileParticleCenters[t]=document.createElementNS(window.hg.util.svgNamespace,"circle"),e.grid.svg.appendChild(e.tileParticleCenters[t]),e.tileParticleCenters[t].setAttribute("r","4"),e.tileParticleCenters[t].setAttribute("fill","gray")},destroy:function(){var e,t;for(e=0,t=this.tileParticleCenters.length;e<t;e+=1)this.grid.svg.removeChild(this.tileParticleCenters[e]);this.tileParticleCenters=[]},update:function(){var e,t,i;for(t=0,i=(e=this).grid.allTiles.length;t<i;t+=1)e.tileParticleCenters[t].setAttribute("cx",e.grid.allTiles[t].particle.px),e.tileParticleCenters[t].setAttribute("cy",e.grid.allTiles[t].particle.py)},priority:600},tileDisplacementColors:{enabled:!1,create:function(){var e,t,i;for((e=this).tileDisplacementCircles=[],t=0,i=e.grid.allTiles.length;t<i;t+=1)e.tileDisplacementCircles[t]=document.createElementNS(window.hg.util.svgNamespace,"circle"),e.grid.svg.appendChild(e.tileDisplacementCircles[t]),e.tileDisplacementCircles[t].setAttribute("r","80"),e.tileDisplacementCircles[t].setAttribute("opacity","0.4"),e.tileDisplacementCircles[t].setAttribute("fill","white")},destroy:function(){var e,t;for(e=0,t=this.tileDisplacementCircles.length;e<t;e+=1)this.grid.svg.removeChild(this.tileDisplacementCircles[e]);this.tileDisplacementCircles=[]},update:function(){var e,t,i,n,o,r,a,l;for(t=0,i=(e=this).grid.allTiles.length;t<i;t+=1)n=e.grid.allTiles[t].particle.px-e.grid.allTiles[t].originalAnchor.x,o=e.grid.allTiles[t].particle.py-e.grid.allTiles[t].originalAnchor.y,r=180*Math.atan2(n,o)/Math.PI,a=Math.sqrt(n*n+o*o),l="hsl("+r+","+a/window.hg.DisplacementWaveJob.config.displacementAmplitude*100+"%,80%)",e.tileDisplacementCircles[t].setAttribute("fill",l),e.tileDisplacementCircles[t].setAttribute("cx",e.grid.allTiles[t].particle.px),e.tileDisplacementCircles[t].setAttribute("cy",e.grid.allTiles[t].particle.py)},priority:700},tileInnerRadii:{enabled:!1,create:function(){var e,t,i;for((e=this).tileInnerRadii=[],t=0,i=e.grid.allTiles.length;t<i;t+=1)e.tileInnerRadii[t]=document.createElementNS(window.hg.util.svgNamespace,"circle"),e.grid.svg.appendChild(e.tileInnerRadii[t]),e.tileInnerRadii[t].setAttribute("stroke","blue"),e.tileInnerRadii[t].setAttribute("stroke-width","1"),e.tileInnerRadii[t].setAttribute("fill","transparent")},destroy:function(){var e,t;for(e=0,t=this.tileInnerRadii.length;e<t;e+=1)this.grid.svg.removeChild(this.tileInnerRadii[e]);this.tileInnerRadii=[]},update:function(){var e,t,i;for(t=0,i=(e=this).grid.allTiles.length;t<i;t+=1)e.tileInnerRadii[t].setAttribute("cx",e.grid.allTiles[t].particle.px),e.tileInnerRadii[t].setAttribute("cy",e.grid.allTiles[t].particle.py),e.tileInnerRadii[t].setAttribute("r",e.grid.allTiles[t].outerRadius*window.hg.Grid.config.sqrtThreeOverTwo)},priority:800},tileOuterRadii:{enabled:!1,create:function(){var e,t,i;for((e=this).tileOuterRadii=[],t=0,i=e.grid.allTiles.length;t<i;t+=1)e.tileOuterRadii[t]=document.createElementNS(window.hg.util.svgNamespace,"circle"),e.grid.svg.appendChild(e.tileOuterRadii[t]),e.tileOuterRadii[t].setAttribute("stroke","green"),e.tileOuterRadii[t].setAttribute("stroke-width","1"),e.tileOuterRadii[t].setAttribute("fill","transparent")},destroy:function(){var e,t;for(e=0,t=this.tileOuterRadii.length;e<t;e+=1)this.grid.svg.removeChild(this.tileOuterRadii[e]);this.tileOuterRadii=[]},update:function(){var e,t,i;for(t=0,i=(e=this).grid.allTiles.length;t<i;t+=1)e.tileOuterRadii[t].setAttribute("cx",e.grid.allTiles[t].particle.px),e.tileOuterRadii[t].setAttribute("cy",e.grid.allTiles[t].particle.py),e.tileOuterRadii[t].setAttribute("r",e.grid.allTiles[t].outerRadius)},priority:900},contentAreaGuidelines:{enabled:!1,create:function(){var e,t;(e=this).contentAreaGuideLines=[],t=document.createElementNS(window.hg.util.svgNamespace,"line"),e.grid.svg.appendChild(t),(e.contentAreaGuideLines[0]=t).setAttribute("x1",e.grid.contentAreaLeft),t.setAttribute("y1",0),t.setAttribute("x2",e.grid.contentAreaLeft),t.setAttribute("y2",e.grid.height),t.setAttribute("stroke","red"),t.setAttribute("stroke-width","2"),t=document.createElementNS(window.hg.util.svgNamespace,"line"),e.grid.svg.appendChild(t),(e.contentAreaGuideLines[1]=t).setAttribute("x1",e.grid.contentAreaRight),t.setAttribute("y1",0),t.setAttribute("x2",e.grid.contentAreaRight),t.setAttribute("y2",e.grid.height),t.setAttribute("stroke","red"),t.setAttribute("stroke-width","2")},destroy:function(){var e,t;for(e=0,t=this.contentAreaGuideLines.length;e<t;e+=1)this.grid.svg.removeChild(this.contentAreaGuideLines[e]);this.contentAreaGuideLines=[]},update:function(){},priority:1400},lineAnimationGapPoints:{enabled:!1,create:function(){},destroy:s,update:function(){var e,t,i,n,o,r,a;for(s.call(e=this),e.lineAnimationGapDots=[],t=r=0,i=window.hg.controller.transientJobs.LineJob.jobs[e.grid.index].length;t<i;t+=1)for(a=window.hg.controller.transientJobs.LineJob.jobs[e.grid.index][t],n=0,o=a.gapPoints.length;n<o;n+=1,r+=1)e.lineAnimationGapDots[r]=document.createElementNS(window.hg.util.svgNamespace,"circle"),e.lineAnimationGapDots[r].setAttribute("cx",a.gapPoints[n].x),e.lineAnimationGapDots[r].setAttribute("cy",a.gapPoints[n].y),e.lineAnimationGapDots[r].setAttribute("r","4"),e.lineAnimationGapDots[r].setAttribute("fill","white"),e.grid.svg.appendChild(e.lineAnimationGapDots[r])},priority:1500},lineAnimationCornerData:{enabled:!1,create:function(){},destroy:c,update:function(){var e,t,i,n,o,r,a,l;for(c.call(e=this),e.lineAnimationSelfCornerDots=[],e.lineAnimationLowerNeighborCornerDots=[],e.lineAnimationUpperNeighborCornerDots=[],t=0,i=window.hg.controller.transientJobs.LineJob.jobs[e.grid.index].length;t<i;t+=1)for(r=window.hg.controller.transientJobs.LineJob.jobs[e.grid.index][t],n=0,o=r.corners.length;n<o;n+=1)a=s(r.tiles[n],r.corners[n]),(l=document.createElementNS(window.hg.util.svgNamespace,"circle")).setAttribute("cx",a.x),l.setAttribute("cy",a.y),l.setAttribute("r","3"),l.setAttribute("fill","#ffaaaa"),e.grid.svg.appendChild(l),e.lineAnimationSelfCornerDots.push(l),r.lowerNeighbors[n]&&(a=s(r.lowerNeighbors[n].tile,r.lowerNeighborCorners[n]),(l=document.createElementNS(window.hg.util.svgNamespace,"circle")).setAttribute("cx",a.x),l.setAttribute("cy",a.y),l.setAttribute("r","3"),l.setAttribute("fill","#aaffaa"),e.grid.svg.appendChild(l),e.lineAnimationLowerNeighborCornerDots.push(l)),r.upperNeighbors[n]&&(a=s(r.upperNeighbors[n].tile,r.upperNeighborCorners[n]),(l=document.createElementNS(window.hg.util.svgNamespace,"circle")).setAttribute("cx",a.x),l.setAttribute("cy",a.y),l.setAttribute("r","3"),l.setAttribute("fill","#aaaaff"),e.grid.svg.appendChild(l),e.lineAnimationUpperNeighborCornerDots.push(l));function s(e,t){return{x:e.vertices[2*t],y:e.vertices[2*t+1]}}},priority:1600},panCenterPoints:{enabled:!1,create:function(){var e;(e=this).currentGridCenterDot=document.createElementNS(window.hg.util.svgNamespace,"circle"),e.grid.svg.appendChild(e.currentGridCenterDot),e.currentGridCenterDot.setAttribute("r","8"),e.currentGridCenterDot.setAttribute("fill","chartreuse"),e.panCenterDot=document.createElementNS(window.hg.util.svgNamespace,"circle"),e.grid.svg.appendChild(e.panCenterDot),e.panCenterDot.setAttribute("r","5"),e.panCenterDot.setAttribute("fill","red"),e.originalGridCenterDot=document.createElementNS(window.hg.util.svgNamespace,"circle"),e.grid.svg.appendChild(e.originalGridCenterDot),e.originalGridCenterDot.setAttribute("r","2"),e.originalGridCenterDot.setAttribute("fill","yellow")},destroy:function(){var e;(e=this).originalGridCenterDot&&(e.grid.svg.removeChild(e.originalGridCenterDot),e.grid.svg.removeChild(e.currentGridCenterDot),e.grid.svg.removeChild(e.panCenterDot),e.originalGridCenterDot=null,e.currentGridCenterDot=null,e.panCenterDot=null)},update:function(){var e,t;(e=this).originalGridCenterDot&&(e.originalGridCenterDot.setAttribute("cx",e.grid.originalCenter.x),e.originalGridCenterDot.setAttribute("cy",e.grid.originalCenter.y),e.currentGridCenterDot.setAttribute("cx",e.grid.currentCenter.x),e.currentGridCenterDot.setAttribute("cy",e.grid.currentCenter.y),e.panCenterDot.setAttribute("cx",e.grid.panCenter.x),e.panCenterDot.setAttribute("cy",e.grid.panCenter.y),(t=window.hg.controller.transientJobs.PanJob.jobs[e.grid.index][0])&&(t.baseTile.currentColor.h=0,t.baseTile.currentColor.s=0,t.baseTile.currentColor.l=90))},priority:1700},sectorAnchorCenters:{enabled:!1,create:function(){var e,t;for((e=this).sectorAnchorLines=[],e.sectorAnchorCenters=[],t=0;t<e.grid.sectors.length;t+=1)e.sectorAnchorLines[t]=document.createElementNS(window.hg.util.svgNamespace,"line"),e.grid.svg.appendChild(e.sectorAnchorLines[t]),e.sectorAnchorLines[t].setAttribute("stroke","#999999"),e.sectorAnchorLines[t].setAttribute("stroke-width","2"),e.sectorAnchorCenters[t]=document.createElementNS(window.hg.util.svgNamespace,"circle"),e.grid.svg.appendChild(e.sectorAnchorCenters[t]),e.sectorAnchorCenters[t].setAttribute("r","5"),e.sectorAnchorCenters[t].setAttribute("fill","#BBBBBB")},destroy:function(){var e,t;for(e=this,t=0;t<e.sectorAnchorLines.length;t+=1)e.grid.svg.removeChild(e.sectorAnchorLines[t]),e.grid.svg.removeChild(e.sectorAnchorCenters[t]);e.sectorAnchorLines=[],e.sectorAnchorCenters=[]},update:function(){var e,t,i,n,o,r;for(e=this,t=0;t<e.sectorAnchorLines.length;t+=1)i=e.grid.sectors[t].currentAnchor.x,n=e.grid.sectors[t].currentAnchor.y,o=e.grid.sectors[t].originalAnchor.x-e.grid.sectors[t].expandedDisplacement.x,r=e.grid.sectors[t].originalAnchor.y-e.grid.sectors[t].expandedDisplacement.y,e.sectorAnchorLines[t].setAttribute("x1",i),e.sectorAnchorLines[t].setAttribute("y1",n),e.sectorAnchorLines[t].setAttribute("x2",o),e.sectorAnchorLines[t].setAttribute("y2",r),e.sectorAnchorCenters[t].setAttribute("cx",o),e.sectorAnchorCenters[t].setAttribute("cy",r)},priority:1800}},o.annotationsArray=[],o.computeDependentValues=function(){o.annotationsArray=Object.keys(o.annotations).map(function(e){return o.annotations[e]}),o.annotationsArray.sort(function(e,t){return e.priority-t.priority})},o.computeDependentValues(),e.config=o,window.hg=window.hg||{},window.hg.Annotations=e,console.log("Annotations module loaded")}(),function(){var m,e,t,i,n;function o(e,t,i,n,o,r){var a=this;a.grid=e,a.pagePost=t,a.parent=i,a.elements=null,a.currentIndex=0,a.previousIndex=0,a.mediaMetadata=null,a.currentIndexPositionRatio=0,a.loadMedia=w,a.onSlideFinished=l,a.draw=s,a.destroy=c,function(e,t){this.mediaMetadata=t.concat(e).map(function(e){return e.isVideo=!!e.videoHost,e})}.call(a,n,o),function(e){var t=this,i=document.createElement("div"),n=document.createElement("div"),o=document.createElement("div"),r=document.createElement("div"),a=document.createElement("div"),l=document.createElement("div"),s=document.createElement("p"),c=document.createElement("div"),d=document.createElementNS(window.hg.util.svgNamespace,"svg"),u=document.createElementNS(window.hg.util.svgNamespace,"use"),g=document.createElement("div"),h=document.createElementNS(window.hg.util.svgNamespace,"svg"),p=document.createElementNS(window.hg.util.svgNamespace,"use");t.parent.appendChild(i),i.appendChild(n),n.appendChild(o),n.appendChild(r),n.appendChild(a),a.appendChild(c),c.appendChild(d),d.appendChild(u),a.appendChild(g),g.appendChild(h),h.appendChild(p),i.appendChild(l),l.appendChild(s),t.elements={},t.elements.container=i,t.elements.slidersContainer=n,t.elements.mainMediaRibbon=o,t.elements.thumbnailsRibbon=r,t.elements.buttonsContainer=a,t.elements.captionsPanel=l,t.elements.captionsText=s,t.elements.previousButtonPanel=c,t.elements.previousButtonSvg=d,t.elements.previousButtonUse=u,t.elements.nextButtonPanel=g,t.elements.nextButtonSvg=h,t.elements.nextButtonUse=p,t.elements.mainMedia=[],t.elements.thumbnails=[],t.elements.thumbnailScreens=[],i.setAttribute("data-hg-carousel-container","data-hg-carousel-container"),n.setAttribute("data-hg-carousel-sliders-container","data-hg-carousel-sliders-container"),n.style.position="relative",n.style.overflow="hidden",n.style.width="100%",window.hg.util.setUserSelectNone(i),o.style.position="relative",o.style.width="100%",o.style.height="0",o.style.padding="56.25% 0 0 0",r.style.position="relative",r.style.width=m.thumbnailWidth*t.mediaMetadata.length+"px",r.style.height=m.thumbnailHeight+"px",r.style.left="calc(50% - "+m.thumbnailWidth/2+"px)",r.style.paddingTop=m.thumbnailRibbonPadding+"px",a.style.position="absolute",a.style.top="0",a.style.width="100%",a.style.height="0",a.style.padding="56.25% 0 0 0",c.setAttribute("data-hg-carousel-button","data-hg-carousel-button"),c.style.position="absolute",c.style.top="0",c.style.left="0",c.style.width="calc(33.33% - "+m.prevNextButtonPadding+"px)",c.style.height="100%",c.style.cursor="pointer",c.addEventListener("click",function(){var e,t=this;0<t.currentIndex?(e=(t.currentIndex+t.mediaMetadata.length-1)%t.mediaMetadata.length,f.call(t,e)):console.warn("Carousel cannot go to previous. Already at first medium.")}.bind(t),!1),d.style.position="absolute",d.style.top="0",d.style.bottom="0",d.style.left="0",d.style.margin="auto",d.style.height=m.prevNextButtonHeight+"px",d.style.width=m.prevNextButtonWidth+"px",d.style.paddingLeft=m.prevNextButtonPadding+"px",u.setAttributeNS(window.hg.util.xlinkNamespace,"xlink:href","#chevron-left"),g.setAttribute("data-hg-carousel-button","data-hg-carousel-button"),g.style.position="absolute",g.style.top="0",g.style.right="0",g.style.width="calc(66.67% - "+m.prevNextButtonPadding+"px)",g.style.height="100%",g.style.cursor="pointer",g.addEventListener("click",function(){var e,t=this;t.currentIndex<t.mediaMetadata.length-1?(e=(t.currentIndex+1)%t.mediaMetadata.length,f.call(t,e)):console.warn("Carousel cannot go to next. Already at last medium.")}.bind(t),!1),window.hg.util.setTransform(h,"scaleX(-1)"),h.style.position="absolute",h.style.top="0",h.style.bottom="0",h.style.right="0",h.style.margin="auto",h.style.height=m.prevNextButtonHeight+"px",h.style.width=m.prevNextButtonWidth+"px",h.style.paddingLeft=m.prevNextButtonPadding+"px",p.setAttributeNS(window.hg.util.xlinkNamespace,"xlink:href","#chevron-left"),l.setAttribute("data-hg-captions-panel","data-hg-captions-panel"),s.style.margin="0",s.style.padding="0",t.elements.captionsPanel.setAttribute("data-hg-selected","data-hg-selected"),e||w.call(t);0===t.mediaMetadata.length?(i.style.display="none",l.style.display="none"):(s.innerHTML=t.mediaMetadata[0].description,1===t.mediaMetadata.length&&(r.style.display="none"));b.call(t)}.call(a,r),console.log("Carousel created")}function b(){var e,t,i,n=this;!n.mediaMetadata.length||n.mediaMetadata[n.currentIndex].isVideo?i=t=e="hidden":(e=0<n.currentIndex?"visible":"hidden",t=n.currentIndex<n.mediaMetadata.length-1?"visible":"hidden",i="visible"),n.elements.previousButtonPanel.style.visibility=e,n.elements.nextButtonPanel.style.visibility=t,n.elements.buttonsContainer.style.visibility=i}function f(e){var t=this;if(t.previousIndex=t.currentIndex,t.currentIndex=e,window.hg.controller.transientJobs.CarouselImageSlideJob.create(t.grid,null,t),t.mediaMetadata[t.previousIndex].isVideo)switch(t.mediaMetadata[t.previousIndex].videoHost){case"youtube":t.elements.mainMedia[t.previousIndex].querySelector("iframe").contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*");break;case"vimeo":t.elements.mainMedia[t.previousIndex].querySelector("iframe").contentWindow.postMessage('{"method": "pause", "value": ""}',"*");break;default:throw new Error("Invalid video host: "+t.mediaMetadata[t.previousIndex].videoHost)}t.elements.captionsPanel.removeAttribute("data-hg-selected"),t.elements.thumbnails[t.previousIndex].removeAttribute("data-hg-selected"),t.elements.thumbnails[t.currentIndex].setAttribute("data-hg-selected","data-hg-selected"),b.call(t)}function w(){var u=this;0===u.elements.mainMedia.length&&u.mediaMetadata.forEach(function(e,t){var i,n,o,r,a;if(e.isVideo)switch((n=document.createElement("iframe")).setAttribute("src",e.videoSrc),n.setAttribute("allowfullscreen","allowfullscreen"),n.setAttribute("frameborder","0"),n.style.position="absolute",n.style.top="0",n.style.width="100%",n.style.height="100%",(i=document.createElement("div")).appendChild(n),e.videoHost){case"youtube":a=e.thumbnailSrc;break;case"vimeo":a="",l=e,s=t,c=m.vimeoMetadataBaseUrl+"/"+l.id+".json",(d=new XMLHttpRequest).addEventListener("load",function(){var e;console.log("Vimeo metadata response status="+d.status+" ("+d.statusText+")");try{e=JSON.parse(d.response)}catch(e){return void console.error("Unable to parse Vimeo metadata response body as JSON: "+d.response)}l.thumbnailSrc=e[0].thumbnail_large,u.elements.thumbnails[s].style.backgroundImage="url("+l.thumbnailSrc+")"},!1),d.addEventListener("error",function(){console.error("An error occurred while loading the Vimeo thumbnail")},!1),d.addEventListener("abort",function(){console.error("The Vimeo thumbnail load has been cancelled by the user")},!1),console.log("Sending request for Vimeo metadata to "+c),d.open("GET",c,!0),d.send();break;default:throw new Error("Invalid video host: "+e.videoHost)}else(i=document.createElement("div")).style.backgroundImage="url("+e.src+")",i.style.backgroundSize="contain",i.style.backgroundRepeat="no-repeat",i.style.backgroundPosition="50% 50%",a=e.src;var l,s,c,d;i.setAttribute("data-hg-carousel-main-media","data-hg-carousel-main-media"),i.style.position="absolute",i.style.top="0",i.style.left=100*t+"%",i.style.width="100%",i.style.height="0",i.style.padding="56.25% 0 0 0",(o=document.createElement("div")).setAttribute("data-hg-carousel-thumbnail","data-hg-carousel-thumbnail"),o.style.backgroundImage="url("+a+")",o.style.backgroundSize="contain",o.style.backgroundRepeat="no-repeat",o.style.backgroundPosition="50% 50%",o.style.width=m.thumbnailWidth+"px",o.style.height=m.thumbnailHeight+"px",o.style.styleFloat="left",o.style.cssFloat="left",(r=document.createElement("div")).setAttribute("data-hg-carousel-thumbnail-screen","data-hg-carousel-thumbnail-screen"),r.style.width="100%",r.style.height="100%",r.style.cursor="pointer",r.addEventListener("click",f.bind(u,t),!1),u.elements.mainMedia.push(i),u.elements.thumbnails.push(o),u.elements.thumbnailScreens.push(r),u.elements.mainMediaRibbon.appendChild(i),u.elements.thumbnailsRibbon.appendChild(o),o.appendChild(r)}),0<u.mediaMetadata.length&&u.elements.thumbnails[0].setAttribute("data-hg-selected","data-hg-selected")}function l(){this.elements.captionsText.innerHTML=this.mediaMetadata[this.currentIndex].description,this.elements.captionsPanel.setAttribute("data-hg-selected","data-hg-selected")}function s(){this.elements.mainMediaRibbon.style.left=100*-this.currentIndexPositionRatio+"%",this.elements.thumbnailsRibbon.style.left="calc(50% - "+(m.thumbnailWidth/2+this.currentIndexPositionRatio*m.thumbnailWidth)+"px"}function c(){this.parent.removeChild(this.elements.container),this.elements.container=null}(m={thumbnailHeight:80,thumbnailRibbonPadding:3,prevNextButtonPadding:10,prevNextButtonHeight:41,prevNextButtonWidth:24,aspectRatio:16/9,vimeoMetadataBaseUrl:"http://vimeo.com/api/v2/video",computeDependentValues:function(){m.thumbnailWidth=m.thumbnailHeight*m.aspectRatio}}).computeDependentValues(),e=document.querySelector("body"),t=document.createElementNS(window.hg.util.svgNamespace,"svg"),i=document.createElementNS(window.hg.util.svgNamespace,"symbol"),n=document.createElementNS(window.hg.util.svgNamespace,"path"),e.appendChild(t),t.appendChild(i),i.appendChild(n),t.style.display="none",i.setAttribute("id","chevron-left"),i.setAttribute("viewBox","0 0 247.88 428.75"),n.setAttribute("d","M149.03125,428.29625,0.54125,214.36625,149.03125,0.44725l97.959,0.000001-148.49,213.92,148.49,213.92z"),o.config=m,window.hg=window.hg||{},window.hg.Carousel=o,console.log("Carousel module loaded")}(),function(){var w={};function e(e,t,i,n){var o=this;o.index=e,o.parent=t,o.postData=i,o.isVertical=n,o.actualContentAreaWidth=w.targetContentAreaWidth,o.isComplete=!0,o.svg=null,o.svgDefs=null,o.originalTiles=[],o.originalBorderTiles=[],o.contentTiles=[],o.originalContentInnerIndices=null,o.innerIndexOfLastContentTile=null,o.originalCenter=null,o.currentCenter=null,o.panCenter=null,o.isPostOpen=!1,o.pagePost=null,o.isTransitioning=!1,o.expandedTile=null,o.sectors=null,o.allTiles=null,o.allNonContentTiles=null,o.lastExpansionJob=null,o.scrollTop=Number.NaN,o.annotations=new window.hg.Annotations(o),o.actualContentAreaWidth=Number.NaN,o.rowDeltaY=Number.NaN,o.tileDeltaX=Number.NaN,o.tileNeighborDistance=Number.NaN,o.oddRowTileCount=Number.NaN,o.evenRowTileCount=Number.NaN,o.oddRowXOffset=Number.NaN,o.rowCount=Number.NaN,o.evenRowXOffset=Number.NaN,o.contentAreaLeft=Number.NaN,o.contentAreaRight=Number.NaN,o.oddRowContentStartIndex=Number.NaN,o.evenRowContentStartIndex=Number.NaN,o.oddRowContentTileCount=Number.NaN,o.evenRowContentTileCount=Number.NaN,o.oddRowContentEndIndex=Number.NaN,o.evenRowContentEndIndex=Number.NaN,o.actualContentInnerIndices=Number.NaN,o.innerIndexOfLastContentTile=Number.NaN,o.rowCount=Number.NaN,o.height=Number.NaN,o.resize=a,o.start=d,o.update=u,o.draw=g,o.cancel=h,o.init=f,o.setBackgroundColor=l,o.updateTileColor=s,o.updateTileMass=c,o.setHoveredTile=p,o.createPagePost=m,o.destroyPagePost=b,o.updateAllTilesCollection=y,o.computeContentIndices=r,o.parent.setAttribute("data-hg-grid-parent","data-hg-grid-parent"),function(){var e;(e=this).svg=document.createElementNS(window.hg.util.svgNamespace,"svg"),e.parent.appendChild(e.svg),e.svg.style.display="block",e.svg.style.position="relative",e.svg.style.width="100%",e.svg.style.height="100%",e.svg.style.zIndex="1000",e.svg.style.overflow="visible",e.svg.style.pointerEvents="none",e.svg.setAttribute("data-hg-svg","data-hg-svg"),e.svgDefs=document.createElementNS(window.hg.util.svgNamespace,"defs"),e.svg.appendChild(e.svgDefs)}.call(o),l.call(o),r.call(o),a.call(o)}function r(){var e,t,i,n,o;for(o=[],n=(e=this).postData.length,t=0;t<n;t+=1)o[t]=1;for(n=1/w.contentDensity*e.postData.length,t=e.postData.length;t<n;t+=1)o[t]=0;for(o=window.hg.util.shuffle(o),e.originalContentInnerIndices=[],i=t=0,n=o.length;t<n;t+=1)o[t]&&(e.originalContentInnerIndices[i++]=t)}function t(){var e,t,i,n,o,r,a,l,s,c,d,u,g,h,p,m,b,f;for((e=this).originalTiles=[],e.originalBorderTiles=[],h=g=t=0,l=w.firstRowYOffset,n=e.rowCount,m=[],p=function(){var e,t,i;i=[],t=(e=this).oddRowTileCount>e.evenRowTileCount?e.oddRowTileCount:e.evenRowTileCount,e.isVertical?(i[0]=1-t,i[1]=1,i[2]=t,i[3]=t-1,i[4]=-1):(i[0]=2*-t+1,i[1]=1-t,i[2]=t,i[3]=2*t-1,i[4]=t-1),i[5]=-t;return i}.call(e),b=e.oddRowTileCount>e.evenRowTileCount,i=0;i<n;i+=1,l+=e.rowDeltaY)for(u=i%2==0,f=b&&u||!b&&!u,u?(a=e.oddRowXOffset,r=e.oddRowTileCount):(a=e.evenRowXOffset,r=e.evenRowTileCount),o=0;o<r;t+=1,o+=1,a+=e.tileDeltaX)s=u?o<e.oddRowContentStartIndex||o>e.oddRowContentEndIndex:o<e.evenRowContentStartIndex||o>e.evenRowContentEndIndex,d=(c=e.isVertical?0===o||o===r-1||0===i||i===n-1:i<=1||n-2<=i||f&&(0===o||o===r-1))&&(e.isVertical?!(0!==o&&o!==r-1||0!==i&&i!==n-1):(i<=1||n-2<=i)&&f&&(0===o||o===r-1)),e.originalTiles[t]=new window.hg.Tile(e.svg,e,a,l,w.tileOuterRadius,e.isVertical,w.tileHue,w.tileSaturation,w.tileLightness,null,t,i,o,s,c,d,f,w.tileMass),c&&e.originalBorderTiles.push(e.originalTiles[t]),s||(g===e.actualContentInnerIndices[h]&&(e.originalTiles[t].setContent(e.postData[h]),e.contentTiles[h]=e.originalTiles[t],h+=1),g+=1),m[t]=v.call(e,i,n,o,r,f,p);(function(e){var t,i,n,o;for(o=[],t=0,n=this.originalTiles.length;t<n;t+=1){for(i=0,6;i<6;i+=1)o[i]=isNaN(e[t][i])?null:this.originalTiles[t+e[t][i]];this.originalTiles[t].setNeighborTiles(o)}}).call(e,m),y.call(e,e.originalTiles)}function v(e,t,i,n,o,r){var a;return this,a=r.slice(0),this.isVertical?(o?(0===i&&(a[3]=Number.NaN,a[4]=Number.NaN,a[5]=Number.NaN),i===n-1&&(a[0]=Number.NaN,a[1]=Number.NaN,a[2]=Number.NaN)):(0===i&&(a[4]=Number.NaN),i===n-1&&(a[1]=Number.NaN)),0===e&&(a[0]=Number.NaN,a[5]=Number.NaN),e===t-1&&(a[2]=Number.NaN,a[3]=Number.NaN)):(o&&(0===i&&(a[4]=Number.NaN,a[5]=Number.NaN),i===n-1&&(a[1]=Number.NaN,a[2]=Number.NaN)),0===e?(a[0]=Number.NaN,a[1]=Number.NaN,a[5]=Number.NaN):1===e&&(a[0]=Number.NaN),e===t-1?(a[2]=Number.NaN,a[3]=Number.NaN,a[4]=Number.NaN):e===t-2&&(a[3]=Number.NaN)),a}function a(){var e;(e=this).allTiles&&e.allTiles.forEach(function(e){e.destroy()}),e.isPostOpen&&e.pagePost.destroy(),e.originalCenter={x:Number.NaN,y:Number.NaN},e.currentCenter={x:Number.NaN,y:Number.NaN},e.panCenter={x:Number.NaN,y:Number.NaN},e.isPostOpen=!1,e.isTransitioning=!1,e.expandedTile=null,e.sectors=[],e.allTiles=null,e.allNonContentTiles=null,e.lastExpansionJob=null,e.parent.style.overflowX="hidden",e.parent.style.overflowY="auto",function(){var e;for(e=this.svg,this.annotations.destroyAnnotations();e.firstChild;)e.removeChild(e.firstChild);this.svg.appendChild(this.svgDefs)}.call(e),function(){var e,t,i,n,o,r,a,l,s;for(t=.5*(e=this).parent.clientWidth,i=e.parent.clientHeight,e.originalCenter.x=t,e.originalCenter.y=.5*i,e.currentCenter.x=e.originalCenter.x,e.currentCenter.y=e.originalCenter.y,e.panCenter.x=e.originalCenter.x,e.panCenter.y=e.originalCenter.y,e.actualContentAreaWidth=e.parent.clientWidth<w.targetContentAreaWidth?e.parent.clientWidth:w.targetContentAreaWidth,e.isVertical?(e.rowDeltaY=1.5*w.tileOuterRadius+w.tileGap*w.sqrtThreeOverTwo,e.tileDeltaX=w.tileShortLengthWithGap,e.oddRowTileCount=2*Math.ceil((t-(w.tileInnerRadius+w.tileGap))/w.tileShortLengthWithGap)+1,e.evenRowTileCount=2*Math.ceil((t-(w.tileShortLengthWithGap+.5*w.tileGap))/w.tileShortLengthWithGap)+2,e.oddRowXOffset=t-w.tileShortLengthWithGap*(e.oddRowTileCount-1)/2,e.rowCount=Math.ceil((i-(w.firstRowYOffset+2*w.tileOuterRadius+w.tileGap*Math.sqrt(3)))/e.rowDeltaY)+2):(e.rowDeltaY=w.tileInnerRadius+.5*w.tileGap,e.tileDeltaX=3*w.tileOuterRadius+w.tileGap*Math.sqrt(3),e.oddRowTileCount=2*Math.ceil((t-(e.tileDeltaX-w.tileOuterRadius))/e.tileDeltaX)+1,e.evenRowTileCount=2*Math.ceil((t-(e.tileDeltaX+w.tileGap*w.sqrtThreeOverTwo+.5*w.tileOuterRadius))/e.tileDeltaX)+2,e.oddRowXOffset=t-e.tileDeltaX*(e.oddRowTileCount-1)/2,e.rowCount=Math.ceil((i-(w.firstRowYOffset+3*w.tileInnerRadius+2*w.tileGap))/e.rowDeltaY)+4),e.evenRowXOffset=e.oddRowXOffset+(e.evenRowTileCount>e.oddRowTileCount?-1:1)*e.tileDeltaX*.5,e.contentAreaLeft=t-.5*e.actualContentAreaWidth,e.contentAreaRight=e.contentAreaLeft+e.actualContentAreaWidth,e.isVertical?(e.oddRowContentStartIndex=Math.ceil((e.contentAreaLeft-(e.oddRowXOffset-w.tileInnerRadius))/e.tileDeltaX),e.evenRowContentStartIndex=Math.ceil((e.contentAreaLeft-(e.evenRowXOffset-w.tileInnerRadius))/e.tileDeltaX)):(e.oddRowContentStartIndex=Math.ceil((e.contentAreaLeft-(e.oddRowXOffset-w.tileOuterRadius))/e.tileDeltaX),e.evenRowContentStartIndex=Math.ceil((e.contentAreaLeft-(e.evenRowXOffset-w.tileOuterRadius))/e.tileDeltaX)),e.oddRowContentTileCount=e.oddRowTileCount-2*e.oddRowContentStartIndex,e.evenRowContentTileCount=e.evenRowTileCount-2*e.evenRowContentStartIndex,e.oddRowContentEndIndex=e.oddRowContentStartIndex+e.oddRowContentTileCount-1,e.evenRowContentEndIndex=e.evenRowContentStartIndex+e.evenRowContentTileCount-1,e.actualContentInnerIndices=[],l=Math.ceil(w.contentStartingRowIndex/2)*e.oddRowContentTileCount+Math.floor(w.contentStartingRowIndex/2)*e.evenRowContentTileCount,r=0,a=e.originalContentInnerIndices.length;r<a;r+=1)e.actualContentInnerIndices[r]=e.originalContentInnerIndices[r]+l;for(e.innerIndexOfLastContentTile=e.actualContentInnerIndices[e.actualContentInnerIndices.length-1],s=l+e.innerIndexOfLastContentTile+1,o=n=0;n<s;)n+=o%2==0?e.oddRowContentTileCount:e.evenRowContentTileCount,o+=1;o>e.rowCount?(e.rowCount=o+(e.isVertical?0:1),e.height=(e.rowCount-2)*e.rowDeltaY):e.height=i}.call(e),t.call(e),function(){console.log("// --- Grid Info: ------- //"),console.log("// - Tile count="+this.originalTiles.length),console.log("// - Row count="+this.rowCount),console.log("// - Odd row tile count="+this.oddRowTileCount),console.log("// - Even row tile count="+this.evenRowTileCount),console.log("// ------------------------- //")}.call(e)}function l(){this.parent.style.backgroundColor="hsl("+w.backgroundHue+","+w.backgroundSaturation+"%,"+w.backgroundLightness+"%)"}function s(){var e,t;for(e=0,t=this.allNonContentTiles.length;e<t;e+=1)this.allNonContentTiles[e].setColor(w.tileHue,w.tileSaturation,w.tileLightness)}function c(e){var t,i;for(t=0,i=this.allTiles.length;t<i;t+=1)this.allTiles[t].particle.m=e}function d(){this.isComplete=!1}function u(e,t){var i,n;for(i=0,n=this.allTiles.length;i<n;i+=1)this.allTiles[i].update(e,t)}function g(){var e,t;for(e=0,t=this.allTiles.length;e<t;e+=1)this.allTiles[e].draw();this.isPostOpen&&this.pagePost.draw()}function h(){this.isComplete=!0}function p(e){this.hoveredTile&&this.hoveredTile.setIsHighlighted(!1),e&&e.setIsHighlighted(!0),this.hoveredTile=e}function m(e,t){return this.pagePost=new window.hg.PagePost(e,t),this.pagePost}function b(){this.pagePost.destroy(),this.pagePost=null}function y(e){var t,i,n,o=this;for(o.allTiles=e,o.allNonContentTiles=[],t=n=0,i=e.length;t<i;t+=1)e[t].holdsContent||(o.allNonContentTiles[n++]=e[t]);o.annotations.destroyAnnotations(),o.annotations.createAnnotations(),function(){var e,t;for(e=0,t=this.allTiles.length;e<t;e+=1)this.allTiles[e].element.setAttribute("data-hg-index",e)}.call(o)}function f(){w.computeDependentValues()}w.targetContentAreaWidth=800,w.backgroundHue=230,w.backgroundSaturation=1,w.backgroundLightness=4,w.tileHue=230,w.tileSaturation=67,w.tileLightness=22,w.tileOuterRadius=80,w.tileGap=12,w.contentStartingRowIndex=2,w.firstRowYOffset=-.8*w.tileOuterRadius,w.contentDensity=1,w.tileMass=1,w.computeDependentValues=function(){w.sqrtThreeOverTwo=Math.sqrt(3)/2,w.twoOverSqrtThree=2/Math.sqrt(3),w.tileInnerRadius=w.tileOuterRadius*w.sqrtThreeOverTwo,w.longGap=w.tileGap*w.twoOverSqrtThree,w.tileShortLengthWithGap=2*w.tileInnerRadius+w.tileGap,w.tileLongLengthWithGap=2*w.tileOuterRadius+w.longGap},w.computeDependentValues(),e.config=w,window.hg=window.hg||{},window.hg.Grid=e,console.log("Grid module loaded")}(),function(){var i={};function e(e){this.grid=e,this.createClickAnimation=o,function(){var i;function n(e){var t;return e.target.getAttribute("data-hg-tile")?(t=e.target.getAttribute("data-hg-index"),i.grid.allTiles[t]):e.target.parentElement.getAttribute("data-hg-tile")?(t=e.target.parentElement.getAttribute("data-hg-index"),i.grid.allTiles[t]):null}i=this,document.addEventListener("mouseover",function(e){var t;(t=n(e))&&(t.element.getAttribute("data-hg-post-tile"),i.grid.setHoveredTile(t))},!1),document.addEventListener("mouseout",function(e){var t;e.relatedTarget&&"HTML"!==e.relatedTarget.nodeName?(t=n(e))&&(t.element.getAttribute("data-hg-post-tile"),i.grid.setHoveredTile(null),window.hg.controller.transientJobs.HighlightHoverJob.create(i.grid,t),e.stopPropagation()):(console.log("The mouse left the viewport"),i.grid.setHoveredTile(null))},!1),document.addEventListener("mousemove",function(e){e.target.getAttribute("data-hg-post-tile")||e.target.getAttribute("data-hg-tile")},!1),document.addEventListener("mousedown",function(e){e.target.getAttribute("data-hg-post-tile")},!1),document.addEventListener("mouseup",function(e){var t;0===e.button&&(t=n(e))&&(t.element.getAttribute("data-hg-post-tile"),o.call(i,i.grid,t))},!1),document.addEventListener("keydown",function(e){"Escape"!==e.key&&"Esc"!==e.key||r.call(i,!1)},!1)}.call(this)}function o(e,t){t.holdsContent?(i.possibleClickAnimations[i.contentTileClickAnimation](e,t),r.call(this,!0),window.hg.controller.transientJobs.OpenPostJob.create(e,t)):(i.possibleClickAnimations[i.emptyTileClickAnimation](e,t),r.call(this,!1))}function r(e){this.grid.isPostOpen&&window.hg.controller.transientJobs.ClosePostJob.create(this.grid,this.grid.expandedTile,e)}i.contentTileClickAnimation="Radiate Highlight",i.emptyTileClickAnimation="Radiate Highlight",i.possibleClickAnimations={"Radiate Highlight":window.hg.controller.transientJobs.HighlightRadiateJob.create,"Radiate Lines":window.hg.controller.transientJobs.LinesRadiateJob.create,"Random Line":window.hg.controller.transientJobs.LineJob.create,None:function(){}},e.config=i,window.hg=window.hg||{},window.hg.Input=e,console.log("Input module loaded")}(),function(){var R;function e(e,t){var i=this;i.tile=e,i.elements=null,i.carousel=null,i.opacity=0,i.paddingX=Number.NaN,i.paddingY=Number.NaN,i.halfWidth=Number.NaN,i.halfHeight=Number.NaN,i.innerWrapperPaddingFromCss=Number.NaN,i.center={x:t.x,y:t.y},i.loadCarouselMedia=n,i.draw=L,i.destroy=o,function(){var t=this,e=new showdown.Converter;e.setFlavor("github");var i=window.hg.Grid.config.tileShortLengthWithGap*(window.hg.OpenPostJob.config.expandedDisplacementTileCount+4.25),n=window.hg.Grid.config.longGap*(2*window.hg.OpenPostJob.config.expandedDisplacementTileCount)+window.hg.Grid.config.tileOuterRadius*(3*window.hg.OpenPostJob.config.expandedDisplacementTileCount+2);switch(window.hg.OpenPostJob.config.expandedDisplacementTileCount){case 2:n+=window.hg.Grid.config.tileOuterRadius;break;case 1:n+=3*window.hg.Grid.config.tileOuterRadius,i-=window.hg.Grid.config.tileShortLengthWithGap;break;case 0:n+=4*window.hg.Grid.config.tileOuterRadius,i-=window.hg.Grid.config.tileShortLengthWithGap}var o,r,a,l,s,c,d,u,g=1.4*window.hg.Grid.config.tileShortLengthWithGap,h=2.65*window.hg.Grid.config.tileOuterRadius;t.tile.grid.isVertical?(o=i,r=n,a=g,l=h):(o=n,r=i,a=h,l=g);o-=2*a,r-=2*l;var p=NaN;r+2*l>window.innerHeight&&(l=80,r=window.innerHeight-2*l,p=48);window.hg.util.isSmallScreen()&&(o=window.innerWidth,a=0);t.paddingX=a,t.paddingY=l,t.halfWidth=o/2,t.halfHeight=r/2,s="hsl("+window.hg.Grid.config.backgroundHue+","+window.hg.Grid.config.backgroundSaturation+"%,"+window.hg.Grid.config.backgroundLightness+"%)",c="hsla("+window.hg.Grid.config.backgroundHue+","+window.hg.Grid.config.backgroundSaturation+"%,"+window.hg.Grid.config.backgroundLightness+"%,0)";var m=document.createElement("div"),b=document.createElement("div"),f=document.createElement("div"),w=document.createElement("h1"),v=document.createElement("div"),y=document.createElement("a"),C=document.createElement("div"),x=document.createElement("div"),T=document.createElement("div"),S=document.createElement("div"),N=document.createElement("div"),D=document.createElement("div"),A=document.createElement("div"),P=document.createElement("div");t.tile.grid.parent.appendChild(m),m.appendChild(b),b.appendChild(f),f.appendChild(y),f.appendChild(C),f.appendChild(x),f.appendChild(T),f.appendChild(S),f.appendChild(w),f.appendChild(N),f.appendChild(v),f.appendChild(D),m.appendChild(A),m.appendChild(P),t.elements=[],t.elements.container=m,t.elements.title=w,t.elements.content=v,t.elements.closeButton=y,t.elements.logo=C,t.elements.date=x,t.elements.urls=N,t.elements.categories=D,m.setAttribute("data-hg-post-container","data-hg-post-container"),m.style.position="absolute",m.style.width=o+a+"px",m.style.height=r+2*l+"px",m.style.margin="0",m.style.padding="0",m.style.overflow="hidden",m.style.zIndex=window.hg.controller.isSafariBrowser?"1500":"500",b.setAttribute("data-hg-post-outer-wrapper","data-hg-post-outer-wrapper"),b.style.width=o+"px",b.style.height=r+2*l+"px",b.style.margin="0",b.style.padding="0 0 0 "+a+"px",b.style.overflow="auto",b.style.webkitOverflowScrolling="touch",f.setAttribute("data-hg-post-inner-wrapper","data-hg-post-inner-wrapper"),d=parseInt(window.getComputedStyle(f,null).getPropertyValue("padding-top")),u=d+l,f.style.padding=u+"px "+d+"px "+u+"px "+d+"px",f.style.minHeight=r-2*d+"px",f.style.overflowX="hidden",t.innerWrapperPaddingFromCss=d,w.setAttribute("data-hg-post-title","data-hg-post-title"),w.innerHTML=t.tile.postData.titleLong,A.style.position="absolute",A.style.top="0",A.style.left=a+"px",A.style.height=l+"px",A.style.width=o+"px",A.style.backgroundColor="#000000",A.style.background="linear-gradient(0,"+c+","+s+" 75%)",A.style.pointerEvents="none",P.style.position="absolute",P.style.bottom="0",P.style.left=a+"px",P.style.height=l+"px",P.style.width=o+"px",P.style.backgroundColor="#000000",P.style.background="linear-gradient(0,"+s+" 25%,"+c+")",P.style.pointerEvents="none",v.setAttribute("data-hg-post-content","data-hg-post-content"),v.innerHTML=e.makeHtml(t.tile.postData.content),y.setAttribute("data-hg-post-close","data-hg-post-close"),y.setAttribute("href","#"),y.innerHTML="&#9587;",p&&(y.style.top=p+"px");y.addEventListener("click",function(){var e=t.tile.grid;e.isPostOpen&&window.hg.controller.transientJobs.ClosePostJob.create(e,e.expandedTile,!1)},!1),C.setAttribute("data-hg-post-logo","data-hg-post-logo"),C.style.backgroundImage="url("+t.tile.postData.logoSrc+")",x.setAttribute("data-hg-post-date","data-hg-post-date"),function(){var e=this.elements.date,t=this.tile.postData.date;e.innerHTML="object"==typeof t?i(t.start)+" &ndash; "+i(t.end):i(t);this.tile.postData.date||(e.style.display="none");function i(e){var t;if("present"===e.toLowerCase())return e;switch((t=e.split("/")).length){case 1:return t[0];case 2:return R.monthLabels[t[0]]+" "+t[1];case 3:return R.monthLabels[t[0]]+" "+t[1]+", "+t[2];default:throw new Error("Invalid date string format: "+e)}}}.call(t),T.setAttribute("data-hg-post-location","data-hg-post-location"),T.innerHTML=t.tile.postData.location,S.setAttribute("data-hg-post-job-title","data-hg-post-job-title"),S.innerHTML=t.tile.postData.jobTitle,N.setAttribute("data-hg-post-urls","data-hg-post-urls"),function(){var l=this,s=l.elements.urls,e=Object.keys(l.tile.postData.urls);e.forEach(function(e){var t,i,n,o,r,a;t=e,i=l.tile.postData.urls[e],o=i.replace(/^.*:\/\//,""),(n=R.urlLabels[t])||(console.warn("Unknown URL type: "+t),n=t),r=document.createElement("p"),a=document.createElement("a"),r.innerHTML=n+": ",r.style.overflow="hidden",r.style.whiteSpace="nowrap",r.style.textOverflow="ellipsis",a.innerHTML=o,a.setAttribute("href",i),r.appendChild(a),s.appendChild(r)}),e.length||(s.style.display="none")}.call(t),D.setAttribute("data-hg-post-categories","data-hg-post-categories"),function(){var i=this.elements.categories;this.tile.postData.categories.forEach(function(e){var t=document.createElement("span");i.appendChild(t),t.setAttribute("data-hg-post-category-card","data-hg-post-category-card"),t.style.display="inline-block",t.innerHTML=e}),this.tile.postData.categories.length||(i.style.display="none")}.call(t),t.carousel=new window.hg.Carousel(t.tile.grid,t,f,t.tile.postData.images,t.tile.postData.videos,!0),f.removeChild(t.carousel.elements.container),f.insertBefore(t.carousel.elements.container,N),L.call(t)}.call(i),console.log("PagePost created: postId="+e.postData.id+", tileIndex="+e.originalIndex)}function n(){this.carousel.loadMedia()}function L(){var e=this;e.elements.container.style.left=e.center.x-e.halfWidth-e.paddingX+"px",e.elements.container.style.top=e.center.y-e.halfHeight-e.paddingY+"px",e.elements.container.style.opacity=e.opacity,e.carousel.draw()}function o(){this.carousel.destroy(),this.tile.grid.parent.removeChild(this.elements.container),this.elements=null}(R={urlLabels:{homepage:"Homepage",published:"Published at",demo:"Demo Site",npm:"NPM Registry",bower:"Bower Registry",codepen:"CodePen",github:"Repository",googleCode:"Repository",githubProfile:"GitHub",linkedin:"LinkedIn",facebook:"Facebook",googlePlus:"Google+",reverbNation:"Reverb Nation",resume:"Resume",youtube:"YouTube"},monthLabels:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec"},computeDependentValues:function(){}}).computeDependentValues(),e.config=R,window.hg=window.hg||{},window.hg.PagePost=e,console.log("PagePost module loaded")}(),function(){var e={};function t(e,t,i,n){var o=this;o.grid=e,o.baseTile=t,o.index=i,o.expandedDisplacementTileCount=n,o.originalAnchor={x:Number.NaN,y:Number.NaN},o.currentAnchor={x:Number.NaN,y:Number.NaN},o.majorNeighborDelta={x:Number.NaN,y:Number.NaN},o.minorNeighborDelta={x:Number.NaN,y:Number.NaN},o.expandedDisplacement={x:Number.NaN,y:Number.NaN},o.tiles=null,o.tilesByIndex=null,o.newTiles=null,o.initializeExpandedStateExternalTileNeighbors=r,o.destroy=l,o.setOriginalPositionForExpansion=c,o.updateCurrentPosition=d,function(){var e,t,i,n;(e=this).majorNeighborIndex=e.index,e.minorNeighborIndex=(e.index+1)%6,e.majorNeighborDelta.x=e.baseTile.neighborStates[e.majorNeighborIndex].tile.originalAnchor.x-e.baseTile.originalAnchor.x,e.majorNeighborDelta.y=e.baseTile.neighborStates[e.majorNeighborIndex].tile.originalAnchor.y-e.baseTile.originalAnchor.y,e.minorNeighborDelta.x=e.baseTile.neighborStates[e.minorNeighborIndex].tile.originalAnchor.x-e.baseTile.originalAnchor.x,e.minorNeighborDelta.y=e.baseTile.neighborStates[e.minorNeighborIndex].tile.originalAnchor.y-e.baseTile.originalAnchor.y,t=(e.index+5)%6,i=e.baseTile.neighborStates[t].tile.originalAnchor.x-e.baseTile.originalAnchor.x,n=e.baseTile.neighborStates[t].tile.originalAnchor.y-e.baseTile.originalAnchor.y,e.expandedDisplacement.x=e.expandedDisplacementTileCount*i,e.expandedDisplacement.y=e.expandedDisplacementTileCount*n,e.originalAnchor.x=e.baseTile.originalAnchor.x+e.majorNeighborDelta.x,e.originalAnchor.y=e.baseTile.originalAnchor.y+e.majorNeighborDelta.y,e.currentAnchor.x=e.originalAnchor.x,e.currentAnchor.y=e.originalAnchor.y}.call(o),function(){var e;(e=this).tilesByIndex=[],e.newTiles=[],e.tiles=[],function(){var o;o=this,function(){var e,t,i,n;i=0,e=o.baseTile.neighborStates[o.majorNeighborIndex].tile;do{for(t=e,n=0,o.tilesByIndex[i]=o.tilesByIndex[i]||[];o.tilesByIndex[i][n]||a.call(o,t,i,n),n++,t.neighborStates[o.minorNeighborIndex]&&(t=t.neighborStates[o.minorNeighborIndex].tile););i++}while(e.neighborStates[o.majorNeighborIndex]&&(e=e.neighborStates[o.majorNeighborIndex].tile))}(),function(){var e,t,i,n;n=0,e=o.baseTile.neighborStates[o.majorNeighborIndex].tile;do{for(t=e,i=0;o.tilesByIndex[i]=o.tilesByIndex[i]||[],o.tilesByIndex[i][n]||a.call(o,t,i,n),i++,t.neighborStates[o.majorNeighborIndex]&&(t=t.neighborStates[o.majorNeighborIndex].tile););n++}while(e.neighborStates[o.minorNeighborIndex]&&(e=e.neighborStates[o.minorNeighborIndex].tile))}()}.call(e),function(){var l,e;l=this,function(e){var t,i,n,o,r,a;t=l.baseTile.originalAnchor.x+l.majorNeighborDelta.x,i=l.baseTile.originalAnchor.y+l.majorNeighborDelta.y,a=r=0,n=t,o=i;do{for(l.tilesByIndex[r]=l.tilesByIndex[r]||[];l.tilesByIndex[r][a]||s.call(l,r,a,n,o),a++,n+=l.minorNeighborDelta.x,o+=l.minorNeighborDelta.y,n>=e.minX&&n<=e.maxX&&o>=e.minY&&o<=e.maxY;);a=0,n=t+ ++r*l.majorNeighborDelta.x,o=i+r*l.majorNeighborDelta.y}while(n>=e.minX&&n<=e.maxX&&o>=e.minY&&o<=e.maxY)}((r=window.innerWidth/2+window.hg.Grid.config.tileLongLengthWithGap,a=window.innerHeight/2+window.hg.Grid.config.tileLongLengthWithGap,t=l.baseTile.originalAnchor.x-r,i=l.baseTile.originalAnchor.x+r,n=l.baseTile.originalAnchor.y-a,o=l.baseTile.originalAnchor.y+a,t-=l.expandedDisplacement.x,i-=l.expandedDisplacement.x,n-=l.expandedDisplacement.y,o-=l.expandedDisplacement.y,e={minX:t,maxX:i,minY:n,maxY:o})),function(e){var t,i,n,o,r,a;t=l.baseTile.originalAnchor.x+l.majorNeighborDelta.x,i=l.baseTile.originalAnchor.y+l.majorNeighborDelta.y,a=r=0,n=t,o=i;do{for(;l.tilesByIndex[r]=l.tilesByIndex[r]||[],l.tilesByIndex[r][a]||s.call(l,r,a,n,o),r++,n+=l.majorNeighborDelta.x,o+=l.majorNeighborDelta.y,n>=e.minX&&n<=e.maxX&&o>=e.minY&&o<=e.maxY;);r=0,n=t+ ++a*l.minorNeighborDelta.x,o=i+a*l.minorNeighborDelta.y}while(n>=e.minX&&n<=e.maxX&&o>=e.minY&&o<=e.maxY)}(e);var t,i,n,o,r,a}.call(e),function(){var e,t;for(this,e=0;this.tilesByIndex[e];e+=1)for(t in this.tilesByIndex[e])i(this,e,parseInt(t));function i(e,t,i){var n,o,r,a;for(n=e.tilesByIndex[t][i],o=0;o<6;o+=1){switch(o){case e.index:r=t+1,a=i;break;case(e.index+1)%6:r=t,a=i+1;break;case(e.index+2)%6:r=t-1,a=i+1;break;case(e.index+3)%6:r=t-1,a=i;break;case(e.index+4)%6:r=t,a=i-1;break;case(e.index+5)%6:r=t+1,a=i-1;break;default:throw new Error("Invalid neighborRelationIndex: "+o)}e.tilesByIndex[r]&&e.tilesByIndex[r][a]&&window.hg.Tile.setTileNeighborState(n,o,e.tilesByIndex[r][a])}}}.call(e),function(){var e,t,i;for(t in e=0,this.tilesByIndex)for(i in this.tilesByIndex[t])this.tiles[e++]=this.tilesByIndex[t][i]}.call(e)}.call(o)}function a(e,t,i){this.tilesByIndex[t][i]=e,window.hg.Tile.initializeTileExpandedState(e,this,t,i),e.sectorAnchorOffset.x=e.originalAnchor.x-this.originalAnchor.x,e.sectorAnchorOffset.y=e.originalAnchor.y-this.originalAnchor.y}function s(e,t,i,n){var o=this,r=new window.hg.Tile(o.grid.svg,o.grid,i,n,window.hg.Grid.config.tileOuterRadius,o.grid.isVertical,window.hg.Grid.config.tileHue,window.hg.Grid.config.tileSaturation,window.hg.Grid.config.tileLightness,null,Number.NaN,Number.NaN,Number.NaN,!0,!1,!1,!1,window.hg.Grid.config.tileMass);return a.call(o,r,e,t),o.newTiles[o.newTiles.length]=r}function r(e){var t,i,n,o,r,a,l,s,c;for(a=((t=this).index+2)%6,l=(t.index+3)%6,s=e[(t.index+1)%6],i=t.tilesByIndex[0],n=s.tilesByIndex,c=0,i[o=t.expandedDisplacementTileCount]&&window.hg.Tile.setTileNeighborState(i[o],a,s.tilesByIndex[c][0]),o+=1,r=i.length-1;o<r;o+=1)window.hg.Tile.setTileNeighborState(i[o],l,s.tilesByIndex[c][0]),c+=1,window.hg.Tile.setTileNeighborState(i[o],a,s.tilesByIndex[c][0]);for(i[o]&&(window.hg.Tile.setTileNeighborState(i[o],l,s.tilesByIndex[c][0]),c+=1,s.tilesByIndex[c]&&s.tilesByIndex[c][0]&&window.hg.Tile.setTileNeighborState(i[o],a,s.tilesByIndex[c][0])),r=t.expandedDisplacementTileCount+1,r=i.length<r?i.length:r,o=0;o<r;o+=1)i[o].expandedState.isBorderTile=!0;for(o=(o=i.length-1-t.expandedDisplacementTileCount)<0?0:o,r=n.length;o<r;o+=1)n[o][0]&&(n[o][0].expandedState.isBorderTile=!0);for(o=0,r=t.tilesByIndex.length;o<r;o+=1)t.tilesByIndex[o].length&&(t.tilesByIndex[o][t.tilesByIndex[o].length-1].expandedState.isBorderTile=!0)}function l(e){var t,i,n;if(t=this,e)for(i=0,n=t.tiles.length;i<n;i+=1)t.tiles[i].expandedState=null;for(i=0,n=t.newTiles.length;i<n;i+=1)t.newTiles[i].neighborStates=null,t.newTiles[i].destroy()}function c(e){var t,i,n,o,r;for(t=this,e?(o=t.expandedDisplacement.x,r=t.expandedDisplacement.y):(o=-t.expandedDisplacement.x,r=-t.expandedDisplacement.y),t.originalAnchor.x+=o,t.originalAnchor.y+=r,i=0,n=t.tiles.length;i<n;i+=1)t.tiles[i].originalAnchor.x+=o,t.tiles[i].originalAnchor.y+=r}function d(e,t){var i,n,o;for((i=this).currentAnchor.x=i.originalAnchor.x+e,i.currentAnchor.y=i.originalAnchor.y+t,n=0,o=i.tiles.length;n<o;n+=1)i.tiles[n].currentAnchor.x+=e,i.tiles[n].currentAnchor.y+=t}e.computeDependentValues=function(){},e.computeDependentValues(),t.config=e,window.hg=window.hg||{},window.hg.Sector=t,console.log("Sector module loaded")}(),function(){var m;function e(e,t,i,n,o,r,a,l,s,c,d,u,g,h,p,m,b,f){var w=this;w.svg=e,w.grid=t,w.element=null,w.polygonElement=null,w.currentAnchor={x:i,y:n},w.originalAnchor={x:i,y:n},w.sectorAnchorOffset={x:Number.NaN,y:Number.NaN},w.outerRadius=o,w.isVertical=r,w.originalColor={h:a,s:l,l:s},w.currentColor={h:a,s:l,l:s},w.postData=c,w.holdsContent=!!c,w.tilePost=null,w.originalIndex=d,w.rowIndex=u,w.columnIndex=g,w.isMarginTile=h,w.isBorderTile=p,w.isCornerTile=m,w.isInLargerRow=b,w.expandedState=null,w.isHighlighted=!1,w.imageScreenOpacity=Number.NaN,w.neighborStates=[],w.vertices=null,w.currentVertexDeltas=null,w.originalVertexDeltas=null,w.expandedVertexDeltas=null,w.particle=null,w.setContent=x,w.setNeighborTiles=T,w.setColor=S,w.setIsHighlighted=N,w.update=D,w.draw=A,w.applyExternalForce=P,w.fixPosition=R,w.getNeighborStates=L,w.getIsBorderTile=J,w.setIsBorderTile=I,w.destroy=O,w.hide=M,w.show=H,function(){var e=this;e.originalVertexDeltas=E(e.outerRadius,e.isVertical),e.currentVertexDeltas=e.originalVertexDeltas.slice(0),e.vertices=[],y.call(e,e.currentAnchor.x,e.currentAnchor.y),v.call(e)}.call(w),function(e){var t;(t=this).particle={},t.particle.px=t.currentAnchor.x,t.particle.py=t.currentAnchor.y,t.particle.vx=0,t.particle.vy=0,t.particle.fx=0,t.particle.fy=0,t.particle.m=e,t.particle.forceAccumulatorX=0,t.particle.forceAccumulatorY=0}.call(w,f),w.holdsContent&&C.call(w)}function v(){var e,t;e=this,t=isNaN(e.originalIndex)?parseInt(1e6*Math.random()+1e3):e.originalIndex,e.element&&e.svg.removeChild(e.element),e.element=document.createElementNS(window.hg.util.svgNamespace,"polygon"),e.svg.appendChild(e.element),e.polygonElement=e.element,e.element.id="hg-"+t,e.element.setAttribute("data-hg-tile","data-hg-tile"),e.element.style.cursor="normal",e.element.style.pointerEvents="auto",A.call(e)}function y(e,t){var i,n;for(this,n=i=0;i<6;i+=1)this.vertices[n]=e+this.currentVertexDeltas[n++],this.vertices[n]=t+this.currentVertexDeltas[n++]}function C(){var e=this;(function(){var e,t;e=this,t=isNaN(e.originalIndex)?parseInt(1e6*Math.random()+1e3):e.originalIndex,e.element&&e.svg.removeChild(e.element),e.element=document.createElementNS(window.hg.util.svgNamespace,"a"),e.svg.appendChild(e.element),e.polygonElement=document.createElementNS(window.hg.util.svgNamespace,"polygon"),e.element.appendChild(e.polygonElement),e.element.id="hg-"+t,e.element.setAttribute("data-hg-tile","data-hg-tile"),e.element.style.cursor="pointer",e.element.style.pointerEvents="auto",e.element.setAttribute("href","#"+e.postData.id),A.call(e)}).call(e),e.element.setAttribute("data-hg-post-tilePost","data-hg-post-tilePost"),e.tilePost=new window.hg.TilePost(e),A.call(e)}function n(){v.call(this),this.element.removeAttribute("data-hg-post-tilePost"),this.tilePost.destroy(),this.tilePost=null}function x(e){var t,i;i=(t=this).holdsContent,t.postData=e,t.holdsContent=!!e,i&&n.call(t),C.call(t)}function T(e){var t;for(this,t=0;t<6;t+=1)i(this,t,e[t])}function S(e,t,i){var n=this;n.isHighlighted&&(e+=window.hg.HighlightHoverJob.config.deltaHue,t+=window.hg.HighlightHoverJob.config.deltaSaturation,i+=window.hg.HighlightHoverJob.config.deltaLightness),n.originalColor.h=e,n.originalColor.s=t,n.originalColor.l=i,n.currentColor.h=e,n.currentColor.s=t,n.currentColor.l=i}function N(e){var t,i,n,o;t=this,e?t.isHighlighted?(i=t.originalColor.h,n=t.originalColor.s,o=t.originalColor.l):(i=t.originalColor.h+window.hg.HighlightHoverJob.config.deltaHue*window.hg.HighlightHoverJob.config.opacity,n=t.originalColor.s+window.hg.HighlightHoverJob.config.deltaSaturation*window.hg.HighlightHoverJob.config.opacity,o=t.originalColor.l+window.hg.HighlightHoverJob.config.deltaLightness*window.hg.HighlightHoverJob.config.opacity):t.isHighlighted?(i=t.originalColor.h-window.hg.HighlightHoverJob.config.deltaHue*window.hg.HighlightHoverJob.config.opacity,n=t.originalColor.s-window.hg.HighlightHoverJob.config.deltaSaturation*window.hg.HighlightHoverJob.config.opacity,o=t.originalColor.l-window.hg.HighlightHoverJob.config.deltaLightness*window.hg.HighlightHoverJob.config.opacity):(i=t.originalColor.h,n=t.originalColor.s,o=t.originalColor.l),t.originalColor.h=i,t.originalColor.s=n,t.originalColor.l=o,t.currentColor.h=i,t.currentColor.s=n,t.currentColor.l=o,t.isHighlighted=e}function D(e,t){var i,n,o,r,a,l,s,c,d,u,g,h,p;if(!(i=this).particle.isFixed){for(r=i.getNeighborStates(),a=i.getIsBorderTile(),i.particle.forceAccumulatorX+=-m.dragCoeff*i.particle.vx,i.particle.forceAccumulatorY+=-m.dragCoeff*i.particle.vy,n=0,o=r.length;n<o;n+=1)(l=r[n])&&(l.springForceX?(i.particle.forceAccumulatorX+=l.springForceX,i.particle.forceAccumulatorY+=l.springForceY,l.springForceX=0,l.springForceY=0):(s=l.tile.particle.px-i.particle.px,c=l.tile.particle.py-i.particle.py,d=s*(l.tile.particle.vx-i.particle.vx)+c*(l.tile.particle.vy-i.particle.vy),u=Math.sqrt(s*s+c*c),h=s*(g=(m.neighborSpringCoeff*(u-l.restLength)+m.neighborDampingCoeff*d/u)/u),p=c*g,i.particle.forceAccumulatorX+=h,i.particle.forceAccumulatorY+=p,l.neighborsRelationshipObj.springForceX=-h,l.neighborsRelationshipObj.springForceY=-p));s=i.currentAnchor.x-i.particle.px,c=i.currentAnchor.y-i.particle.py,0<(u=Math.sqrt(s*s+c*c))&&(d=s*-i.particle.vx+c*-i.particle.vy,h=s*(g=a?(m.borderAnchorSpringCoeff*u+m.borderAnchorDampingCoeff*d/u)/u:(m.innerAnchorSpringCoeff*u+m.innerAnchorDampingCoeff*d/u)/u),p=c*g,i.particle.forceAccumulatorX+=h,i.particle.forceAccumulatorY+=p),i.particle.fx=i.particle.forceAccumulatorX/i.particle.m*t,i.particle.fy=i.particle.forceAccumulatorY/i.particle.m*t,i.particle.px+=i.particle.vx*t,i.particle.py+=i.particle.vy*t,i.particle.vx+=i.particle.fx,i.particle.vy+=i.particle.fy,i.particle.fx=i.particle.fx<m.forceSuppressionLowerThreshold&&i.particle.fx>m.forceSuppressionThresholdNegative?0:i.particle.fx,i.particle.fy=i.particle.fy<m.forceSuppressionLowerThreshold&&i.particle.fy>m.forceSuppressionThresholdNegative?0:i.particle.fy,i.particle.vx=i.particle.vx<m.velocitySuppressionLowerThreshold&&i.particle.vx>m.velocitySuppressionThresholdNegative?0:i.particle.vx,i.particle.vy=i.particle.vy<m.velocitySuppressionLowerThreshold&&i.particle.vy>m.velocitySuppressionThresholdNegative?0:i.particle.vy,i.particle.forceAccumulatorX=0,i.particle.forceAccumulatorY=0,y.call(i,i.particle.px,i.particle.py)}}function A(){var e,t,i,n;for(e=this,t=0,i="";t<12;)i+=e.vertices[t++]+","+e.vertices[t++]+" ";e.polygonElement.setAttribute("points",i),e.holdsContent?e.tilePost&&e.tilePost.draw():(n="hsl("+e.currentColor.h+","+e.currentColor.s+"%,"+e.currentColor.l+"%)",e.polygonElement.setAttribute("fill",n))}function P(e,t){this.particle.forceAccumulatorX+=e,this.particle.forceAccumulatorY+=t}function R(e,t){this.particle.isFixed=!0,this.particle.px=e,this.particle.py=t}function L(){return this.grid.isPostOpen?this.expandedState.neighborStates:this.neighborStates}function J(){return this.grid.isPostOpen?this.expandedState.isBorderTile:this.isBorderTile}function I(e){this.grid.isPostOpen?this.expandedState.isBorderTile=e:this.isBorderTile=e}function E(e,t){var i,n,o,r,a;for(t?(o=m.verticalSines,r=m.verticalCosines):(o=m.horizontalSines,r=m.horizontalCosines),n=i=0,a=[];i<6;i+=1)a[n++]=e*r[i],a[n++]=e*o[i];return a}function i(e,t,i){var n,o,r;function a(e,t,i){e[t]=e[t]||{tile:i,restLength:window.hg.Grid.config.tileShortLengthWithGap,neighborsRelationshipObj:null,springForceX:0,springForceY:0}}n=e.getNeighborStates(),i?(a(n,t,i),a(o=i.getNeighborStates(),r=(t+3)%6,e),n[t].neighborsRelationshipObj=o[r],o[r].neighborsRelationshipObj=n[t]):n[t]=null}function O(){this.holdsContent&&n.call(this),this.svg.removeChild(this.element)}function M(){this.element.style.display="none",this.holdsContent&&(this.tilePost.elements.title.style.display="none")}function H(){this.element.style.display="block",this.holdsContent&&(this.tilePost.elements.title.style.display="block")}(m={dragCoeff:.01,neighborSpringCoeff:1e-5,neighborDampingCoeff:.001,innerAnchorSpringCoeff:4e-5,innerAnchorDampingCoeff:.001,borderAnchorSpringCoeff:4e-5,borderAnchorDampingCoeff:.001,forceSuppressionLowerThreshold:5e-4,velocitySuppressionLowerThreshold:5e-4,computeDependentValues:function(){m.forceSuppressionThresholdNegative=-m.forceSuppressionLowerThreshold,m.velocitySuppressionThresholdNegative=-m.velocitySuppressionLowerThreshold}}).computeDependentValues(),e.computeVertexDeltas=E,e.setTileNeighborState=i,e.initializeTileExpandedState=function(e,t,i,n){e.expandedState={sector:t,sectorMajorIndex:i,sectorMinorIndex:n,neighborStates:[],isBorderTile:!1}},e.config=m,window.hg=window.hg||{},window.hg.Tile=e,function(){var e,t,i,n,o;for(i=Math.PI/3,n=-i,o=Math.PI/6-2*i,m.horizontalSines=[],m.horizontalCosines=[],e=0,t=n;e<6;e+=1,t+=i)m.horizontalSines[e]=Math.sin(t),m.horizontalCosines[e]=Math.cos(t);for(m.verticalSines=[],m.verticalCosines=[],e=0,t=o;e<6;e+=1,t+=i)m.verticalSines[e]=Math.sin(t),m.verticalCosines[e]=Math.cos(t)}(),console.log("Tile module loaded")}(),function(){var m;function e(e){var t=this;t.tile=e,t.elements=null,t.draw=b,t.destroy=i,function(){var e,t,i,n,o=this,r="hg-pattern-"+o.tile.postData.id,a="hsl("+window.hg.TilePost.config.inactiveScreenHue+","+window.hg.TilePost.config.inactiveScreenSaturation+"%,"+window.hg.TilePost.config.inactiveScreenLightness+"%)",l=2*window.hg.Grid.config.tileOuterRadius,s=-m.fontSize*(1.5+.53*(o.tile.postData.titleShort.split("\n").length-1)),c=window.hg.Grid.config.tileOuterRadius/window.hg.Grid.config.tileInnerRadius,d=(1-c)/2;o.tile.grid.isVertical?(e=c,t=1,i=d,n="0"):(e=1,t=c,i="0",n=d);var u=document.createElementNS(window.hg.util.svgNamespace,"pattern"),g=document.createElementNS(window.hg.util.svgNamespace,"image"),h=document.createElementNS(window.hg.util.svgNamespace,"rect"),p=document.createElement("h2");o.tile.grid.svgDefs.appendChild(u),u.appendChild(g),u.appendChild(h),o.tile.grid.parent.appendChild(p),o.elements=[],o.elements.backgroundPattern=u,o.elements.backgroundImage=g,o.elements.backgroundImageScreen=h,o.elements.title=p,u.setAttribute("id",r),u.setAttribute("patternContentUnits","objectBoundingBox"),u.setAttribute("width","1"),u.setAttribute("height","1"),g.setAttributeNS(window.hg.util.xlinkNamespace,"xlink:href",o.tile.postData.thumbnailSrc),g.setAttribute("preserveAspectRatio","none"),g.setAttribute("x",i),g.setAttribute("y",n),g.setAttribute("width",e),g.setAttribute("height",t),h.setAttribute("width","1"),h.setAttribute("height","1"),h.setAttribute("fill",a),o.tile.element.setAttribute("fill","url(#"+r+")"),p.innerHTML=o.tile.postData.titleShort,p.setAttribute("data-hg-tile-title","data-hg-tile-title"),p.style.position="absolute",p.style.left=-l/2+"px",p.style.top=s+"px",p.style.width=l+"px",p.style.height=l+"px",p.style.fontSize=m.fontSize+"px",p.style.textAlign="center",p.style.whiteSpace="pre-wrap",p.style.pointerEvents="none",p.style.zIndex="1200",o.tile.imageScreenOpacity=m.inactiveScreenOpacity,b.call(o)}.call(t)}function b(){var e=this,t=e.tile.isHighlighted?window.hg.TilePost.config.activeScreenOpacity:e.tile.imageScreenOpacity,i=.5+2*(t-.5);i=1<i?1:i<0?0:i,window.hg.util.setTransform(e.elements.title,"translate("+e.tile.particle.px+"px,"+e.tile.particle.py+"px)"),e.elements.backgroundImageScreen.setAttribute("opacity",t),e.tile.grid.expandedTile!==e.tile&&(e.elements.title.style.opacity=i)}function i(){this.tile.grid.parent.removeChild(this.elements.title),this.tile.grid.svgDefs.removeChild(this.elements.backgroundPattern)}(m={activeScreenOpacity:0,inactiveScreenOpacity:.8,inactiveScreenHue:230,inactiveScreenSaturation:1,inactiveScreenLightness:4,fontSize:18,computeDependentValues:function(){}}).computeDependentValues(),e.config=m,window.hg=window.hg||{},window.hg.TilePost=e,console.log("TilePost module loaded")}(),function(){var e={};function i(e){this.startTime=e,this.isComplete=!1}function n(e,t){var i,n,o;for(n=0,o=(i=this).grid.allTiles.length;n<o;n+=1)i.grid.allTiles[n].currentColor.h=i.grid.allTiles[n].originalColor.h,i.grid.allTiles[n].currentColor.s=i.grid.allTiles[n].originalColor.s,i.grid.allTiles[n].currentColor.l=i.grid.allTiles[n].originalColor.l,i.grid.allTiles[n].imageScreenOpacity=window.hg.TilePost.config.inactiveScreenOpacity}function o(){}function r(){this.isComplete=!0}function a(){l.call(this)}function l(){}function t(e){var t=this;t.grid=e,t.startTime=0,t.isComplete=!0,t.start=i,t.update=n,t.draw=o,t.cancel=r,t.refresh=a,t.init=l,t.init(),console.log("ColorResetJob created")}e.computeDependentValues=function(){},e.computeDependentValues(),t.config=e,window.hg=window.hg||{},window.hg.ColorResetJob=t,console.log("ColorResetJob module loaded")}(),function(){var r={};function a(e,t,i){var n;e>i.timeEnd&&(s(e,n=i),n.hueDeltaStart=n.hueDeltaEnd,n.hueDeltaEnd=Math.random()*(r.hueDeltaMax-r.hueDeltaMin)+r.hueDeltaMin,n.saturationDeltaStart=n.saturationDeltaEnd,n.saturationDeltaEnd=Math.random()*(r.saturationDeltaMax-r.saturationDeltaMin)+r.saturationDeltaMin,n.lightnessDeltaStart=n.lightnessDeltaEnd,n.lightnessDeltaEnd=Math.random()*(r.lightnessDeltaMax-r.lightnessDeltaMin)+r.lightnessDeltaMin);var o=(e-i.timeStart)/(i.timeEnd-i.timeStart);t.currentColor.h+=o*(i.hueDeltaEnd-i.hueDeltaStart)+i.hueDeltaStart,t.currentColor.s+=o*(i.saturationDeltaEnd-i.saturationDeltaStart)+i.saturationDeltaStart,t.currentColor.l+=o*(i.lightnessDeltaEnd-i.lightnessDeltaStart)+i.lightnessDeltaStart}function l(e,t,i){var n;e>i.timeEnd&&(s(e,n=i),n.opacityDeltaStart=n.opacityDeltaEnd,n.opacityDeltaEnd=Math.random()*(r.imageBackgroundScreenOpacityDeltaMax-r.imageBackgroundScreenOpacityDeltaMin)+r.imageBackgroundScreenOpacityDeltaMin);var o=(e-i.timeStart)/(i.timeEnd-i.timeStart);t.imageScreenOpacity+=o*(i.opacityDeltaEnd-i.opacityDeltaStart)+i.opacityDeltaStart}function s(e,t){for(var i=e-t.timeEnd,n=o();n<=i;)i-=n,n=o();t.timeStart=e-i,t.timeEnd=t.timeStart+n}function o(){return Math.random()*(r.transitionDurationMax-r.transitionDurationMin)+r.transitionDurationMin}function i(e){var t,i,n;for((t=this).startTime=e,t.isComplete=!1,i=0,n=t.shiftStatusesNonContentTiles.length;i<n;i+=1)t.shiftStatusesNonContentTiles[i].timeStart=e,t.shiftStatusesNonContentTiles[i].timeEnd=e;for(i=0,n=t.shiftStatusesContentTiles.length;i<n;i+=1)t.shiftStatusesContentTiles[i].timeStart=e,t.shiftStatusesContentTiles[i].timeEnd=e}function n(e,t){var i,n,o;for(n=0,o=(i=this).grid.allNonContentTiles.length;n<o;n+=1)a(e,i.grid.allNonContentTiles[n],i.shiftStatusesNonContentTiles[n]);for(n=0,o=i.grid.contentTiles.length;n<o;n+=1)l(e,i.grid.contentTiles[n],i.shiftStatusesContentTiles[n])}function c(){}function d(){this.isComplete=!0}function u(){g.call(this)}function g(){r.computeDependentValues(),function(){var e,t,i;for((e=this).shiftStatusesNonContentTiles=[],e.shiftStatusesContentTiles=[],t=0,i=e.grid.allNonContentTiles.length;t<i;t+=1)e.shiftStatusesNonContentTiles[t]={timeStart:0,timeEnd:0,hueDeltaStart:0,hueDeltaEnd:0,saturationDeltaStart:0,saturationDeltaEnd:0,lightnessDeltaStart:0,lightnessDeltaEnd:0};for(t=0,i=e.grid.contentTiles.length;t<i;t+=1)e.shiftStatusesContentTiles[t]={timeStart:0,timeEnd:0,opacityDeltaStart:0,opacityDeltaEnd:0}}.call(this)}function e(e){var t=this;t.grid=e,t.shiftStatusesNonContentTiles=null,t.shiftStatusesContentTiles=null,t.startTime=0,t.isComplete=!0,t.start=i,t.update=n,t.draw=c,t.cancel=d,t.refresh=u,t.init=g,t.init(),console.log("ColorShiftJob created")}r.hueDeltaMin=-20,r.hueDeltaMax=20,r.saturationDeltaMin=0,r.saturationDeltaMax=0,r.lightnessDeltaMin=0,r.lightnessDeltaMax=0,r.imageBackgroundScreenOpacityDeltaMin=-.05,r.imageBackgroundScreenOpacityDeltaMax=.05,r.transitionDurationMin=200,r.transitionDurationMax=2e3,r.computeDependentValues=function(){},r.computeDependentValues(),e.config=r,window.hg=window.hg||{},window.hg.ColorShiftJob=e,console.log("ColorShiftJob module loaded")}(),function(){var p={};function i(e){this.startTime=e,this.isComplete=!1}function n(e,t){var i,n,o,r,a,l,s,c,d,u,g,h;for(i=this,n=(e+p.halfPeriod)/p.period%2-1,o=0,r=i.grid.allNonContentTiles.length;o<r;o+=1)a=n,l=i.grid.allNonContentTiles[o],s=i.waveProgressOffsetsNonContentTiles[o],void 0,c=Math.sin((((a+1+s)%2+2)%2-1)*Math.PI),l.currentColor.h+=p.deltaHue*c*p.opacity,l.currentColor.s+=p.deltaSaturation*c*p.opacity,l.currentColor.l+=p.deltaLightness*c*p.opacity;for(o=0,r=i.grid.contentTiles.length;o<r;o+=1)d=n,u=i.grid.contentTiles[o],g=i.waveProgressOffsetsContentTiles[o],void 0,h=.5*Math.sin((((d+1+g)%2+2)%2-1)*Math.PI)+.5,u.imageScreenOpacity+=-h*p.opacity*p.deltaOpacityImageBackgroundScreen}function o(){}function r(){this.isComplete=!0}function a(){l.call(this)}function l(){p.computeDependentValues(),function(){var e,t,i,n,o,r,a,l;for(e=this,l=p.wavelength/2,e.waveProgressOffsetsNonContentTiles=[],e.waveProgressOffsetsContentTiles=[],t=0,i=e.grid.allNonContentTiles.length;t<i;t+=1)r=(n=e.grid.allNonContentTiles[t]).originalAnchor.x-p.originX,a=n.originalAnchor.y-p.originY,o=Math.sqrt(r*r+a*a)+p.wavelength,e.waveProgressOffsetsNonContentTiles[t]=-(o%p.wavelength-l)/l;for(t=0,i=e.grid.contentTiles.length;t<i;t+=1)r=(n=e.grid.contentTiles[t]).originalAnchor.x-p.originX,a=n.originalAnchor.y-p.originY,o=Math.sqrt(r*r+a*a)+p.wavelength,e.waveProgressOffsetsContentTiles[t]=-(o%p.wavelength-l)/l}.call(this)}function e(e){var t=this;t.grid=e,t.waveProgressOffsetsNonContentTiles=null,t.waveProgressOffsetsContentTiles=null,t.startTime=0,t.isComplete=!0,t.start=i,t.update=n,t.draw=o,t.cancel=r,t.refresh=a,t.init=l,t.init(),console.log("ColorWaveJob created")}p.period=1e3,p.wavelength=600,p.originX=-100,p.originY=1400,p.deltaHue=0,p.deltaSaturation=0,p.deltaLightness=5,p.deltaOpacityImageBackgroundScreen=.18,p.opacity=.5,p.computeDependentValues=function(){p.halfPeriod=p.period/2},p.computeDependentValues(),e.config=p,window.hg=window.hg||{},window.hg.ColorWaveJob=e,console.log("ColorWaveJob module loaded")}(),function(){var e={};function i(e){this.startTime=e,this.isComplete=!1}function n(e,t){var i,n,o;for(n=0,o=(i=this).grid.allTiles.length;n<o;n+=1)i.grid.allTiles[n].currentAnchor.x=i.grid.allTiles[n].originalAnchor.x,i.grid.allTiles[n].currentAnchor.y=i.grid.allTiles[n].originalAnchor.y;i.grid.isPostOpen&&(i.grid.pagePost.carousel.currentIndexPositionRatio=i.grid.pagePost.carousel.currentIndex)}function o(){}function r(){this.isComplete=!0}function a(){l.call(this)}function l(){}function t(e){var t=this;t.grid=e,t.startTime=0,t.isComplete=!0,t.start=i,t.update=n,t.draw=o,t.cancel=r,t.refresh=a,t.init=l,t.init(),console.log("DisplacementResetJob created")}e.computeDependentValues=function(){},e.computeDependentValues(),t.config=e,window.hg=window.hg||{},window.hg.DisplacementResetJob=t,console.log("DisplacementResetJob module loaded")}(),function(){var c={};function i(e){this.startTime=e,this.isComplete=!1}function n(e,t){var i,n,o,r,a,l,s;for(this,i=(e+c.halfPeriod)/c.period%2-1,n=0,o=this.grid.allTiles.length;n<o;n+=1)r=i,a=this.grid.allTiles[n],l=this.waveProgressOffsets[n],void 0,s=Math.sin((((r+1+l)%2+2)%2-1)*Math.PI),a.currentAnchor.x+=c.tileDeltaX*s,a.currentAnchor.y+=c.tileDeltaY*s}function o(){}function r(){this.isComplete=!0}function a(){l.call(this)}function l(){c.computeDependentValues(),function(){var e,t,i,n,o,r,a;for(a=c.wavelength/2,this.waveProgressOffsets=[],e=0,t=this.grid.allTiles.length;e<t;e+=1)o=(i=this.grid.allTiles[e]).originalAnchor.x-c.originX,r=i.originalAnchor.y-c.originY,n=Math.sqrt(o*o+r*r)+c.wavelength,this.waveProgressOffsets[e]=-(n%c.wavelength-a)/a}.call(this)}function e(e){var t=this;t.grid=e,t.waveProgressOffsets=null,t.startTime=0,t.isComplete=!0,t.start=i,t.update=n,t.draw=o,t.cancel=r,t.refresh=a,t.init=l,t.init(),console.log("DisplacementWaveJob created")}c.period=3200,c.wavelength=1800,c.originX=0,c.originY=0,c.tileDeltaX=-15,c.tileDeltaY=-c.tileDeltaX*Math.sqrt(3),c.computeDependentValues=function(){c.halfPeriod=c.period/2,c.displacementAmplitude=Math.sqrt(c.tileDeltaX*c.tileDeltaX+c.tileDeltaY*c.tileDeltaY)},c.computeDependentValues(),e.config=c,window.hg=window.hg||{},window.hg.DisplacementWaveJob=e,console.log("DisplacementWaveJob module loaded")}(),function(){var r={};function o(e){console.log("CarouselImageSlideJob "+(e?"cancelled":"completed")),this.isComplete=!0,this.onComplete(),this.carousel.onSlideFinished()}function a(e){var t=this;t.startTime=e,t.isComplete=!1,t.indexInitialDisplacement=t.carousel.previousIndex-t.carousel.currentIndex}function l(e,t){var i,n;n=(e-(i=this).startTime)/i.duration,n=(n=1-window.hg.util.easingFunctions.easeInOutCubic(n))<0?0:n,i.carousel.currentIndexPositionRatio+=i.indexInitialDisplacement*n,0===n&&o.call(i,!1)}function s(){}function c(){o.call(this,!0)}function d(){r.computeDependentValues()}function e(e,t,i,n){var o=this;o.grid=e,o.baseTile=e.expandedTile,o.startTime=0,o.isComplete=!0,o.carousel=n,o.indexInitialDisplacement=Number.NaN,o.duration=r.duration,o.start=a,o.update=l,o.draw=s,o.cancel=c,o.onComplete=i,o.init=d,console.log("CarouselImageSlideJob created: currentIndex="+o.carousel.currentIndex+", previousIndex="+o.carousel.previousIndex)}r.duration=300,r.computeDependentValues=function(){},r.computeDependentValues(),e.config=r,window.hg=window.hg||{},window.hg.CarouselImageSlideJob=e,console.log("CarouselImageSlideJob module loaded")}(),function(){var n={};function i(e){var t=this;console.log("ClosePostJob "+(e?"cancelled":"completed")),function(){var e,t,i,n;for(n=(e=this).grid.lastExpansionJob===e,t=0,i=e.sectors.length;t<i;t+=1)e.sectors[t].destroy(n);e.sectors=[]}.call(t),t.grid.lastExpansionJob===t&&(t.baseTile.expandedState=null,t.grid.sectors=[],t.grid.updateAllTilesCollection(t.grid.originalTiles),t.grid.isTransitioning=!1,t.grid.expandedTile=null,window.hg.controller.resetPersistentJobs(t.grid)),t.isComplete=!0,t.onComplete()}function r(e){var t,i=this;i.startTime=e,i.isComplete=!1,i.grid.isPostOpen=!1,i.grid.isTransitioning=!0,t={x:(i.grid.lastExpansionJob=i).grid.originalCenter.x-i.grid.panCenter.x,y:i.grid.originalCenter.y-i.grid.panCenter.y},window.hg.controller.transientJobs.SpreadJob.create(i.grid,i.baseTile).duration=n.duration+window.hg.OpenPostJob.config.spreadDurationOffset,window.hg.controller.transientJobs.PanJob.create(i.grid,i.baseTile,{x:i.grid.panCenter.x,y:i.grid.panCenter.y}).duration=n.duration+window.hg.OpenPostJob.config.panDurationOffset,window.hg.controller.transientJobs.DilateSectorsJob.create(i.grid,i.baseTile,t).duration=n.duration+window.hg.OpenPostJob.config.dilateSectorsDurationOffset,window.hg.controller.transientJobs.FadePostJob.create(i.grid,i.baseTile).duration=n.duration+window.hg.OpenPostJob.config.fadePostDurationOffset,i.grid.annotations.setExpandedAnnotations(!1),i.grid.parent.style.overflowY="auto"}function a(e,t){e-this.startTime>=n.duration&&i.call(this,!1)}function l(){}function s(){i.call(this,!0)}function c(){n.computeDependentValues()}function e(e,t,i,n){var o=this;o.grid=e,o.baseTile=e.expandedTile,o.startTime=0,o.isComplete=!0,o.sectors=e.sectors,o.start=r,o.update=a,o.draw=l,o.cancel=s,o.onComplete=i,o.init=c,n||history.pushState({},document.title,"/"),console.log("ClosePostJob created: tileIndex="+o.baseTile.originalIndex)}n.duration=500,n.computeDependentValues=function(){},n.computeDependentValues(),e.config=n,window.hg=window.hg||{},window.hg.ClosePostJob=e,console.log("ClosePostJob module loaded")}(),function(){var r={};function l(e){console.log("DilateSectorsJob "+(e?"cancelled":"completed")),this.isComplete=!0,this.onComplete()}function a(e){this.startTime=e,this.isComplete=!1,function(){var e,t=this;for(e=0;e<6;e+=1)t.sectors[e].originalAnchor.x+=t.panDisplacement.x,t.sectors[e].originalAnchor.y+=t.panDisplacement.y,t.sectors[e].setOriginalPositionForExpansion(t.isExpanding)}.call(this)}function s(e,t){var i,n,o,r,a;for(n=(e-(i=this).startTime)/i.duration,n=(n=1-window.hg.util.easingFunctions.easeOutQuint(n))<0?0:i.isExpanding?n:-n,o=0;o<6;o+=1)r=i.sectors[o].expandedDisplacement.x*n,a=i.sectors[o].expandedDisplacement.y*n,i.sectors[o].updateCurrentPosition(r,a);0===n&&l.call(i,!1)}function c(){}function d(){l.call(this,!0)}function u(){r.computeDependentValues()}function e(e,t,i,n){var o=this;o.grid=e,o.baseTile=e.expandedTile,o.startTime=0,o.isComplete=!0,o.panDisplacement=n,o.sectors=e.sectors,o.parentExpansionJob=o.grid.lastExpansionJob,o.isExpanding=e.isPostOpen,o.duration=r.duration,o.start=a,o.update=s,o.draw=c,o.cancel=d,o.onComplete=i,o.init=u,console.log("DilateSectorsJob created: tileIndex="+o.baseTile.originalIndex)}r.duration=500,r.computeDependentValues=function(){},r.computeDependentValues(),e.config=r,window.hg=window.hg||{},window.hg.DilateSectorsJob=e,console.log("DilateSectorsJob module loaded")}(),function(){var e={};function o(e){this.startTime=e,this.isComplete=!1}function r(e,t){}function a(){}function l(){(function(e){console.log("DisplacementRadiateJob "+(e?"cancelled":"completed")),this.isComplete=!0,this.onComplete()}).call(this,!0)}function s(){e.computeDependentValues()}function t(e,t,i){var n=this;n.grid=e,n.tile=t,n.startTime=0,n.isComplete=!0,n.displacements=null,n.start=o,n.update=r,n.draw=a,n.cancel=l,n.onComplete=i,n.init=s,function(){}.call(n),console.log("DisplacementRadiateJob created: tileIndex="+n.tile.originalIndex)}e.duration=500,e.waveSpeed=3,e.waveWidth=500,e.displacementDistance=50,e.isRecurring=!1,e.avgDelay=4e3,e.delayDeviationRange=3800,e.computeDependentValues=function(){},e.computeDependentValues(),t.config=e,window.hg=window.hg||{},window.hg.DisplacementRadiateJob=t,console.log("DisplacementRadiateJob module loaded")}(),function(){var l={};function s(e){var t=this;console.log("FadePostJob "+(e?"cancelled":"completed")),t.isComplete=!0,t.onComplete(),t.isFadingIn?t.parentExpansionJob===t.grid.lastExpansionJob&&t.baseTile.hide():(t.parentExpansionJob===t.grid.lastExpansionJob?t.grid.destroyPagePost():(t.pagePost.destroy(),t.baseTile.currentVertexDeltas=t.baseTile.originalVertexDeltas.slice(0)),t.baseTile.show()),t.baseTile.element.style.pointerEvents="auto"}function c(e,t,i,n){var o,r;for(o=0,r=e.length;o<r;o+=1)e[o]=t[o]+(i[o]-t[o])*n}function o(e){var t,i=this;i.startTime=e,i.isComplete=!1,i.pagePostStartPosition={},i.pagePostDisplacement={},i.baseTile.show(),i.isFadingIn?(i.pagePostStartPosition.x=i.baseTile.particle.px,i.pagePostStartPosition.y=i.baseTile.particle.py,i.pagePostDisplacement.x=i.grid.originalCenter.x-i.pagePostStartPosition.x,i.pagePostDisplacement.y=i.grid.originalCenter.y-i.pagePostStartPosition.y+i.grid.scrollTop,i.pagePost=i.grid.createPagePost(i.baseTile,i.pagePostStartPosition),t=window.hg.OpenPostJob.config.expandedDisplacementTileCount*window.hg.Grid.config.tileShortLengthWithGap,i.baseTile.expandedVertexDeltas=window.hg.Tile.computeVertexDeltas(t,i.grid.isVertical)):(i.pagePostStartPosition.x=i.grid.originalCenter.x,i.pagePostStartPosition.y=i.grid.originalCenter.y+i.grid.scrollTop,i.pagePostDisplacement.x=i.pagePostStartPosition.x-i.grid.currentCenter.x,i.pagePostDisplacement.y=i.pagePostStartPosition.y-i.grid.currentCenter.y-i.grid.scrollTop),i.baseTile.element.style.pointerEvents="none"}function r(e,t){var i,n,o,r,a;o=n=(e-(i=this).startTime)/i.duration,r=1<(r=(n=1<(n=window.hg.util.easingFunctions.easeOutCubic(n))?1:n)/l.quick1FadeDurationRatio)?1:r,a=1<(a=n/l.quick2FadeDurationRatio)?1:a,i.baseTile.element.style.opacity=1-r,i.baseTile.tilePost.elements.title.style.opacity=1-a,i.pagePost.opacity=o,i.pagePost.center.x=i.pagePostStartPosition.x+i.pagePostDisplacement.x*n,i.pagePost.center.y=i.pagePostStartPosition.y+i.pagePostDisplacement.y*n,c(i.baseTile.currentVertexDeltas,i.baseTile.originalVertexDeltas,i.baseTile.expandedVertexDeltas,r),1===n&&s.call(i,!1)}function a(e,t){var i,n,o;n=(e-(i=this).startTime)/i.duration,o=1<(o=(n=1<(n=window.hg.util.easingFunctions.easeOutQuint(n))?1:n)/l.quick1FadeDurationRatio)?1:o,i.baseTile.element.style.opacity=n,i.baseTile.tilePost.elements.title.style.opacity=n,i.pagePost.opacity=1-o,i.pagePost.center.x=i.pagePostStartPosition.x+i.pagePostDisplacement.x*n,i.pagePost.center.y=i.pagePostStartPosition.y+i.pagePostDisplacement.y*n,c(i.baseTile.currentVertexDeltas,i.baseTile.expandedVertexDeltas,i.baseTile.originalVertexDeltas,o),1===n&&s.call(i,!1)}function d(){this.pagePost.draw()}function u(){s.call(this,!0)}function g(){l.computeDependentValues()}function e(e,t,i){var n=this;n.grid=e,n.baseTile=e.expandedTile,n.startTime=0,n.isComplete=!0,n.pagePost=e.pagePost,n.parentExpansionJob=n.grid.lastExpansionJob,n.isFadingIn=e.isPostOpen,n.pagePostStartPosition=null,n.pagePostDisplacement=null,n.duration=l.duration,n.start=o,n.update=n.isFadingIn?r:a,n.draw=d,n.cancel=u,n.onComplete=i,n.init=g,console.log("FadePostJob created: tileIndex="+n.baseTile.originalIndex+", isFadingIn="+n.isFadingIn)}l.duration=500,l.quick1FadeDurationRatio=.7,l.quick2FadeDurationRatio=.3,l.computeDependentValues=function(){},l.computeDependentValues(),e.config=l,window.hg=window.hg||{},window.hg.FadePostJob=e,console.log("FadePostJob module loaded")}(),function(){var o={};function r(e){this.isComplete=!0,this.onComplete()}function a(e,t){var i=window.hg.TilePost.config.activeScreenOpacity+t*(window.hg.TilePost.config.inactiveScreenOpacity-window.hg.TilePost.config.activeScreenOpacity);e.imageScreenOpacity=i}function l(e,t){var i=o.opacity*(1-t);e.currentColor.h+=o.deltaHue*i,e.currentColor.s+=o.deltaSaturation*i,e.currentColor.l+=o.deltaLightness*i}function s(e){this.startTime=e,this.isComplete=!1}function c(e,t){var i,n;(i=this).tile.isHighlighted?i.cancel():e>i.startTime+o.duration?(i.updateTile(i.tile,1),r.call(i,!1)):(n=(e-i.startTime)/o.duration,i.updateTile(i.tile,n))}function d(){}function u(){r.call(this,!0)}function g(){}function e(e,t,i){var n=this;n.grid=e,n.tile=t,n.startTime=0,n.isComplete=!0,n.updateTile=t.holdsContent?a:l,n.start=s,n.update=c,n.draw=d,n.cancel=u,n.onComplete=i,n.init=g}o.duration=200,o.deltaHue=0,o.deltaSaturation=0,o.deltaLightness=50,o.opacity=.5,o.isRecurring=!1,o.avgDelay=30,o.delayDeviationRange=20,o.computeDependentValues=function(){},o.computeDependentValues(),e.config=o,window.hg=window.hg||{},window.hg.HighlightHoverJob=e,console.log("HighlightHoverJob module loaded")}(),function(){var f={};function w(e){console.log("HighlightRadiateJob "+(e?"cancelled":"completed")),this.isComplete=!0,this.onComplete()}function o(e){this.startTime=e,this.isComplete=!1}function r(e,t){var i,n,o,r,a,l,s,c,d,u,g,h,p,m,b;if(e>(i=this).startTime+f.duration)w.call(i,!1);else{for(c=1-(e-i.startTime)/f.duration,o=(n=f.shimmerSpeed*(e-i.startTime))-f.shimmerWaveWidth,d=!1,r=0,a=i.grid.allNonContentTiles.length;r<a;r+=1)o<(l=i.distancesNonContentTiles[r])&&l<n&&(s=(l-o)/f.shimmerWaveWidth,p=i.grid.allNonContentTiles[r],m=c,void 0,b=s*f.opacity*m,p.currentColor.h+=f.deltaHue*b,p.currentColor.s+=f.deltaSaturation*b,p.currentColor.l+=f.deltaLightness*b,d=!0);for(r=0,a=i.grid.contentTiles.length;r<a;r+=1)o<(l=i.distancesContentTiles[r])&&l<n&&(s=(l-o)/f.shimmerWaveWidth,u=i.grid.contentTiles[r],g=s,h=c,u.imageScreenOpacity+=-g*f.opacity*h*(window.hg.TilePost.config.inactiveScreenOpacity-window.hg.TilePost.config.activeScreenOpacity),d=!0);d||w.call(i,!1)}}function a(){}function l(){w.call(this,!0)}function s(){}function e(e,t,i){var n=this;n.grid=e,n.startPoint={x:t.originalAnchor.x,y:t.originalAnchor.y},n.distancesNonContentTiles=[],n.distancesContentTiles=[],n.startTime=0,n.isComplete=!0,n.onComplete=i||function(){},n.start=o,n.update=r,n.draw=a,n.cancel=l,n.init=s,function(){var e,t,i,n,o,r;for(e=this,r=-window.hg.Grid.config.tileShortLengthWithGap,t=0,i=e.grid.allNonContentTiles.length;t<i;t+=1)n=e.grid.allNonContentTiles[t].originalAnchor.x-e.startPoint.x,o=e.grid.allNonContentTiles[t].originalAnchor.y-e.startPoint.y,e.distancesNonContentTiles[t]=Math.sqrt(n*n+o*o)+r;for(t=0,i=e.grid.contentTiles.length;t<i;t+=1)n=e.grid.contentTiles[t].originalAnchor.x-e.startPoint.x,o=e.grid.contentTiles[t].originalAnchor.y-e.startPoint.y,e.distancesContentTiles[t]=Math.sqrt(n*n+o*o)+r}.call(n),console.log("HighlightRadiateJob created: tileIndex="+(t&&t.originalIndex))}f.shimmerSpeed=3,f.shimmerWaveWidth=500,f.duration=500,f.deltaHue=0,f.deltaSaturation=0,f.deltaLightness=50,f.opacity=.5,f.isRecurring=!1,f.avgDelay=4e3,f.delayDeviationRange=3800,f.computeDependentValues=function(){},f.computeDependentValues(),e.config=f,window.hg=window.hg||{},window.hg.HighlightRadiateJob=e,console.log("HighlightRadiateJob module loaded")}(),function(){var e={};function o(e){this.startTime=e,this.isComplete=!1}function r(e,t){}function a(){}function l(){(function(e){console.log("IntraTileRadiateJob "+(e?"cancelled":"completed")),this.isComplete=!0,this.onComplete()}).call(this,!0)}function s(){e.computeDependentValues()}function t(e,t,i){var n=this;n.grid=e,n.tile=t,n.startTime=0,n.isComplete=!0,n.start=o,n.update=r,n.draw=a,n.cancel=l,n.onComplete=i,n.init=s,console.log("IntraTileRadiateJob created: tileIndex="+n.tile.originalIndex)}e.duration=500,e.isRecurring=!1,e.avgDelay=4e3,e.delayDeviationRange=3800,e.computeDependentValues=function(){},e.computeDependentValues(),t.config=e,window.hg=window.hg||{},window.hg.IntraTileRadiateJob=t,console.log("IntraTileRadiateJob module loaded")}(),function(){var d={};function n(){var e,t,i;i=1-(t=(e=this).ellapsedTime/e.duration),e.currentColor.h=i*e.startHue+t*e.endHue,e.currentColor.s=i*e.startSaturation+t*e.endSaturation,e.currentColor.l=i*e.startLightness+t*e.endLightness,e.currentOpacity=i*e.startOpacity+t*e.endOpacity}function a(){var e;e=this,console.log("LineJob completed"),e.polyline&&(e.grid.svg.removeChild(e.polyline),e.polyline=null),e.tiles=[],e.corners=[],e.direction=Number.NaN,e.currentCornerIndex=Number.NaN,e.hasReachedEdge=!0,e.isComplete=!0,e.onComplete(e)}function u(){var e,t,i,n;n=(e=this).corners[e.currentCornerIndex],e.grid.isVertical?(t=(n+5)%6,i=n):i=((t=n)+1)%6,e.lowerNeighbors[e.currentCornerIndex]=e.tiles[e.currentCornerIndex].neighborStates[t],e.upperNeighbors[e.currentCornerIndex]=e.tiles[e.currentCornerIndex].neighborStates[i],e.lowerNeighborCorners[e.currentCornerIndex]=(n+2)%6,e.upperNeighborCorners[e.currentCornerIndex]=(n+4)%6}function l(){var e,t,i,n,o,r,a,l,s,c;if(c=(e=this).corners[e.currentCornerIndex],0===e.currentCornerIndex)r=e.forcedInitialRelativeDirection,e.latestDirection=g(r,c);else{switch(t=(c-e.direction+6)%6){case 0:i=e.sameDirectionProb,n=d.distantSidewaysDirectionProb,d.distantSidewaysDirectionProb;break;case 1:i=d.closeSidewaysDirectionProb,n=d.closeSidewaysDirectionProb,d.oppositeDirectionProb;break;case 2:i=d.distantSidewaysDirectionProb,n=e.sameDirectionProb,d.distantSidewaysDirectionProb;break;case 3:i=d.oppositeDirectionProb,n=d.closeSidewaysDirectionProb,d.closeSidewaysDirectionProb;break;case 4:i=d.distantSidewaysDirectionProb,n=d.distantSidewaysDirectionProb,e.sameDirectionProb;break;case 5:i=d.closeSidewaysDirectionProb,n=d.oppositeDirectionProb,d.closeSidewaysDirectionProb;break;default:throw new Error("Invalid state: cornerConfig="+t)}for(;(a=g(r=(o=Math.random())<i?d.NEIGHBOR:o<i+n?d.LOWER_SELF:d.UPPER_SELF,c))===(e.latestDirection+3)%6;);e.latestDirection=a}switch(r){case d.NEIGHBOR:e.grid.isVertical?(l=(c+1)%6,s=e.tiles[e.currentCornerIndex].neighborStates[(c+5)%6].tile):(l=(c+1)%6,s=e.tiles[e.currentCornerIndex].neighborStates[c].tile);break;case d.LOWER_SELF:l=(c+5)%6,s=e.tiles[e.currentCornerIndex];break;case d.UPPER_SELF:l=(c+1)%6,s=e.tiles[e.currentCornerIndex];break;default:throw new Error("Invalid state: relativeDirection="+r)}e.currentCornerIndex=e.corners.length,e.corners[e.currentCornerIndex]=l,e.tiles[e.currentCornerIndex]=s,u.call(e),function(){var e;(e=this).direction===(e.corners[e.currentCornerIndex]+3)%6?e.hasAlmostReachedEdge=!1:e.hasAlmostReachedEdge=!e.lowerNeighbors[e.currentCornerIndex]||!e.upperNeighbors[e.currentCornerIndex]}.call(e)}function g(e,t){switch(e){case d.NEIGHBOR:return t;case d.LOWER_SELF:return(t+4)%6;case d.UPPER_SELF:return(t+2)%6;default:throw new Error("Invalid state: relativeDirection="+e)}}function o(){var e,t,i,n,o,r;for(t=(e=this).ellapsedTime/e.lineSidePeriod*window.hg.Grid.config.tileOuterRadius,o=parseInt(e.ellapsedTime/e.lineSidePeriod)+1;o>=e.corners.length&&!e.hasAlmostReachedEdge;)l.call(e);i=t%window.hg.Grid.config.tileOuterRadius,n=(e.lineLength-i+window.hg.Grid.config.tileOuterRadius)%window.hg.Grid.config.tileOuterRadius,e.frontSegmentEndRatio=i/window.hg.Grid.config.tileOuterRadius,e.backSegmentStartRatio=1-n/window.hg.Grid.config.tileOuterRadius,e.isShort=e.lineLength<window.hg.Grid.config.tileOuterRadius,e.isStarting=t<e.lineLength,e.hasAlmostReachedEdge&&o>=e.corners.length&&(e.hasReachedEdge=!0),e.segmentsIncludedCount=parseInt((e.lineLength-i-n-d.epsilon)/window.hg.Grid.config.tileOuterRadius)+2,e.isShort?e.isStarting||e.hasReachedEdge?e.segmentsIncludedCount=1:0<=i-e.lineLength?e.segmentsIncludedCount=1:e.segmentsIncludedCount=2:(e.isStarting&&(e.segmentsIncludedCount=o),e.hasReachedEdge&&(r=o-e.corners.length+1,t-(e.corners.length-1)*window.hg.Grid.config.tileOuterRadius>e.lineLength&&a.call(e),e.segmentsIncludedCount-=r))}function r(){var e,t,i;for((e=this).gapPoints=[],t=0,i=e.corners.length;t<i;t+=1)e.gapPoints[t]=s(e.tiles[t],e.corners[t],e.lowerNeighbors[t],e.upperNeighbors[t],e.lowerNeighborCorners[t],e.upperNeighborCorners[t])}function s(e,t,i,n,o,r){var a,l,s;return i?n?(a=3,l=e.particle.px+i.tile.particle.px+n.tile.particle.px,s=e.particle.py+i.tile.particle.py+n.tile.particle.py):(a=2,l=e.vertices[2*t]+i.tile.vertices[2*o],s=e.vertices[2*t+1]+i.tile.vertices[2*o+1]):n?(a=2,l=e.vertices[2*t]+n.tile.vertices[2*r],s=e.vertices[2*t+1]+n.tile.vertices[2*r+1]):(a=1,l=e.vertices[2*t],s=e.vertices[2*t+1]),{x:l/a,y:s/a}}function c(){var e,t,i,n;for((e=this).polylinePoints=[],t=e.currentCornerIndex,e.extraStartPoint&&e.isStarting?(e.polylinePoints[0]=e.extraStartPoint,i=e.segmentsIncludedCount+1,n=1):(i=e.segmentsIncludedCount,n=0),e.hasReachedEdge?e.polylinePoints[i]={x:e.gapPoints[t].x,y:e.gapPoints[t].y}:e.polylinePoints[i]={x:e.gapPoints[t].x*e.frontSegmentEndRatio+e.gapPoints[t-1].x*(1-e.frontSegmentEndRatio),y:e.gapPoints[t].y*e.frontSegmentEndRatio+e.gapPoints[t-1].y*(1-e.frontSegmentEndRatio)},i-=1,t-=1;n<i;i-=1,t-=1)e.polylinePoints[i]=e.gapPoints[t];e.isStarting?e.polylinePoints[i]={x:e.gapPoints[t].x,y:e.gapPoints[t].y}:e.polylinePoints[i]={x:e.gapPoints[t+1].x*e.backSegmentStartRatio+e.gapPoints[t].x*(1-e.backSegmentStartRatio),y:e.gapPoints[t+1].y*e.backSegmentStartRatio+e.gapPoints[t].y*(1-e.backSegmentStartRatio)}}function h(e){this.startTime=e,this.isComplete=!1}function p(e,t){var i=this;i.ellapsedTime=e-i.startTime,i.ellapsedTime>=i.duration?a.call(i):(n.call(i),o.call(i),d.feGaussianBlur.setAttribute("stdDeviation",i.blurStdDeviation),i.isComplete||(r.call(i),c.call(i)))}function m(e,t){var i=this;i.ellapsedTime=e-i.startTime,i.ellapsedTime>=i.duration?a.call(i):(n.call(i),o.call(i),i.isComplete||(r.call(i),c.call(i)))}function b(){(function(){var e,t,i,n;for(n="",t=0,i=(e=this).polylinePoints.length;t<i;t+=1)n+=e.polylinePoints[t].x+","+e.polylinePoints[t].y+" ";e.polyline.setAttribute("points",n),e.polyline.setAttribute("stroke","hsl("+e.currentColor.h+","+e.currentColor.s+"%,"+e.currentColor.l+"%)"),e.polyline.setAttribute("stroke-opacity",e.currentOpacity),e.polyline.setAttribute("stroke-width",e.lineWidth)}).call(this)}function f(){a.call(this)}function w(){d.computeDependentValues()}function v(e,t,i,n,o,r,a){var l=this;if(l.grid=e,l.tiles=[t],l.corners=[i],l.lowerNeighbors=[],l.upperNeighbors=[],l.lowerNeighborCorners=[],l.upperNeighborCorners=[],l.direction=n,l.forcedInitialRelativeDirection=o,l.extraStartPoint=a,l.currentCornerIndex=0,l.frontSegmentEndRatio=Number.NaN,l.backSegmentStartRatio=Number.NaN,l.latestDirection=n,l.polyline=null,l.gapPoints=[],l.polylinePoints=null,l.hasReachedEdge=!1,l.startTime=0,l.ellapsedTime=0,l.isComplete=!0,l.startHue=Number.NaN,l.endHue=Number.NaN,l.currentColor={h:Number.NaN,s:d.startSaturation,l:d.startLightness},l.currentOpacity=d.startOpacity,l.duration=d.duration,l.lineWidth=d.lineWidth,l.lineLength=d.lineLength,l.lineSidePeriod=d.lineSidePeriod,l.startSaturation=d.startSaturation,l.startLightness=d.startLightness,l.startOpacity=d.startOpacity,l.endSaturation=d.endSaturation,l.endLightness=d.endLightness,l.endOpacity=d.endOpacity,l.sameDirectionProb=d.sameDirectionProb,l.blurStdDeviation=d.blurStdDeviation,l.isBlurOn=d.isBlurOn,l.onComplete=r||function(){},l.start=h,l.update=l.isBlurOn?p:m,l.draw=b,l.cancel=f,l.init=w,d.haveDefinedLineBlur||(d.haveDefinedLineBlur=!0,function(){var e,t;e=document.createElementNS(window.hg.util.svgNamespace,"filter"),this.grid.svgDefs.appendChild(e),t=document.createElementNS(window.hg.util.svgNamespace,"feGaussianBlur"),e.appendChild(t),e.setAttribute("id",d.filterId),e.setAttribute("x","-10%"),e.setAttribute("y","-10%"),e.setAttribute("width","120%"),e.setAttribute("height","120%"),t.setAttribute("in","SourceGraphic"),t.setAttribute("result","blurOut"),d.filter=e,d.feGaussianBlur=t}.call(l)),!function(e){var t,i,n,o,r;if(t=e.tiles[0],i=e.corners[0],n=e.direction,o=e.forcedInitialRelativeDirection,t.isCornerTile)return!1;if(t.isBorderTile)if(e.grid.isVertical)if(t.neighborStates[4])if(t.neighborStates[1])if(t.neighborStates[0])switch(r=0===n,i){case 0:case 1:return!0;case 2:return o===d.LOWER_SELF&&r;case 3:return!1;case 4:return o===d.UPPER_SELF&&r;case 5:return!0}else switch(r=3===n,i){case 0:return!1;case 1:return o===d.UPPER_SELF&&r;case 2:case 3:case 4:return!0;case 5:return o===d.LOWER_SELF&&r}else if(r=4===n||5===n,t.isInLargerRow)switch(i){case 0:return o===d.LOWER_SELF&&r;case 1:case 2:return!1;case 3:return o===d.UPPER_SELF&&r;case 4:case 5:return!0}else switch(i){case 0:return!0;case 1:return o===d.LOWER_SELF&&r;case 2:return o===d.UPPER_SELF&&r;case 3:case 4:case 5:return!0}else if(r=1===n||2===n,t.isInLargerRow)switch(i){case 0:return o===d.UPPER_SELF&&r;case 1:case 2:return!0;case 3:return o===d.LOWER_SELF&&r;case 4:case 5:return!1}else switch(i){case 0:case 1:case 2:case 3:return!0;case 4:return o===d.LOWER_SELF&&r;case 5:return o===d.UPPER_SELF&&r}else if(t.neighborStates[0])if(t.neighborStates[3])if(t.neighborStates[4])switch(r=4===n,i){case 0:return o===d.LOWER_SELF&&r;case 1:return!1;case 2:return o===d.UPPER_SELF&&r;case 3:case 4:case 5:return!0}else switch(r=1===n,i){case 0:case 1:case 2:return!0;case 3:return o===d.LOWER_SELF&&r;case 4:return!1;case 5:return o===d.UPPER_SELF&&r}else if(r=0===n||5===n,t.rowIndex===e.grid.rowCount-1)switch(i){case 0:return!0;case 1:return o===d.LOWER_SELF&&r;case 2:case 3:return!1;case 4:return o===d.UPPER_SELF&&r;case 5:return!0}else switch(i){case 0:case 1:return!0;case 2:return o===d.LOWER_SELF&&r;case 3:return o===d.UPPER_SELF&&r;case 4:case 5:return!0}else if(r=2===n||3===n,0===t.rowIndex)switch(i){case 0:return!1;case 1:return o===d.UPPER_SELF&&r;case 2:case 3:return!0;case 4:return o===d.LOWER_SELF&&r;case 5:return!1}else switch(i){case 0:return o===d.UPPER_SELF&&r;case 1:case 2:case 3:case 4:return!0;case 5:return o===d.LOWER_SELF&&r}return!0}(l))throw new Error("LineJob created with invalid initial corner configuration: tileIndex="+t.originalIndex+", corner="+i+", direction="+n);u.call(l),function(){this.startHue=360*Math.random(),this.endHue=360*Math.random()}.call(l),function(){var e;(e=this).polyline=document.createElementNS(window.hg.util.svgNamespace,"polyline"),e.grid.svg.insertBefore(e.polyline,e.grid.svg.firstChild),e.polyline.setAttribute("fill-opacity","0"),d.isBlurOn&&e.polyline.setAttribute("filter","url(#"+d.filterId+")")}.call(l),console.log("LineJob created: tileIndex="+t.originalIndex+", corner="+i+", direction="+n)}d.duration=2e3,d.lineWidth=28,d.lineLength=6e4,d.lineSidePeriod=5,d.startSaturation=100,d.startLightness=100,d.startOpacity=.6,d.endSaturation=30,d.endLightness=80,d.endOpacity=0,d.sameDirectionProb=.8,d.blurStdDeviation=2,d.isBlurOn=!1,d.isRecurring=!0,d.avgDelay=2200,d.delayDeviationRange=2100,d.NEIGHBOR=0,d.LOWER_SELF=1,d.UPPER_SELF=2,d.oppositeDirectionProb=0,d.epsilon=1e-5,d.haveDefinedLineBlur=!1,d.filterId="random-line-filter",d.computeDependentValues=function(){d.distantSidewaysDirectionProb=(1-d.sameDirectionProb)/2,d.closeSidewaysDirectionProb=(1-d.oppositeDirectionProb)/2},d.computeDependentValues(),v.config=d,v.createRandomLineJob=function(e,t){for(var i,n,o,r;(i=e.originalBorderTiles[parseInt(Math.random()*e.originalBorderTiles.length)]).isCornerTile;);return e.isVertical?i.neighborStates[4]?i.neighborStates[1]?i.neighborStates[0]?(Math.random()<.5?(n=2,r=d.LOWER_SELF):(n=4,r=d.UPPER_SELF),o=0):(Math.random()<.5?(n=1,r=d.UPPER_SELF):(n=5,r=d.LOWER_SELF),o=3):(i.isInLargerRow?Math.random()<.5?(n=0,r=d.LOWER_SELF):(n=3,r=d.UPPER_SELF):Math.random()<.5?(n=1,r=d.LOWER_SELF):(n=2,r=d.UPPER_SELF),o=i.originalAnchor.y<e.originalCenter.y?4:5):(i.isInLargerRow?Math.random()<.5?(n=0,r=d.UPPER_SELF):(n=3,r=d.LOWER_SELF):Math.random()<.5?(n=4,r=d.LOWER_SELF):(n=5,r=d.UPPER_SELF),o=i.originalAnchor.y<e.originalCenter.y?2:1):i.neighborStates[0]?i.neighborStates[3]?i.neighborStates[4]?(Math.random()<.5?(n=0,r=d.LOWER_SELF):(n=2,r=d.UPPER_SELF),o=4):(Math.random()<.5?(n=3,r=d.LOWER_SELF):(n=5,r=d.UPPER_SELF),o=1):(i.rowIndex===e.rowCount-1?Math.random()<.5?(n=1,r=d.LOWER_SELF):(n=4,r=d.UPPER_SELF):Math.random()<.5?(n=2,r=d.LOWER_SELF):(n=3,r=d.UPPER_SELF),o=i.originalAnchor.x<e.originalCenter.x?0:5):(0===i.rowIndex?Math.random()<.5?(n=1,r=d.UPPER_SELF):(n=4,r=d.LOWER_SELF):Math.random()<.5?(n=0,r=d.UPPER_SELF):(n=5,r=d.LOWER_SELF),o=i.originalAnchor.x<e.originalCenter.x?2:3),new v(e,i,n,o,r,t,null)},window.hg=window.hg||{},window.hg.LineJob=v,console.log("LineJob module loaded")}(),function(){var r={};function o(e){var t,i;for(this.startTime=e,this.isComplete=!1,t=0,i=this.lineJobs.length;t<i;t+=1)this.lineJobs[t].start(e)}function a(e,t){var i,n,o;for((i=this).extraStartPoint.x=i.tile.particle.px,i.extraStartPoint.y=i.tile.particle.py,n=0,o=i.lineJobs.length;n<o;n+=1)i.lineJobs[n].update(e,t),i.lineJobs[n].isComplete&&(i.lineJobs.splice(n,1),n--,o--);i.feGaussianBlur.setAttribute("stdDeviation",r.blurStdDeviation),function(){var e;for(e=0;e<this.lineJobs.length;e+=1){if(!this.lineJobs[e].isComplete)return;this.lineJobs.splice(e--,1)}console.log("LinesRadiateJob completed"),this.isComplete=!0}.call(i)}function l(){var e,t;for(e=0,t=this.lineJobs.length;e<t;e+=1)this.lineJobs[e].draw()}function s(){var e,t;for(e=0,t=this.lineJobs.length;e<t;e+=1)this.lineJobs[e].cancel();this.lineJobs=[],this.isComplete=!0}function c(){}function e(e,t,i){var n=this;n.grid=e,n.tile=t,n.extraStartPoint={x:t.particle.px,y:t.particle.py},n.startTime=0,n.isComplete=!0,n.lineJobs=null,n.onComplete=i||function(){},n.start=o,n.update=a,n.draw=l,n.cancel=s,n.init=c,r.haveDefinedLineBlur||function(){var e,t;e=document.createElementNS(window.hg.util.svgNamespace,"filter"),this.grid.svgDefs.appendChild(e),t=document.createElementNS(window.hg.util.svgNamespace,"feGaussianBlur"),e.appendChild(t),e.setAttribute("id",r.filterId),e.setAttribute("x","-10%"),e.setAttribute("y","-10%"),e.setAttribute("width","120%"),e.setAttribute("height","120%"),t.setAttribute("in","SourceGraphic"),t.setAttribute("result","blurOut"),this.feGaussianBlur=t}.call(n),function(){var e,t,i;for((e=this).lineJobs=[],t=0;t<6;t+=1){try{i=new window.hg.LineJob(e.grid,e.tile,t,t,window.hg.LineJob.config.NEIGHBOR,e.onComplete,e.extraStartPoint)}catch(e){console.debug(e.message);continue}e.lineJobs.push(i),i.duration=r.duration,i.lineWidth=r.lineWidth,i.lineLength=r.lineLength,i.lineSidePeriod=r.lineSidePeriod,i.startSaturation=r.startSaturation,i.startLightness=r.startLightness,i.startOpacity=r.startOpacity,i.endSaturation=r.endSaturation,i.endLightness=r.endLightness,i.endOpacity=r.endOpacity,i.sameDirectionProb=r.sameDirectionProb,i.filterId=r.filterId,i.blurStdDeviation=r.blurStdDeviation,i.isBlurOn=r.isBlurOn,r.isBlurOn?i.polyline.setAttribute("filter","url(#"+r.filterId+")"):i.polyline.setAttribute("filter","none")}}.call(n),console.log("LinesRadiateJob created: tileIndex="+t.originalIndex)}r.duration=700,r.lineWidth=24,r.lineLength=1300,r.lineSidePeriod=30,r.startSaturation=100,r.startLightness=100,r.startOpacity=.8,r.endSaturation=100,r.endLightness=70,r.endOpacity=0,r.sameDirectionProb=.85,r.blurStdDeviation=2,r.isBlurOn=!1,r.isRecurring=!1,r.avgDelay=2e3,r.delayDeviationRange=1800,r.haveDefinedLineBlur=!1,r.filterId="random-line-filter",r.computeDependentValues=function(){},r.computeDependentValues(),e.config=r,window.hg=window.hg||{},window.hg.LinesRadiateJob=e,console.log("LinesRadiateJob module loaded")}(),function(){var l={};function i(e){var t=this;console.log("OpenPostJob "+(e?"cancelled":"completed")),t.grid.isTransitioning=!1,t.grid.lastExpansionJob===t&&t.grid.pagePost.loadCarouselMedia(),t.isComplete=!0,t.onComplete()}function r(e){var t,i=this;i.startTime=e,i.isComplete=!1,i.grid.isTransitioning&&i.previousJob.cancel(),i.grid.isPostOpen=!0,i.grid.isTransitioning=!0,i.grid.expandedTile=i.baseTile,(i.grid.lastExpansionJob=i).grid.parent.style.overflow="hidden",function(){var e,t,i,n,o,r,a;for(e=this,t=0;t<6;t+=1)e.sectors[t]=new window.hg.Sector(e.grid,e.baseTile,t,l.expandedDisplacementTileCount);for(t=0;t<6;t+=1)e.sectors[t].initializeExpandedStateExternalTileNeighbors(e.sectors);for(t=0;t<6;t+=1)e.sectors[t].tilesByIndex=null;for(window.hg.Tile.initializeTileExpandedState(e.baseTile,null,Number.NaN,Number.NaN),e.grid.sectors=e.sectors,a=[],t=o=0;t<6;t+=1)for(i=0,n=(r=e.sectors[t].tiles).length;i<n;i+=1,o+=1)a[o]=r[i];a[o]=e.baseTile,e.grid.updateAllTilesCollection(a)}.call(i),i.grid.annotations.setExpandedAnnotations(!0),window.hg.controller.transientJobs.SpreadJob.create(i.grid,i.baseTile).duration=l.duration+l.spreadDurationOffset,window.hg.controller.transientJobs.PanJob.create(i.grid,i.baseTile).duration=l.duration+l.panDurationOffset,t={x:i.grid.panCenter.x-i.grid.originalCenter.x,y:i.grid.panCenter.y-i.grid.originalCenter.y},window.hg.controller.transientJobs.DilateSectorsJob.create(i.grid,i.baseTile,t).duration=l.duration+l.dilateSectorsDurationOffset,window.hg.controller.transientJobs.FadePostJob.create(i.grid,i.baseTile).duration=l.duration+l.fadePostDurationOffset,window.hg.controller.resetPersistentJobs(i.grid)}function a(e,t){e-this.startTime>=l.duration&&i.call(this,!1)}function s(){}function c(){i.call(this,!0)}function d(){l.computeDependentValues()}function e(e,t,i){var n=this;n.grid=e,n.baseTile=t,n.startTime=0,n.isComplete=!0,n.sectors=[],n.previousJob=e.lastExpansionJob,n.start=r,n.update=a,n.draw=s,n.cancel=c,n.onComplete=i,n.init=d;var o=n.baseTile.postData?"#"+n.baseTile.postData.id:"";history.pushState({},document.title,o),console.log("OpenPostJob created: tileIndex="+n.baseTile.originalIndex)}l.duration=500,l.expandedDisplacementTileCount=3,l.spreadDurationOffset=-200,l.panDurationOffset=-100,l.fadePostDurationOffset=1100,l.dilateSectorsDurationOffset=0,l.computeDependentValues=function(){},l.computeDependentValues(),e.config=l,window.hg=window.hg||{},window.hg.OpenPostJob=e,console.log("OpenPostJob module loaded")}(),function(){var r={};function s(e){console.log("PanJob "+(e?"cancelled":"completed")),this.isComplete=!0,this.onComplete()}function a(e){var t=this;t.reverseDisplacement={x:t.endPoint.x-t.startPoint.x,y:t.endPoint.y-t.startPoint.y},t.displacement={x:-t.reverseDisplacement.x,y:-t.reverseDisplacement.y},t.startTime=e,t.isComplete=!1,function(){var e,t,i;for(t=0,i=(e=this).grid.allTiles.length;t<i;t+=1)e.grid.allTiles[t].originalAnchor.x+=e.displacement.x,e.grid.allTiles[t].originalAnchor.y+=e.displacement.y;e.grid.panCenter.x+=e.displacement.x,e.grid.panCenter.y+=e.displacement.y}.call(t)}function l(e,t){var i,n,o,r,a,l;for(n=(e-(i=this).startTime)/i.duration,n=(n=1-window.hg.util.easingFunctions.easeOutQuint(n))<0?0:n,a=i.reverseDisplacement.x*n,l=i.reverseDisplacement.y*n,o=0,r=i.grid.allTiles.length;o<r;o+=1)i.grid.allTiles[o].currentAnchor.x+=a,i.grid.allTiles[o].currentAnchor.y+=l;i.grid.currentCenter.x=i.grid.panCenter.x+a,i.grid.currentCenter.y=i.grid.panCenter.y+l,0===n&&s.call(i,!1)}function c(){}function d(){s.call(this,!0)}function u(){}function e(e,t,i,n){var o=this;o.grid=e,o.baseTile=t,o.reverseDisplacement=null,o.displacement=null,o.startTime=0,o.isComplete=!0,e.scrollTop=e.parent.scrollTop,o.endPoint=n||{x:t.originalAnchor.x,y:t.originalAnchor.y-e.scrollTop},o.startPoint={x:e.originalCenter.x,y:e.originalCenter.y},o.duration=r.duration,o.start=a,o.update=l,o.draw=c,o.cancel=d,o.onComplete=i,o.init=u,console.log("PanJob created: tileIndex="+o.baseTile.originalIndex)}r.duration=400,r.displacementRatio=.28,r.isRecurring=!1,r.avgDelay=300,r.delayDeviationRange=0,r.computeDependentValues=function(){},r.computeDependentValues(),e.config=r,window.hg=window.hg||{},window.hg.PanJob=e,console.log("PanJob module loaded")}(),function(){var o={};function a(e){console.log("SpreadJob "+(e?"cancelled":"completed")),this.isComplete=!0,this.onComplete()}function r(e){this.startTime=e,this.isComplete=!1}function l(e,t){var i,n,o,r;if(e>(i=this).startTime+i.duration)a.call(i,!1);else for(n=2*(.5<(n=(e-i.startTime)/i.duration)?1-n:n),n=window.hg.util.easingFunctions.easeOutQuint(n),o=0,r=i.displacements.length;o<r;o+=1)i.displacements[o].tile.currentAnchor.x+=i.displacements[o].dx*n,i.displacements[o].tile.currentAnchor.y+=i.displacements[o].dy*n}function s(){}function c(){a.call(this,!0)}function d(){}function e(e,t,i){var n=this;n.grid=e,n.baseTile=t,n.startTime=0,n.isComplete=!0,n.displacements=null,n.duration=o.duration,n.start=r,n.update=l,n.draw=s,n.cancel=c,n.onComplete=i,n.init=d,function(){var e,t,i;for((e=this).displacements=[],t=0,i=e.grid.allTiles.length;t<i;t+=1)e.displacements[t]={tile:e.grid.allTiles[t],dx:o.displacementRatio*(e.grid.allTiles[t].originalAnchor.x-e.baseTile.originalAnchor.x),dy:o.displacementRatio*(e.grid.allTiles[t].originalAnchor.y-e.baseTile.originalAnchor.y)}}.call(n),console.log("SpreadJob created: tileIndex="+n.baseTile.originalIndex)}o.duration=300,o.displacementRatio=.2,o.isRecurring=!1,o.avgDelay=4e3,o.delayDeviationRange=3800,o.computeDependentValues=function(){},o.computeDependentValues(),e.config=o,window.hg=window.hg||{},window.hg.SpreadJob=e,console.log("SpreadJob module loaded")}(),function(){var e={};function o(e){this.startTime=e,this.isComplete=!1}function r(e,t){}function a(){}function l(){(function(e){console.log("TileBorderJob "+(e?"cancelled":"completed")),this.isComplete=!0,this.onComplete()}).call(this,!0)}function s(){e.computeDependentValues()}function t(e,t,i){var n=this;n.grid=e,n.tile=t,n.startTime=0,n.isComplete=!0,n.start=o,n.update=r,n.draw=a,n.cancel=l,n.onComplete=i,n.init=s,console.log("TileBorderJob created: tileIndex="+n.baseTile.originalIndex)}e.duration=500,e.isRecurring=!1,e.avgDelay=4e3,e.delayDeviationRange=3800,e.computeDependentValues=function(){},e.computeDependentValues(),t.config=e,window.hg=window.hg||{},window.hg.TileBorderJob=t,console.log("TileBorderJob module loaded")}();