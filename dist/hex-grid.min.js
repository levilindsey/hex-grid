"use strict";!function(){function e(){}function t(){var e=this;console.log("AnimationJob starting"),e.startTime=Date.now(),e.isComplete=!1}function n(){var t=this;e.call(t)}function i(){var e=this;console.log("AnimationJob cancelling"),e.onComplete(!1),e.isComplete=!0}function o(e,o,r,a,l){var s=this;s.element=e,s.duration=o,s.animationFunction=a,s.startTime=0,s.isComplete=!1,s.easingFunction=hg.util.easingFunctions[r],s.start=t,s.update=n,s.cancel=i,s.onComplete=l,console.log("AnimationJob created")}window.hg||(window.hg={}),window.hg.AnimationJob=o,console.log("AnimationJob module loaded")}(),function(){function e(){var e,t,n,i,o,r,a,l,s;for(e=this,t=.5*e.parent.clientWidth,n=e.parent.clientHeight,e.isVertical?(e.rowDeltaY=1.5*h.tileOuterRadius+h.tileGap*h.sqrtThreeOverTwo,e.tileDeltaX=h.tileShortLengthWithGap,e.oddRowTileCount=2*Math.ceil((t-(h.tileInnerRadius+h.tileGap))/h.tileShortLengthWithGap)+1,e.evenRowTileCount=2*Math.ceil((t-(h.tileShortLengthWithGap+.5*h.tileGap))/h.tileShortLengthWithGap)+2,e.oddRowXOffset=t-h.tileShortLengthWithGap*(e.oddRowTileCount-1)/2,e.rowCount=Math.ceil((n-(h.firstRowYOffset+2*h.tileOuterRadius+h.tileGap*Math.sqrt(3)))/e.rowDeltaY)+2):(e.rowDeltaY=h.tileInnerRadius+.5*h.tileGap,e.tileDeltaX=3*h.tileOuterRadius+h.tileGap*Math.sqrt(3),e.oddRowTileCount=2*Math.ceil((t-(e.tileDeltaX-h.tileOuterRadius))/e.tileDeltaX)+1,e.evenRowTileCount=2*Math.ceil((t-(e.tileDeltaX+h.tileGap*h.sqrtThreeOverTwo+.5*h.tileOuterRadius))/e.tileDeltaX)+2,e.oddRowXOffset=t-e.tileDeltaX*(e.oddRowTileCount-1)/2,e.rowCount=Math.ceil((n-(h.firstRowYOffset+3*h.tileInnerRadius+2*h.tileGap))/e.rowDeltaY)+4),e.evenRowXOffset=e.oddRowXOffset+(e.evenRowTileCount>e.oddRowTileCount?-1:1)*e.tileDeltaX*.5,e.contentAreaLeft=t-.5*e.actualContentAreaWidth,e.contentAreaRight=e.contentAreaLeft+e.actualContentAreaWidth,e.isVertical?(e.oddRowContentStartIndex=Math.ceil((e.contentAreaLeft-(e.oddRowXOffset-h.tileInnerRadius))/e.tileDeltaX),e.evenRowContentStartIndex=Math.ceil((e.contentAreaLeft-(e.evenRowXOffset-h.tileInnerRadius))/e.tileDeltaX)):(e.oddRowContentStartIndex=Math.ceil((e.contentAreaLeft-(e.oddRowXOffset-h.tileOuterRadius))/e.tileDeltaX),e.evenRowContentStartIndex=Math.ceil((e.contentAreaLeft-(e.evenRowXOffset-h.tileOuterRadius))/e.tileDeltaX)),e.oddRowContentTileCount=e.oddRowTileCount-2*e.oddRowContentStartIndex,e.evenRowContentTileCount=e.evenRowTileCount-2*e.evenRowContentStartIndex,e.oddRowContentEndIndex=e.oddRowContentStartIndex+e.oddRowContentTileCount-1,e.evenRowContentEndIndex=e.evenRowContentStartIndex+e.evenRowContentTileCount-1,e.actualContentInnerIndices=[],l=Math.ceil(h.emptyInitialRowCount/2)*e.oddRowContentTileCount+Math.floor(h.emptyInitialRowCount/2)*e.evenRowContentTileCount,r=0,a=e.originalContentInnerIndices.length;a>r;r+=1)e.actualContentInnerIndices[r]=e.originalContentInnerIndices[r]+l;for(e.innerIndexOfLastContentTile=e.actualContentInnerIndices[e.actualContentInnerIndices.length-1],s=l+e.innerIndexOfLastContentTile+1,i=0,o=0;s>i;)i+=o%2===0?e.oddRowContentTileCount:e.evenRowContentTileCount,o+=1;e.rowCount=o>e.rowCount?o:e.rowCount,e.height=(e.rowCount-1)*e.rowDeltaY}function t(){var e,t,n,i,o;for(e=this,o=[],i=e.tileData.length,t=0;i>t;t+=1)o[t]=1;for(i=1/h.contentDensity*e.tileData.length,t=e.tileData.length;i>t;t+=1)o[t]=0;for(o=hg.util.shuffle(o),e.originalContentInnerIndices=[],t=0,n=0,i=o.length;i>t;t+=1)o[t]&&(e.originalContentInnerIndices[n++]=t)}function n(){var e;e=this,e.svg=document.createElementNS(hg.util.svgNamespace,"svg"),e.svg.style.display="block",e.svg.style.position="relative",e.svg.style.width="100%",e.svg.style.zIndex="2147483647",e.svg.style.backgroundColor="hsl("+e.hue+","+e.saturation+"%,"+e.lightness+"%)",e.parent.appendChild(e.svg),e.svgDefs=document.createElementNS(hg.util.svgNamespace,"defs"),e.svg.appendChild(e.svgDefs)}function i(){var e,t,n,i,r,a,l,s,u,c,d,f;for(e=this,e.tiles=[],t=0,d=0,f=0,s=h.firstRowYOffset,i=e.rowCount,n=0;i>n;n+=1,s+=e.rowDeltaY)for(c=n%2===0,c?(l=e.oddRowXOffset,a=e.oddRowTileCount):(l=e.evenRowXOffset,a=e.evenRowTileCount),r=0;a>r;t+=1,r+=1,l+=e.tileDeltaX)u=c?r<e.oddRowContentStartIndex||r>e.oddRowContentEndIndex:r<e.evenRowContentStartIndex||r>e.evenRowContentEndIndex,e.tiles[t]=new hg.HexTile(e.svg,l,s,h.tileOuterRadius,e.isVertical,h.tileHue,h.tileSaturation,h.tileLightness,null,t,u),u||(d===e.actualContentInnerIndices[f]&&(e.tiles[t].setContent(e.tileData[f]),f+=1),d+=1);o.call(e)}function o(){var e;e=this}function r(){var e;e=this}function a(){var t;t=this,t.actualContentAreaWidth=t.parent.clientWidth<h.targetContentAreaWidth?t.parent.clientWidth:h.targetContentAreaWidth,l.call(t),e.call(t),i.call(t),t.svg.style.height=t.height+"px",s.call(t),c.call(t)}function l(){var e,t;for(e=this,t=e.svg;t.firstChild;)t.removeChild(t.firstChild)}function s(){var e,t,n;for(e=this,t=0,n=e.tiles.length;n>t;t+=1)e.tiles[t].holdsContent&&e.tiles[t].setColor(h.tileHue+80,h.tileSaturation,h.tileLightness)}function u(e,i,o){var l=this;l.parent=e,l.tileData=i,l.isVertical=o,l.actualContentAreaWidth=h.actualContentAreaWidth,l.hue=h.backgroundHue,l.saturation=h.backgroundSaturation,l.lightness=h.backgroundLightness,l.svg=null,l.tiles=null,l.originalContentInnerIndices=null,l.innerIndexOfLastContentTile=null,n.call(l),t.call(l),a.call(l),r.call(l),window.addEventListener("resize",a.bind(l),!1)}function c(){var e=this;console.log("--- HexGrid Info: --------"),console.log("--- Tile count="+e.tiles.length),console.log("--- Row count="+e.rowCount),console.log("--- Odd row tile count="+e.oddRowTileCount),console.log("--- Even row tile count="+e.evenRowTileCount)}function d(e,t,n){return new u(e,t,n)}var h={};h.targetContentAreaWidth=800,h.backgroundHue=327,h.backgroundSaturation=20,h.backgroundLightness=10,h.tileHue=147,h.tileSaturation=50,h.tileLightness=30,h.tileOuterRadius=80,h.tileGap=12,h.contentStartingRowIndex=2,h.firstRowYOffset=0*h.tileOuterRadius,h.contentDensity=.6,h.emptyInitialRowCount=2,h.sqrtThreeOverTwo=Math.sqrt(3)/2,h.twoOverSqrtThree=2/Math.sqrt(3),h.tileInnerRadius=h.tileOuterRadius*h.sqrtThreeOverTwo,h.tileShortLengthWithGap=2*h.tileInnerRadius+h.tileGap,h.tileLongLengthWithGap=2*h.tileOuterRadius+h.tileGap*h.twoOverSqrtThree,window.hg||(window.hg={}),window.hg.createNewHexGrid=d,console.log("HexGrid module loaded")}(),function(){function e(){var e;e=this,e.vertexDeltas=i(e.outerRadius,e.isVertical),e.vertices=o(e.centerX,e.centerY,e.vertexDeltas),e.element=document.createElementNS(hg.util.svgNamespace,"polygon"),e.svg.appendChild(e.element),l.call(e,e.vertices),s.call(e,e.hue,e.saturation,e.lightness)}function t(e){var t;t=this,t.particle={},t.particle.px=t.centerX,t.particle.py=t.centerY,t.particle.vx=0,t.particle.vy=0,t.particle.fx=0,t.particle.fy=0,t.particle.m=e}function n(){var e,t;for(h=Math.PI/3,f=Math.PI/6,w=[],m=[],e=0,t=0;6>e;e+=1,t+=h)w[e]=Math.sin(t),m[e]=Math.cos(t);for(g=[],p=[],e=0,t=f;6>e;e+=1,t+=h)g[e]=Math.sin(t),p[e]=Math.cos(t)}function i(e,t){var n,i,o,r,a;for(t?(o=g,r=p):(o=w,r=m),n=0,i=0,a=[];6>n;n+=1)a[i++]=e*r[n],a[i++]=e*o[n];return a}function o(e,t,n){var i,o,r;for(i=0,o=0,r=[];6>i;i+=1)r[o]=e+n[o++],r[o]=t+n[o++];return r}function r(e){var t=this;t.tileData=e,t.holdsContent=!!e}function a(e){var t,n,i,o,r,a,l,s;for(t=this,t.neighbors=[],n=0,i=e.length;i>n;n+=1)if(a=e[n],l=t.centerX-a.centerX,s=t.centerY-a.centerY,t.neighbors[n]={tile:a,restLength:Math.sqrt(l*l+s*s),neighborsRelationshipObj:null,springForceX:0,springForceY:0},a.neighbors)for(o=0,r=a.neighbors.length;r>o;o+=1)a.neighbors[o].tile===t&&(t.neighbors[n].neighborsRelationshipObj=a.neighbors[o],a.neighbors[o].neighborsRelationshipObj=t.neighbors[n])}function l(e){var t,n,i;for(t=this,n=0,i="";12>n;)i+=e[n++]+","+e[n++]+" ";t.element.setAttribute("points",i)}function s(e,t,n){var i,o;i=this,o="hsl("+e+","+t+"%,"+n+"%)",i.element.setAttribute("fill",o)}function u(e){var t,n,i,o,r,a,l,s,u,c,h,f;for(t=this,t.particle.fx+=-d.coeffOfDrag*t.particle.vx,t.particle.fy+=-d.coeffOfDrag*t.particle.vy,n=0,i=t.neighbors.length;i>n;n+=1)t.neighbors[n].springForceX?(t.particle.fx+=t.neighbors[n].springForceX,t.particle.fy+=t.neighbors[n].springForceY,t.neighbors[n].springForceX=0,t.neighbors[n].springForceY=0):(o=t.neighbors[n].particle.px-t.particle.px,r=t.neighbors[n].particle.py-t.particle.py,a=t.neighbors[n].particle.vx-t.particle.vx,l=t.neighbors[n].particle.vy-t.particle.vy,s=o*a+r*l,u=Math.sqrt(o*o+r*r),c=(d.coeffOfSpring*(u-t.neighbors[n].restLength)+d.coeffOfDamping*s/u)/u,h=o*c,f=r*c,t.particle.fx+=h,t.particle.fy+=f,t.neighbors[n].neighborsRelationshipObj.springForceX=-h,t.neighbors[n].neighborsRelationshipObj.springForceY=-f);t.particle.px+=t.particle.vx*e,t.particle.py+=t.particle.vy*e,t.particle.vx+=t.particle.fx/t.particle.m*e,t.particle.vy+=t.particle.fy/t.particle.m*e,t.particle.fx=0,t.particle.fy=0}function c(n,i,o,c,d,h,f,g,p,w,m,v){var C=this;C.svg=n,C.element=null,C.centerX=i,C.centerY=o,C.outerRadius=c,C.isVertical=d,C.hue=h,C.saturation=f,C.lightness=g,C.tileData=p,C.holdsContent=!!p,C.index=w,C.isMarginTile=m,C.neighbors=null,C.vertices=null,C.particle=null,C.setContent=r,C.setNeighborTiles=a,C.setColor=s,C.setVertices=l,C.eulerStep=u,e.call(C),t.call(C,v)}var d,h,f,g,p,w,m;d={},d.coeffOfDrag=.1,d.coeffOfSpring=.1,d.coeffOfDamping=.1,window.hg||(window.hg={}),window.hg.HexTile=c,n(),console.log("HexTile module loaded")}(),function(){function e(){var n=Date.now();a.isLooping=!0,a.isPaused?a.isLooping=!1:(t(n),hg.util.requestAnimationFrame(e)),a.previousTime=n}function t(e){var t,i;for(t=0,i=a.jobs.length;i>t;t+=1)a.jobs[t].update(e),a.jobs[t].isComplete&&(n(a.jobs[t],t),t--,i--)}function n(e,t){var n;if("number"==typeof t)a.jobs.splice(t,1);else for(t=0,n=a.jobs.length;n>t;t+=1)if(a.jobs[t]===e){a.jobs.splice(t,1);break}0===a.jobs.length&&(a.isPaused=!0)}function i(t,n,i,o,r){return e(),new hg.AnimationJob(t,n,i,o,r)}function o(t){t.start(),a.jobs.push(t),a.isPaused=!1,a.isLooping||e()}function r(e){e.cancel(),n(e)}var a={};a.jobs=[],a.createJob=i,a.startJob=o,a.cancelJob=r,a.isPaused=!0,window.hg||(window.hg={}),window.hg.animator=a,console.log("animator module loaded")}(),function(){function e(e,t,n){e.forEach(function(e){t.forEach(function(t){T.listen(e,t,n)})})}function t(e,t,n,i){var o=document.createElement(e);return t&&t.appendChild(o),n&&(o.id=n),i&&i.forEach(function(e){l(o,e)}),o}function n(e,t){var n,i;return n=e.className.indexOf(t),n>=0&&(0===n||" "===e.className[n-1])&&(i=n+t.length,i===e.className.length||" "===e.className[i])?!0:!1}function i(e,t,i){"undefined"==typeof i?n(e,t)?s(e,t):l(e,t):i?l(e,t):s(e,t)}function o(e){for(var t=0,n=0;e;)t+=e.offsetLeft,n+=e.offsetTop,e=e.offsetParent;return t-=T.getScrollLeft(),n-=T.getScrollTop(),{x:t,y:n}}function r(){var e,t;return"undefined"!=typeof window.innerWidth?(e=window.innerWidth,t=window.innerHeight):"undefined"!=typeof document.documentElement&&"undefined"!=typeof document.documentElement.clientWidth&&0!==document.documentElement.clientWidth?(e=document.documentElement.clientWidth,t=document.documentElement.clientHeight):(e=document.getElementsByTagName("body")[0].clientWidth,t=document.getElementsByTagName("body")[0].clientHeight),{w:e,h:t}}function a(e,t){return t&&t.parentNode===e?(e.removeChild(t),!0):!1}function l(e,t){e.className+=" "+t}function s(e,t){e.className=e.className.split(" ").filter(function(e){return e!==t}).join(" ")}function u(e){e.className=""}function c(e,t,n,i,o){var r,a;return n=n||document.getElementsByTagName("body")[0],r=T.createElement(t,null,i,o),r.style.position="absolute",r.style.visibility="hidden",r.style.whiteSpace="nowrap",n.appendChild(r),r.innerHTML=e,a=r.clientWidth,n.removeChild(r),a}function d(e){var t,n;n=[];for(t in e)e.hasOwnProperty(t)&&n.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return"?"+n.join("&")}function h(e,t){var n,i;return t=encodeURIComponent(t),t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),n=new RegExp("[\\?&]"+t+"=([^&#]*)","i"),i=n.exec(e),null===i?null:decodeURIComponent(i[1].replace(/\+/g," "))}function f(e,t){e.style.transitionDuration=t+"s",e.style.WebkitTransitionDuration=t+"s",e.style.MozTransitionDuration=t+"s",e.style.msTransitionDuration=t+"s",e.style.OTransitionDuration=t+"s"}function g(e,t){e.style.transitionDelay=t+"s",e.style.WebkitTransitionDelay=t+"s",e.style.MozTransitionDelay=t+"s",e.style.msTransitionDelay=t+"s",e.style.OTransitionDelay=t+"s"}function p(e,t){var n,i,o;for(n=e.querySelectorAll("."+t),i=0,o=n.length;o>i;i++)e.removeChild(n[i])}function w(e,t){var n="cubic-bezier("+t.p1x+","+t.p1y+","+t.p2x+","+t.p2y+")";e.style.transitionTimingFunction=n,e.style.WebkitTransitionTimingFunction=n,e.style.MozTransitionTimingFunction=n,e.style.msTransitionTimingFunction=n,e.style.OTransitionTimingFunction=n}function m(e,t){var n,i,o,r,a,l,s;return o=1-e,r=o*o*o,a=3*e*o*o,l=3*e*e*o,s=e*e*e,n=t[0].x*r+t[1].x*a+t[2].x*l+t[3].x*s,i=t[0].y*r+t[1].y*a+t[2].y*l+t[3].y*s,{x:n,y:i}}function v(e,t){e.style.webkitTransform=t,e.style.MozTransform=t,e.style.msTransform=t,e.style.OTransform=t,e.style.transform=t}function C(e){var t,n,i,o;for(t=0,i=e.length;i>t;t+=1)n=parseInt(Math.random()*i),o=e[n],e[n]=e[t],e[t]=o;return e}var R={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return.5>e?2*e*e:-1+(4-2*e)*e},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1+--e*e*e},easeInOutCubic:function(e){return.5>e?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return.5>e?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return.5>e?16*e*e*e*e*e:1+16*--e*e*e*e*e}},b={linear:function(e){return e},easeInQuad:function(e){return Math.sqrt(e)},easeOutQuad:function(e){return 1-Math.sqrt(1-e)},easeInOutQuad:function(e){return.5>e?Math.sqrt(.5*e):1-.70710678*Math.sqrt(1-e)}},y=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,16)}).bind(window),T={listenToMultipleForMultiple:e,createElement:t,containsClass:n,toggleClass:i,getPageOffset:o,getViewportSize:r,removeChildIfPresent:a,addClass:l,removeClass:s,clearClasses:u,getTextWidth:c,encodeQueryString:d,getQueryStringParameterValue:h,setTransitionDurationSeconds:f,setTransitionDelaySeconds:g,removeChildrenWithClass:p,setTransitionCubicBezierTimingFunction:w,easingFunctions:R,inverseEasingFunctions:b,requestAnimationFrame:y,getXYFromPercentWithBezier:m,applyTransform:v,shuffle:C,svgNamespace:"http://www.w3.org/2000/svg"};window.hg||(window.hg={}),window.hg.util=T,console.log("util module loaded")}();