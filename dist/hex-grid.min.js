"use strict";!function(){function e(){}function t(){var e=this;e.startTime=Date.now(),e.isComplete=!1}function n(){var t=this;e.call(t)}function i(){var e=this;e.onComplete(!1),e.isComplete=!0}function o(e,o,r,l,a){var s=this;s.element=e,s.duration=o,s.animationFunction=l,s.startTime=0,s.isComplete=!1,s.easingFunction=hg.util.easingFunctions[r],s.start=t,s.update=n,s.cancel=i,s.onComplete=a,console.log("AnimationJob created")}window.hg||(window.hg={}),window.hg.AnimationJob=o,console.log("AnimationJob module loaded")}(),function(){function e(){var e,t,n,i,o,r,l,a,s;for(e=this,t=.5*e.parent.clientWidth,n=e.parent.clientHeight,e.isVertical?(e.rowDeltaY=1.5*p.tileOuterRadius+p.tileGap*p.sqrtThreeOverTwo,e.tileDeltaX=p.tileShortLengthWithGap,e.oddRowTileCount=2*Math.ceil((t-(p.tileInnerRadius+p.tileGap))/p.tileShortLengthWithGap)+1,e.evenRowTileCount=2*Math.ceil((t-(p.tileShortLengthWithGap+.5*p.tileGap))/p.tileShortLengthWithGap)+2,e.oddRowXOffset=t-p.tileShortLengthWithGap*(e.oddRowTileCount-1)/2,e.rowCount=Math.ceil((n-(p.firstRowYOffset+2*p.tileOuterRadius+p.tileGap*Math.sqrt(3)))/e.rowDeltaY)+2):(e.rowDeltaY=p.tileInnerRadius+.5*p.tileGap,e.tileDeltaX=3*p.tileOuterRadius+p.tileGap*Math.sqrt(3),e.oddRowTileCount=2*Math.ceil((t-(e.tileDeltaX-p.tileOuterRadius))/e.tileDeltaX)+1,e.evenRowTileCount=2*Math.ceil((t-(e.tileDeltaX+p.tileGap*p.sqrtThreeOverTwo+.5*p.tileOuterRadius))/e.tileDeltaX)+2,e.oddRowXOffset=t-e.tileDeltaX*(e.oddRowTileCount-1)/2,e.rowCount=Math.ceil((n-(p.firstRowYOffset+3*p.tileInnerRadius+2*p.tileGap))/e.rowDeltaY)+4),e.evenRowXOffset=e.oddRowXOffset+(e.evenRowTileCount>e.oddRowTileCount?-1:1)*e.tileDeltaX*.5,e.contentAreaLeft=t-.5*e.actualContentAreaWidth,e.contentAreaRight=e.contentAreaLeft+e.actualContentAreaWidth,e.isVertical?(e.oddRowContentStartIndex=Math.ceil((e.contentAreaLeft-(e.oddRowXOffset-p.tileInnerRadius))/e.tileDeltaX),e.evenRowContentStartIndex=Math.ceil((e.contentAreaLeft-(e.evenRowXOffset-p.tileInnerRadius))/e.tileDeltaX)):(e.oddRowContentStartIndex=Math.ceil((e.contentAreaLeft-(e.oddRowXOffset-p.tileOuterRadius))/e.tileDeltaX),e.evenRowContentStartIndex=Math.ceil((e.contentAreaLeft-(e.evenRowXOffset-p.tileOuterRadius))/e.tileDeltaX)),e.oddRowContentTileCount=e.oddRowTileCount-2*e.oddRowContentStartIndex,e.evenRowContentTileCount=e.evenRowTileCount-2*e.evenRowContentStartIndex,e.oddRowContentEndIndex=e.oddRowContentStartIndex+e.oddRowContentTileCount-1,e.evenRowContentEndIndex=e.evenRowContentStartIndex+e.evenRowContentTileCount-1,e.actualContentInnerIndices=[],a=Math.ceil(p.emptyInitialRowCount/2)*e.oddRowContentTileCount+Math.floor(p.emptyInitialRowCount/2)*e.evenRowContentTileCount,r=0,l=e.originalContentInnerIndices.length;l>r;r+=1)e.actualContentInnerIndices[r]=e.originalContentInnerIndices[r]+a;for(e.innerIndexOfLastContentTile=e.actualContentInnerIndices[e.actualContentInnerIndices.length-1],s=a+e.innerIndexOfLastContentTile+1,i=0,o=0;s>i;)i+=o%2===0?e.oddRowContentTileCount:e.evenRowContentTileCount,o+=1;e.rowCount=o>e.rowCount?o:e.rowCount,e.height=(e.rowCount-1)*e.rowDeltaY}function t(){var e,t,n,i,o;for(e=this,o=[],i=e.tileData.length,t=0;i>t;t+=1)o[t]=1;for(i=1/p.contentDensity*e.tileData.length,t=e.tileData.length;i>t;t+=1)o[t]=0;for(o=hg.util.shuffle(o),e.originalContentInnerIndices=[],t=0,n=0,i=o.length;i>t;t+=1)o[t]&&(e.originalContentInnerIndices[n++]=t)}function n(){var e;e=this,e.svg=document.createElementNS(hg.util.svgNamespace,"svg"),e.svg.style.display="block",e.svg.style.position="relative",e.svg.style.width="100%",e.svg.style.zIndex="2147483647",e.svg.style.backgroundColor="hsl("+e.hue+","+e.saturation+"%,"+e.lightness+"%)",e.parent.appendChild(e.svg),e.svgDefs=document.createElementNS(hg.util.svgNamespace,"defs"),e.svg.appendChild(e.svgDefs)}function i(){var e,t,n,i,a,s,u,c,d,h,f,g,w,v,m,C;for(e=this,e.tiles=[],t=0,f=0,g=0,c=p.firstRowYOffset,i=e.rowCount,v=[],w=l.call(e),m=e.oddRowTileCount>e.evenRowTileCount,n=0;i>n;n+=1,c+=e.rowDeltaY)for(h=n%2===0,h?(u=e.oddRowXOffset,s=e.oddRowTileCount):(u=e.evenRowXOffset,s=e.evenRowTileCount),a=0;s>a;t+=1,a+=1,u+=e.tileDeltaX)d=h?a<e.oddRowContentStartIndex||a>e.oddRowContentEndIndex:a<e.evenRowContentStartIndex||a>e.evenRowContentEndIndex,e.tiles[t]=new hg.HexTile(e.svg,u,c,p.tileOuterRadius,e.isVertical,p.tileHue,p.tileSaturation,p.tileLightness,null,t,d,p.tileMass),d||(f===e.actualContentInnerIndices[g]&&(e.tiles[t].setContent(e.tileData[g]),g+=1),f+=1),C=m&&h||!m&&!h,v[t]=r.call(e,n,i,a,s,C,w);o.call(e,v)}function o(e){var t,n,i,o,r,l;for(t=this,l=[],n=0,o=t.tiles.length;o>n;n+=1){for(i=0,r=6;r>i;i+=1)l[i]=isNaN(e[n][i])?null:t.tiles[n+e[n][i]];t.tiles[n].setNeighborTiles(l)}}function r(e,t,n,i,o,r){var l,a;return l=this,a=r.slice(0),l.isVertical?(o?(0===n&&(a[3]=Number.NaN,a[4]=Number.NaN,a[5]=Number.NaN),n===i-1&&(a[0]=Number.NaN,a[1]=Number.NaN,a[2]=Number.NaN)):(0===n&&(a[4]=Number.NaN),n===i-1&&(a[2]=Number.NaN)),0===e&&(a[0]=Number.NaN,a[5]=Number.NaN),e===t-1&&(a[2]=Number.NaN,a[3]=Number.NaN)):(o&&(0===n&&(a[4]=Number.NaN,a[5]=Number.NaN),n===i-1&&(a[1]=Number.NaN,a[2]=Number.NaN)),0===e?(a[0]=Number.NaN,a[1]=Number.NaN,a[5]=Number.NaN):1===e&&(a[0]=Number.NaN),e===t-1?(a[2]=Number.NaN,a[3]=Number.NaN,a[4]=Number.NaN):e===t-2&&(a[3]=Number.NaN)),a}function l(){var e,t,n;return e=this,n=[],t=e.oddRowTileCount>e.evenRowTileCount?e.oddRowTileCount:e.evenRowTileCount,e.isVertical?(n[0]=-t+1,n[1]=1,n[2]=t,n[3]=t-1,n[4]=-1,n[5]=-t):(n[0]=2*-t+1,n[1]=-t+1,n[2]=t,n[3]=2*t-1,n[4]=t-1,n[5]=-t),n}function a(){var t;t=this,t.actualContentAreaWidth=t.parent.clientWidth<p.targetContentAreaWidth?t.parent.clientWidth:p.targetContentAreaWidth,s.call(t),e.call(t),i.call(t),t.svg.style.height=t.height+"px",t.annotations.onWindowResize(),c.call(t)}function s(){var e,t;for(e=this,t=e.svg;t.firstChild;)t.removeChild(t.firstChild)}function u(e,i,o){var r=this;r.parent=e,r.tileData=i,r.isVertical=o,r.actualContentAreaWidth=p.actualContentAreaWidth,r.hue=p.backgroundHue,r.saturation=p.backgroundSaturation,r.lightness=p.backgroundLightness,r.isComplete=!1,r.svg=null,r.tiles=null,r.originalContentInnerIndices=null,r.innerIndexOfLastContentTile=null,r.start=d,r.update=h,r.cancel=f,n.call(r),t.call(r),a.call(r),r.annototations=new hg.HexGridAnnotations(r),window.addEventListener("resize",a.bind(r),!1)}function c(){var e=this;console.log("--- HexGrid Info: --------"),console.log("--- Tile count="+e.tiles.length),console.log("--- Row count="+e.rowCount),console.log("--- Odd row tile count="+e.oddRowTileCount),console.log("--- Even row tile count="+e.evenRowTileCount)}function d(){var e=this;e.isComplete=!1}function h(e,t){var n,i,o;for(n=this,i=0,o=n.tiles.length;o>i;i+=1)n.tiles[i].update(e,t),n.tiles[i].draw();n.annotations.update(e,t)}function f(){var e=this;e.isComplete=!0}function g(e,t,n){var i=new u(e,t,n);return hg.animator.startJob(i),i}var p={};p.targetContentAreaWidth=800,p.backgroundHue=327,p.backgroundSaturation=20,p.backgroundLightness=10,p.tileHue=147,p.tileSaturation=50,p.tileLightness=30,p.tileOuterRadius=80,p.tileGap=12,p.contentStartingRowIndex=2,p.firstRowYOffset=0*p.tileOuterRadius,p.contentDensity=.6,p.emptyInitialRowCount=2,p.tileMass=1,p.sqrtThreeOverTwo=Math.sqrt(3)/2,p.twoOverSqrtThree=2/Math.sqrt(3),p.tileInnerRadius=p.tileOuterRadius*p.sqrtThreeOverTwo,p.tileShortLengthWithGap=2*p.tileInnerRadius+p.tileGap,p.tileLongLengthWithGap=2*p.tileOuterRadius+p.tileGap*p.twoOverSqrtThree,window.hg||(window.hg={}),window.hg.createNewHexGrid=g,console.log("HexGrid module loaded")}(),function(){function e(){var e,t,n,i,o,r,l,a,s;for(e=this,t=.5*e.parent.clientWidth,n=e.parent.clientHeight,e.isVertical?(e.rowDeltaY=1.5*b.tileOuterRadius+b.tileGap*b.sqrtThreeOverTwo,e.tileDeltaX=b.tileShortLengthWithGap,e.oddRowTileCount=2*Math.ceil((t-(b.tileInnerRadius+b.tileGap))/b.tileShortLengthWithGap)+1,e.evenRowTileCount=2*Math.ceil((t-(b.tileShortLengthWithGap+.5*b.tileGap))/b.tileShortLengthWithGap)+2,e.oddRowXOffset=t-b.tileShortLengthWithGap*(e.oddRowTileCount-1)/2,e.rowCount=Math.ceil((n-(b.firstRowYOffset+2*b.tileOuterRadius+b.tileGap*Math.sqrt(3)))/e.rowDeltaY)+2):(e.rowDeltaY=b.tileInnerRadius+.5*b.tileGap,e.tileDeltaX=3*b.tileOuterRadius+b.tileGap*Math.sqrt(3),e.oddRowTileCount=2*Math.ceil((t-(e.tileDeltaX-b.tileOuterRadius))/e.tileDeltaX)+1,e.evenRowTileCount=2*Math.ceil((t-(e.tileDeltaX+b.tileGap*b.sqrtThreeOverTwo+.5*b.tileOuterRadius))/e.tileDeltaX)+2,e.oddRowXOffset=t-e.tileDeltaX*(e.oddRowTileCount-1)/2,e.rowCount=Math.ceil((n-(b.firstRowYOffset+3*b.tileInnerRadius+2*b.tileGap))/e.rowDeltaY)+4),e.evenRowXOffset=e.oddRowXOffset+(e.evenRowTileCount>e.oddRowTileCount?-1:1)*e.tileDeltaX*.5,e.contentAreaLeft=t-.5*e.actualContentAreaWidth,e.contentAreaRight=e.contentAreaLeft+e.actualContentAreaWidth,e.isVertical?(e.oddRowContentStartIndex=Math.ceil((e.contentAreaLeft-(e.oddRowXOffset-b.tileInnerRadius))/e.tileDeltaX),e.evenRowContentStartIndex=Math.ceil((e.contentAreaLeft-(e.evenRowXOffset-b.tileInnerRadius))/e.tileDeltaX)):(e.oddRowContentStartIndex=Math.ceil((e.contentAreaLeft-(e.oddRowXOffset-b.tileOuterRadius))/e.tileDeltaX),e.evenRowContentStartIndex=Math.ceil((e.contentAreaLeft-(e.evenRowXOffset-b.tileOuterRadius))/e.tileDeltaX)),e.oddRowContentTileCount=e.oddRowTileCount-2*e.oddRowContentStartIndex,e.evenRowContentTileCount=e.evenRowTileCount-2*e.evenRowContentStartIndex,e.oddRowContentEndIndex=e.oddRowContentStartIndex+e.oddRowContentTileCount-1,e.evenRowContentEndIndex=e.evenRowContentStartIndex+e.evenRowContentTileCount-1,e.actualContentInnerIndices=[],a=Math.ceil(b.emptyInitialRowCount/2)*e.oddRowContentTileCount+Math.floor(b.emptyInitialRowCount/2)*e.evenRowContentTileCount,r=0,l=e.originalContentInnerIndices.length;l>r;r+=1)e.actualContentInnerIndices[r]=e.originalContentInnerIndices[r]+a;for(e.innerIndexOfLastContentTile=e.actualContentInnerIndices[e.actualContentInnerIndices.length-1],s=a+e.innerIndexOfLastContentTile+1,i=0,o=0;s>i;)i+=o%2===0?e.oddRowContentTileCount:e.evenRowContentTileCount,o+=1;e.rowCount=o>e.rowCount?o:e.rowCount,e.height=(e.rowCount-1)*e.rowDeltaY}function t(){var e,t,n,i,o;for(e=this,o=[],i=e.tileData.length,t=0;i>t;t+=1)o[t]=1;for(i=1/b.contentDensity*e.tileData.length,t=e.tileData.length;i>t;t+=1)o[t]=0;for(o=hg.util.shuffle(o),e.originalContentInnerIndices=[],t=0,n=0,i=o.length;i>t;t+=1)o[t]&&(e.originalContentInnerIndices[n++]=t)}function n(){var e;e=this,e.svg=document.createElementNS(hg.util.svgNamespace,"svg"),e.svg.style.display="block",e.svg.style.position="relative",e.svg.style.width="100%",e.svg.style.zIndex="2147483647",e.svg.style.backgroundColor="hsl("+e.hue+","+e.saturation+"%,"+e.lightness+"%)",e.parent.appendChild(e.svg),e.svgDefs=document.createElementNS(hg.util.svgNamespace,"defs"),e.svg.appendChild(e.svgDefs)}function i(){var e,t,n,i,a,s,u,c,d,h,f,g,p,w,v,m;for(e=this,e.tiles=[],t=0,f=0,g=0,c=b.firstRowYOffset,i=e.rowCount,w=[],p=l.call(e),v=e.oddRowTileCount>e.evenRowTileCount,n=0;i>n;n+=1,c+=e.rowDeltaY)for(h=n%2===0,h?(u=e.oddRowXOffset,s=e.oddRowTileCount):(u=e.evenRowXOffset,s=e.evenRowTileCount),a=0;s>a;t+=1,a+=1,u+=e.tileDeltaX)d=h?a<e.oddRowContentStartIndex||a>e.oddRowContentEndIndex:a<e.evenRowContentStartIndex||a>e.evenRowContentEndIndex,e.tiles[t]=new hg.HexTile(e.svg,u,c,b.tileOuterRadius,e.isVertical,b.tileHue,b.tileSaturation,b.tileLightness,null,t,d,b.tileMass),d||(f===e.actualContentInnerIndices[g]&&(e.tiles[t].setContent(e.tileData[g]),g+=1),f+=1),m=v&&h||!v&&!h,w[t]=r.call(e,n,i,a,s,m,p);o.call(e,w)}function o(e){var t,n,i,o,r,l;for(t=this,l=[],n=0,o=t.tiles.length;o>n;n+=1){for(i=0,r=6;r>i;i+=1)l[i]=isNaN(e[n][i])?null:t.tiles[n+e[n][i]];t.tiles[n].setNeighborTiles(l)}}function r(e,t,n,i,o,r){var l,a;return l=this,a=r.slice(0),l.isVertical?(o?(0===n&&(a[3]=Number.NaN,a[4]=Number.NaN,a[5]=Number.NaN),n===i-1&&(a[0]=Number.NaN,a[1]=Number.NaN,a[2]=Number.NaN)):(0===n&&(a[4]=Number.NaN),n===i-1&&(a[2]=Number.NaN)),0===e&&(a[0]=Number.NaN,a[5]=Number.NaN),e===t-1&&(a[2]=Number.NaN,a[3]=Number.NaN)):(o&&(0===n&&(a[4]=Number.NaN,a[5]=Number.NaN),n===i-1&&(a[1]=Number.NaN,a[2]=Number.NaN)),0===e?(a[0]=Number.NaN,a[1]=Number.NaN,a[5]=Number.NaN):1===e&&(a[0]=Number.NaN),e===t-1?(a[2]=Number.NaN,a[3]=Number.NaN,a[4]=Number.NaN):e===t-2&&(a[3]=Number.NaN)),a}function l(){var e,t,n;return e=this,n=[],t=e.oddRowTileCount>e.evenRowTileCount?e.oddRowTileCount:e.evenRowTileCount,e.isVertical?(n[0]=-t+1,n[1]=1,n[2]=t,n[3]=t-1,n[4]=-1,n[5]=-t):(n[0]=2*-t+1,n[1]=-t+1,n[2]=t,n[3]=2*t-1,n[4]=t-1,n[5]=-t),n}function a(){var e,t;for(e=this,t=e.svg;t.firstChild;)t.removeChild(t.firstChild)}function s(){var e,t,n;for(e=this,t=0,n=e.tiles.length;n>t;t+=1)e.tiles[t].holdsContent&&e.tiles[t].setColor(b.tileHue+80,b.tileSaturation,b.tileLightness)}function u(){var e,t,n,i,o,r,l;for(e=this,e.neighborLines=[],t=0,i=e.tiles.length;i>t;t+=1)for(r=e.tiles[t],e.neighborLines[t]=[],n=0,o=r.neighbors.length;o>n;n+=1)l=r.neighbors[n],l&&(e.neighborLines[t][n]=document.createElementNS(hg.util.svgNamespace,"line"),e.neighborLines[t][n].setAttribute("stroke","purple"),e.neighborLines[t][n].setAttribute("stroke-width","1"),e.svg.appendChild(e.neighborLines[t][n]))}function c(){var e,t,n;for(e=this,e.forceLines=[],t=0,n=e.tiles.length;n>t;t+=1)e.forceLines[t]=document.createElementNS(hg.util.svgNamespace,"line"),e.forceLines[t].setAttribute("stroke","orange"),e.forceLines[t].setAttribute("stroke-width","2"),e.svg.appendChild(e.forceLines[t])}function d(){var e,t,n;for(e=this,e.indexTexts=[],t=0,n=e.tiles.length;n>t;t+=1)e.indexTexts[t]=document.createElementNS(hg.util.svgNamespace,"text"),e.indexTexts[t].setAttribute("font-size","16"),e.indexTexts[t].setAttribute("fill","black"),e.indexTexts[t].innerHTML=e.tiles[t].index,e.svg.appendChild(e.indexTexts[t])}function h(){var e,t,n,i,o,r,l;for(e=this,t=0,i=e.tiles.length;i>t;t+=1)for(r=e.tiles[t],n=0,o=r.neighbors.length;o>n;n+=1)l=r.neighbors[n],l&&(e.neighborLines[t][n].setAttribute("x1",r.particle.px),e.neighborLines[t][n].setAttribute("y1",r.particle.py),e.neighborLines[t][n].setAttribute("x2",l.tile.particle.px),e.neighborLines[t][n].setAttribute("y2",l.tile.particle.py))}function f(){var e,t,n;for(e=this,t=0,n=e.tiles.length;n>t;t+=1)e.forceLines[t].setAttribute("x1",e.tiles[t].particle.px),e.forceLines[t].setAttribute("y1",e.tiles[t].particle.py),e.forceLines[t].setAttribute("x2",e.tiles[t].particle.px+e.tiles[t].particle.fx),e.forceLines[t].setAttribute("y2",e.tiles[t].particle.py+e.tiles[t].particle.fy)}function g(){var e,t,n;for(e=this,t=0,n=e.tiles.length;n>t;t+=1)e.indexTexts[t].setAttribute("x",e.tiles[t].centerX-10),e.indexTexts[t].setAttribute("y",e.tiles[t].centerY+6)}function p(){var t;t=this,t.actualContentAreaWidth=t.parent.clientWidth<b.targetContentAreaWidth?t.parent.clientWidth:b.targetContentAreaWidth,a.call(t),e.call(t),i.call(t),t.svg.style.height=t.height+"px",s.call(t),d.call(t),c.call(t),u.call(t),v.call(t)}function w(e,i,o){var r=this;r.parent=e,r.tileData=i,r.isVertical=o,r.actualContentAreaWidth=b.actualContentAreaWidth,r.hue=b.backgroundHue,r.saturation=b.backgroundSaturation,r.lightness=b.backgroundLightness,r.isComplete=!1,r.svg=null,r.tiles=null,r.originalContentInnerIndices=null,r.innerIndexOfLastContentTile=null,r.start=m,r.update=C,r.cancel=N,n.call(r),t.call(r),p.call(r)}function v(){var e=this;console.log("--- HexGridAnnotations Info: --------"),console.log("--- Tile count="+e.tiles.length),console.log("--- Row count="+e.rowCount),console.log("--- Odd row tile count="+e.oddRowTileCount),console.log("--- Even row tile count="+e.evenRowTileCount)}function m(){var e=this;e.isComplete=!1}function C(e,t){var n,i,o;for(n=this,i=0,o=n.tiles.length;o>i;i+=1)n.tiles[i].update(e,t),n.tiles[i].draw();g.call(n),f.call(n),h.call(n)}function N(){var e=this;e.isComplete=!0}function R(e,t,n){var i=new w(e,t,n);return hg.animator.startJob(i),i}var b={};b.targetContentAreaWidth=800,b.backgroundHue=327,b.backgroundSaturation=20,b.backgroundLightness=10,b.tileHue=147,b.tileSaturation=50,b.tileLightness=30,b.tileOuterRadius=80,b.tileGap=12,b.contentStartingRowIndex=2,b.firstRowYOffset=0*b.tileOuterRadius,b.contentDensity=.6,b.emptyInitialRowCount=2,b.tileMass=1,b.sqrtThreeOverTwo=Math.sqrt(3)/2,b.twoOverSqrtThree=2/Math.sqrt(3),b.tileInnerRadius=b.tileOuterRadius*b.sqrtThreeOverTwo,b.tileShortLengthWithGap=2*b.tileInnerRadius+b.tileGap,b.tileLongLengthWithGap=2*b.tileOuterRadius+b.tileGap*b.twoOverSqrtThree,window.hg||(window.hg={}),window.hg.createNewHexGridAnnotations=R,console.log("HexGridAnnotations module loaded")}(),function(){function e(){var e;e=this,e.vertexDeltas=i(e.outerRadius,e.isVertical),e.vertices=o(e.centerX,e.centerY,e.vertexDeltas),e.element=document.createElementNS(hg.util.svgNamespace,"polygon"),e.svg.appendChild(e.element),a.call(e,e.vertices),s.call(e,e.hue,e.saturation,e.lightness)}function t(e){var t;t=this,t.particle={},t.particle.px=t.centerX,t.particle.py=t.centerY,t.particle.vx=0,t.particle.vy=0,t.particle.fx=0,t.particle.fy=0,t.particle.m=e,t.particle.forceAccumulatorX=0,t.particle.forceAccumulatorY=0}function n(){var e,t;for(g=Math.PI/3,p=Math.PI/6,m=[],C=[],e=0,t=0;6>e;e+=1,t+=g)m[e]=Math.sin(t),C[e]=Math.cos(t);for(w=[],v=[],e=0,t=p;6>e;e+=1,t+=g)w[e]=Math.sin(t),v[e]=Math.cos(t)}function i(e,t){var n,i,o,r,l;for(t?(o=w,r=v):(o=m,r=C),n=0,i=0,l=[];6>n;n+=1)l[i++]=e*r[n],l[i++]=e*o[n];return l}function o(e,t,n){var i,o,r;for(i=0,o=0,r=[];6>i;i+=1)r[o]=e+n[o++],r[o]=t+n[o++];return r}function r(e){var t=this;t.tileData=e,t.holdsContent=!!e}function l(e){var t,n,i,o,r,l,a,s;for(t=this,t.neighbors=[],n=0,i=e.length;i>n;n+=1)if(l=e[n]){if(a=t.centerX-l.centerX,s=t.centerY-l.centerY,t.neighbors[n]={tile:l,restLength:Math.sqrt(a*a+s*s),neighborsRelationshipObj:null,springForceX:0,springForceY:0},l.neighbors)for(o=0,r=l.neighbors.length;r>o;o+=1)l.neighbors[o]&&l.neighbors[o].tile===t&&(t.neighbors[n].neighborsRelationshipObj=l.neighbors[o],l.neighbors[o].neighborsRelationshipObj=t.neighbors[n])}else t.neighbors[n]=null}function a(e){var t,n,i;for(t=this,n=0,i="";12>n;)i+=e[n++]+","+e[n++]+" ";t.element.setAttribute("points",i)}function s(e,t,n){var i,o;i=this,o="hsl("+e+","+t+"%,"+n+"%)",i.element.setAttribute("fill",o)}function u(e,t){var n;n=this,n.particle.forceAccumulatorX+=-f.coeffOfDrag*n.particle.vx,n.particle.forceAccumulatorY+=-f.coeffOfDrag*n.particle.vy,n.particle.fx=n.particle.forceAccumulatorX/n.particle.m*t,n.particle.fy=n.particle.forceAccumulatorY/n.particle.m*t,n.particle.px+=n.particle.vx*t,n.particle.py+=n.particle.vy*t,n.particle.vx+=n.particle.fx,n.particle.vy+=n.particle.fy;{var i=n.particle;i.px,i.py,i.vx,i.vy,i.fx,i.fy,i.forceAccumulatorX,i.forceAccumulatorY}0===n.index&&console.log("tile 0!"),isNaN(n.particle.px)&&console.log("tile.particle.px="+n.particle.px),isNaN(n.particle.py)&&console.log("tile.particle.py="+n.particle.py),isNaN(n.particle.vx)&&console.log("tile.particle.vx="+n.particle.vx),isNaN(n.particle.vy)&&console.log("tile.particle.vy="+n.particle.vy),isNaN(n.particle.fx)&&console.log("tile.particle.fx="+n.particle.fx),isNaN(n.particle.fy)&&console.log("tile.particle.fy="+n.particle.fy),n.particle.fx=n.particle.fx<f.forceSuppressionThreshold?0:n.particle.fx,n.particle.fy=n.particle.fy<f.forceSuppressionThreshold?0:n.particle.fy,n.particle.vx=n.particle.vx<f.velocitySuppressionThreshold?0:n.particle.vx,n.particle.vy=n.particle.vy<f.velocitySuppressionThreshold?0:n.particle.vy,n.particle.forceAccumulatorX=0,n.particle.forceAccumulatorY=0}function c(){var e;e=this,e.vertices=o(e.particle.px,e.particle.py,e.vertexDeltas),a.call(e,e.vertices)}function d(e,t){var n;n=this,n.particle.forceAccumulatorX+=e,n.particle.forceAccumulatorY+=t}function h(n,i,o,h,f,g,p,w,v,m,C,N){var R=this;R.svg=n,R.element=null,R.centerX=i,R.centerY=o,R.outerRadius=h,R.isVertical=f,R.hue=g,R.saturation=p,R.lightness=w,R.tileData=v,R.holdsContent=!!v,R.index=m,R.isMarginTile=C,R.neighbors=null,R.vertices=null,R.particle=null,R.setContent=r,R.setNeighborTiles=l,R.setColor=s,R.setVertices=a,R.update=u,R.draw=c,R.applyExternalForce=d,e.call(R),t.call(R,N)}var f,g,p,w,v,m,C;f={},f.coeffOfDrag=1e-7,f.coeffOfSpring=1e-7,f.coeffOfDamping=1e-7,f.forceSuppressionThreshold=.01,f.velocitySuppressionThreshold=.01,window.hg||(window.hg={}),window.hg.HexTile=h,n(),console.log("HexTile module loaded")}(),function(){function e(){}function t(){var e=this;e.startTime=Date.now(),e.isComplete=!1}function n(t){var n,i,o;n=this,parseInt(t/r.period)%2===0?(i=r.fx,o=r.fy):(i=-r.fx,o=-r.fy),n.grid.tiles[0].applyExternalForce(i,o),e.call(n)}function i(){var e=this;e.onComplete(!1),e.isComplete=!0}function o(e){var o=this;o.grid=e,o.startTime=0,o.isComplete=!1,o.start=t,o.update=n,o.cancel=i,console.log("WaveAnimationJob created")}var r={};r.period=1e3,r.fx=1e-4,r.fy=1e-4,window.hg||(window.hg={}),window.hg.WaveAnimationJob=o,console.log("WaveAnimationJob module loaded")}(),function(){function e(){var n,i;n=Date.now(),i=n-l.previousTime,l.isLooping=!0,l.isPaused?l.isLooping=!1:(t(n,i),hg.util.requestAnimationFrame(e)),l.previousTime=n}function t(e,t){var i,o;for(i=0,o=l.jobs.length;o>i;i+=1)l.jobs[i].update(e,t),l.jobs[i].isComplete&&(n(l.jobs[i],i),i--,o--)}function n(e,t){var n;if("number"==typeof t)l.jobs.splice(t,1);else for(t=0,n=l.jobs.length;n>t;t+=1)if(l.jobs[t]===e){l.jobs.splice(t,1);break}0===l.jobs.length&&(l.isPaused=!0)}function i(){l.isPaused=!1,l.isLooping||(l.previousTime=Date.now(),e())}function o(e){console.log("AnimationJob starting"),e.start(),l.jobs.push(e),i()}function r(e){console.log("AnimationJob cancelling"),e.cancel(),n(e)}var l={};l.jobs=[],l.previousTime=Date.now(),l.isLooping=!1,l.isPaused=!0,l.startJob=o,l.cancelJob=r,window.hg||(window.hg={}),window.hg.animator=l,console.log("animator module loaded")}(),function(){function e(e,t,n){e.forEach(function(e){t.forEach(function(t){T.listen(e,t,n)})})}function t(e,t,n,i){var o=document.createElement(e);return t&&t.appendChild(o),n&&(o.id=n),i&&i.forEach(function(e){a(o,e)}),o}function n(e,t){var n,i;return n=e.className.indexOf(t),n>=0&&(0===n||" "===e.className[n-1])&&(i=n+t.length,i===e.className.length||" "===e.className[i])?!0:!1}function i(e,t,i){"undefined"==typeof i?n(e,t)?s(e,t):a(e,t):i?a(e,t):s(e,t)}function o(e){for(var t=0,n=0;e;)t+=e.offsetLeft,n+=e.offsetTop,e=e.offsetParent;return t-=T.getScrollLeft(),n-=T.getScrollTop(),{x:t,y:n}}function r(){var e,t;return"undefined"!=typeof window.innerWidth?(e=window.innerWidth,t=window.innerHeight):"undefined"!=typeof document.documentElement&&"undefined"!=typeof document.documentElement.clientWidth&&0!==document.documentElement.clientWidth?(e=document.documentElement.clientWidth,t=document.documentElement.clientHeight):(e=document.getElementsByTagName("body")[0].clientWidth,t=document.getElementsByTagName("body")[0].clientHeight),{w:e,h:t}}function l(e,t){return t&&t.parentNode===e?(e.removeChild(t),!0):!1}function a(e,t){e.className+=" "+t}function s(e,t){e.className=e.className.split(" ").filter(function(e){return e!==t}).join(" ")}function u(e){e.className=""}function c(e,t,n,i,o){var r,l;return n=n||document.getElementsByTagName("body")[0],r=T.createElement(t,null,i,o),r.style.position="absolute",r.style.visibility="hidden",r.style.whiteSpace="nowrap",n.appendChild(r),r.innerHTML=e,l=r.clientWidth,n.removeChild(r),l}function d(e){var t,n;n=[];for(t in e)e.hasOwnProperty(t)&&n.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return"?"+n.join("&")}function h(e,t){var n,i;return t=encodeURIComponent(t),t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),n=new RegExp("[\\?&]"+t+"=([^&#]*)","i"),i=n.exec(e),null===i?null:decodeURIComponent(i[1].replace(/\+/g," "))}function f(e,t){e.style.transitionDuration=t+"s",e.style.WebkitTransitionDuration=t+"s",e.style.MozTransitionDuration=t+"s",e.style.msTransitionDuration=t+"s",e.style.OTransitionDuration=t+"s"}function g(e,t){e.style.transitionDelay=t+"s",e.style.WebkitTransitionDelay=t+"s",e.style.MozTransitionDelay=t+"s",e.style.msTransitionDelay=t+"s",e.style.OTransitionDelay=t+"s"}function p(e,t){var n,i,o;for(n=e.querySelectorAll("."+t),i=0,o=n.length;o>i;i++)e.removeChild(n[i])}function w(e,t){var n="cubic-bezier("+t.p1x+","+t.p1y+","+t.p2x+","+t.p2y+")";e.style.transitionTimingFunction=n,e.style.WebkitTransitionTimingFunction=n,e.style.MozTransitionTimingFunction=n,e.style.msTransitionTimingFunction=n,e.style.OTransitionTimingFunction=n}function v(e,t){var n,i,o,r,l,a,s;return o=1-e,r=o*o*o,l=3*e*o*o,a=3*e*e*o,s=e*e*e,n=t[0].x*r+t[1].x*l+t[2].x*a+t[3].x*s,i=t[0].y*r+t[1].y*l+t[2].y*a+t[3].y*s,{x:n,y:i}}function m(e,t){e.style.webkitTransform=t,e.style.MozTransform=t,e.style.msTransform=t,e.style.OTransform=t,e.style.transform=t}function C(e){var t,n,i,o;for(t=0,i=e.length;i>t;t+=1)n=parseInt(Math.random()*i),o=e[n],e[n]=e[t],e[t]=o;return e}var N={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return.5>e?2*e*e:-1+(4-2*e)*e},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1+--e*e*e},easeInOutCubic:function(e){return.5>e?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return.5>e?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return.5>e?16*e*e*e*e*e:1+16*--e*e*e*e*e}},R={linear:function(e){return e},easeInQuad:function(e){return Math.sqrt(e)},easeOutQuad:function(e){return 1-Math.sqrt(1-e)},easeInOutQuad:function(e){return.5>e?Math.sqrt(.5*e):1-.70710678*Math.sqrt(1-e)}},b=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,16)}).bind(window),T={listenToMultipleForMultiple:e,createElement:t,containsClass:n,toggleClass:i,getPageOffset:o,getViewportSize:r,removeChildIfPresent:l,addClass:a,removeClass:s,clearClasses:u,getTextWidth:c,encodeQueryString:d,getQueryStringParameterValue:h,setTransitionDurationSeconds:f,setTransitionDelaySeconds:g,removeChildrenWithClass:p,setTransitionCubicBezierTimingFunction:w,easingFunctions:N,inverseEasingFunctions:R,requestAnimationFrame:b,getXYFromPercentWithBezier:v,applyTransform:m,shuffle:C,svgNamespace:"http://www.w3.org/2000/svg"};window.hg||(window.hg={}),window.hg.util=T,console.log("util module loaded")}();