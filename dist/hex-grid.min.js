"use strict";!function(){function t(){}function e(){var t=this;console.log("AnimationJob starting"),t.startTime=Date.now(),t.isComplete=!1}function n(){var e=this;t.call(e)}function i(){var t=this;console.log("AnimationJob cancelling"),t.onComplete(!1),t.isComplete=!0}function o(t,o,a,r,l){var s=this;s.element=t,s.duration=o,s.animationFunction=r,s.startTime=0,s.isComplete=!1,s.easingFunction=hg.util.easingFunctions[a],s.start=e,s.update=n,s.cancel=i,s.onComplete=l,console.log("AnimationJob created")}window.hg||(window.hg={}),window.hg.AnimationJob=o,console.log("AnimationJob module loaded")}(),function(){function t(){var t,e,n,i,o,a,r,l;for(t=this,e=.5*t.parent.clientWidth,n=t.parent.clientHeight,t.isVertical?(t.rowDeltaY=1.5*w.tileOuterRadius+w.tileGap*w.sqrtThreeOverTwo,t.tileDeltaX=w.tileShortLengthWithGap,t.oddRowTileCount=2*Math.ceil((e-(w.tileInnerRadius+w.tileGap))/w.tileShortLengthWithGap)+1,t.evenRowTileCount=2*Math.ceil((e-(w.tileShortLengthWithGap+.5*w.tileGap))/w.tileShortLengthWithGap)+2,t.oddRowXOffset=e-w.tileShortLengthWithGap*(t.oddRowTileCount-1)/2,t.rowCount=Math.ceil((n-(w.firstRowYOffset+2*w.tileOuterRadius+w.tileGap*Math.sqrt(3)))/t.rowDeltaY)+2):(t.rowDeltaY=w.tileInnerRadius+.5*w.tileGap,t.tileDeltaX=3*w.tileOuterRadius+w.tileGap*Math.sqrt(3),t.oddRowTileCount=2*Math.ceil((e-(t.tileDeltaX-w.tileOuterRadius))/t.tileDeltaX)+1,t.evenRowTileCount=2*Math.ceil((e-(t.tileDeltaX+w.tileGap*w.sqrtThreeOverTwo+.5*w.tileOuterRadius))/t.tileDeltaX)+2,t.oddRowXOffset=e-t.tileDeltaX*(t.oddRowTileCount-1)/2,t.rowCount=Math.ceil((n-(w.firstRowYOffset+3*w.tileInnerRadius+2*w.tileGap))/t.rowDeltaY)+4),t.evenRowXOffset=t.oddRowXOffset+(t.evenRowTileCount>t.oddRowTileCount?-1:1)*t.tileDeltaX*.5,t.contentAreaLeft=e-.5*t.actualContentAreaWidth,t.contentAreaRight=t.contentAreaLeft+t.actualContentAreaWidth,t.isVertical?(t.oddRowContentStartIndex=Math.ceil((t.contentAreaLeft-(t.oddRowXOffset-w.tileInnerRadius))/t.tileDeltaX),t.evenRowContentStartIndex=Math.ceil((t.contentAreaLeft-(t.evenRowXOffset-w.tileInnerRadius))/t.tileDeltaX)):(t.oddRowContentStartIndex=Math.ceil((t.contentAreaLeft-(t.oddRowXOffset-w.tileOuterRadius))/t.tileDeltaX),t.evenRowContentStartIndex=Math.ceil((t.contentAreaLeft-(t.evenRowXOffset-w.tileOuterRadius))/t.tileDeltaX)),t.oddRowContentTileCount=t.oddRowTileCount-2*t.oddRowContentStartIndex,t.evenRowContentTileCount=t.evenRowTileCount-2*t.evenRowContentStartIndex,t.oddRowContentEndIndex=t.oddRowContentStartIndex+t.oddRowContentTileCount-1,t.evenRowContentEndIndex=t.evenRowContentStartIndex+t.evenRowContentTileCount-1,t.innerIndexOfLastContentTile=t.originalContentInnerIndices[t.originalContentInnerIndices.length-1],t.actualContentInnerIndices=[],l=Math.ceil(w.emptyInitialRowCount/2)*t.oddRowContentTileCount+Math.floor(w.emptyInitialRowCount/2)*t.evenRowContentTileCount,a=0,r=t.originalContentInnerIndices.length;r>a;a+=1)t.actualContentInnerIndices[a]=t.originalContentInnerIndices[a]+l;for(i=0,o=0;t.innerIndexOfLastContentTile>i;)i+=o%2===0?t.oddRowContentTileCount:t.evenRowContentTileCount,o+=1;t.rowCount=o>t.rowCount?o:t.rowCount}function e(){var t,e,n,i,o;for(t=this,o=[],i=t.tileData.length,e=0;i>e;e+=1)o[e]=1;for(i=1/w.contentDensity*t.tileData.length,e=t.tileData.length;i>e;e+=1)o[e]=0;for(o=hg.util.shuffle(o),t.originalContentInnerIndices=[],e=0,n=0,i=o.length;i>e;e+=1)o[e]&&(t.originalContentInnerIndices[n++]=e)}function n(){var t;t=this,t.svg=document.createElementNS(hg.util.svgNamespace,"svg"),t.svg.style.position="relative",t.svg.style.width="100%",t.svg.style.height="100%",t.svg.style.zIndex="2147483647",t.svg.style.backgroundColor="hsl("+t.hue+","+t.saturation+"%,"+t.lightness+"%)",t.parent.appendChild(t.svg),t.svgDefs=document.createElementNS(hg.util.svgNamespace,"defs"),t.svg.appendChild(t.svgDefs)}function i(){var t,e,n,i,a,r,l,s,u,c,d,h;for(t=this,t.tiles=[],e=0,d=0,h=0,s=w.firstRowYOffset,i=t.rowCount,n=0;i>n;n+=1,s+=t.rowDeltaY)for(c=n%2===0,c?(l=t.oddRowXOffset,r=t.oddRowTileCount):(l=t.evenRowXOffset,r=t.evenRowTileCount),a=0;r>a;e+=1,a+=1,l+=t.tileDeltaX)u=c?a<t.oddRowContentStartIndex||a>t.oddRowContentEndIndex:a<t.evenRowContentStartIndex||a>t.evenRowContentEndIndex,t.tiles[e]=new hg.HexTile(t.svg,l,s,w.tileOuterRadius,t.isVertical,w.tileHue,w.tileSaturation,w.tileLightness,null,e,u),u||(d===t.actualContentInnerIndices[h]&&(t.tiles[e].setContent(t.tileData[h]),h+=1),d+=1);o.call(t)}function o(){var t;t=this}function a(){var t;t=this}function r(){var e;e=this,w.actualContentAreaWidth=e.parent.clientWidth<w.targetContentAreaWidth?e.parent.clientWidth:w.targetContentAreaWidth,l.call(e),t.call(e),i.call(e),d.call(e),u.call(e),c.call(e),s.call(e),f.call(e)}function l(){var t,e;for(t=this,e=t.svg;e.firstChild;)e.removeChild(e.firstChild)}function s(){var t,e;t=this,e=document.createElementNS(hg.util.svgNamespace,"line"),e.setAttribute("x1",t.contentAreaLeft),e.setAttribute("y1",0),e.setAttribute("x2",t.contentAreaLeft),e.setAttribute("y2",t.parent.clientHeight),e.setAttribute("stroke","red"),e.setAttribute("stroke-width","2"),t.svg.appendChild(e),e=document.createElementNS(hg.util.svgNamespace,"line"),e.setAttribute("x1",t.contentAreaRight),e.setAttribute("y1",0),e.setAttribute("x2",t.contentAreaRight),e.setAttribute("y2",t.parent.clientHeight),e.setAttribute("stroke","red"),e.setAttribute("stroke-width","2"),t.svg.appendChild(e)}function u(){var t,e,n,i,o;for(t=this,e=0,n=t.tiles.length;n>e;e+=1)i=t.tiles[e],o=document.createElementNS(hg.util.svgNamespace,"circle"),o.setAttribute("cx",i.centerX),o.setAttribute("cy",i.centerY),o.setAttribute("r","2"),o.setAttribute("fill","gray"),t.svg.appendChild(o)}function c(){var t,e,n,i,o;for(t=this,e=0,n=t.tiles.length;n>e;e+=1)i=t.tiles[e],o=document.createElementNS(hg.util.svgNamespace,"text"),o.setAttribute("x",i.centerX-10),o.setAttribute("y",i.centerY+6),o.setAttribute("font-size","16"),o.setAttribute("fill","black"),o.innerHTML=i.index,t.svg.appendChild(o)}function d(){var t,e,n;for(t=this,e=0,n=t.tiles.length;n>e;e+=1)t.tiles[e].holdsContent&&t.tiles[e].setColor(w.tileHue+80,w.tileSaturation,w.tileLightness)}function h(t,i,o){var l=this;l.parent=t,l.tileData=i,l.isVertical=o,l.actualContentAreaWidth=w.actualContentAreaWidth,l.hue=w.backgroundHue,l.saturation=w.backgroundSaturation,l.lightness=w.backgroundLightness,l.svg=null,l.tiles=null,l.originalContentInnerIndices=null,l.innerIndexOfLastContentTile=null,n.call(l),e.call(l),r.call(l),a.call(l),window.addEventListener("resize",r.bind(l),!1)}function f(){var t=this;console.log("--- HexGrid Info: --------"),console.log("--- Tile count="+t.tiles.length),console.log("--- Row count="+t.rowCount),console.log("--- Odd row tile count="+t.oddRowTileCount),console.log("--- Even row tile count="+t.evenRowTileCount)}function g(t,e,n){return new h(t,e,n)}var w={};w.targetContentAreaWidth=800,w.backgroundHue=327,w.backgroundSaturation=20,w.backgroundLightness=10,w.tileHue=147,w.tileSaturation=50,w.tileLightness=30,w.tileOuterRadius=80,w.tileGap=12,w.contentStartingRowIndex=2,w.firstRowYOffset=0*w.tileOuterRadius,w.contentDensity=.4,w.emptyInitialRowCount=2,w.sqrtThreeOverTwo=Math.sqrt(3)/2,w.twoOverSqrtThree=2/Math.sqrt(3),w.actualContentAreaWidth=w.targetContentAreaWidth,w.tileInnerRadius=w.tileOuterRadius*w.sqrtThreeOverTwo,w.tileShortLengthWithGap=2*w.tileInnerRadius+w.tileGap,w.tileLongLengthWithGap=2*w.tileOuterRadius+w.tileGap*w.twoOverSqrtThree,window.hg||(window.hg={}),window.hg.createNewHexGrid=g,console.log("HexGrid module loaded")}(),function(){function t(){var t;t=this,t.vertexDeltas=n(t.outerRadius,t.isVertical),t.vertices=i(t.centerX,t.centerY,t.vertexDeltas),t.element=document.createElementNS(hg.util.svgNamespace,"polygon"),t.svg.appendChild(t.element),r.call(t,t.vertices),l.call(t,t.hue,t.saturation,t.lightness)}function e(){var t,e;for(u=Math.PI/3,c=Math.PI/6,f=[],g=[],t=0,e=0;6>t;t+=1,e+=u)f[t]=Math.sin(e),g[t]=Math.cos(e);for(d=[],h=[],t=0,e=c;6>t;t+=1,e+=u)d[t]=Math.sin(e),h[t]=Math.cos(e)}function n(t,e){var n,i,o,a,r;for(e?(o=d,a=h):(o=f,a=g),n=0,i=0,r=[];6>n;n+=1)r[i++]=t*a[n],r[i++]=t*o[n];return r}function i(t,e,n){var i,o,a;for(i=0,o=0,a=[];6>i;i+=1)a[o]=t+n[o++],a[o]=e+n[o++];return a}function o(t){var e=this;e.tileData=t,e.holdsContent=!!t}function a(t){var e=this;e.neighborTiles=t}function r(t){var e,n,i;for(e=this,n=0,i="";12>n;)i+=t[n++]+","+t[n++]+" ";e.element.setAttribute("points",i)}function l(t,e,n){var i,o;i=this,o="hsl("+t+","+e+"%,"+n+"%)",i.element.setAttribute("fill",o)}function s(e,n,i,s,u,c,d,h,f,g,w){var m=this;m.svg=e,m.element=null,m.centerX=n,m.centerY=i,m.outerRadius=s,m.isVertical=u,m.hue=c,m.saturation=d,m.lightness=h,m.tileData=f,m.holdsContent=!!f,m.index=g,m.isMarginTile=w,m.neighborTiles=null,m.vertices=null,m.setContent=o,m.setNeighborTiles=a,m.setColor=l,m.setVertices=r,t.call(m)}var u,c,d,h,f,g;window.hg||(window.hg={}),window.hg.HexTile=s,e(),console.log("HexTile module loaded")}(),function(){function t(){var n=Date.now();r.isLooping=!0,r.isPaused?r.isLooping=!1:(e(n),hg.util.requestAnimationFrame(t)),r.previousTime=n}function e(t){var e,i;for(e=0,i=r.jobs.length;i>e;e+=1)r.jobs[e].update(t),r.jobs[e].isComplete&&(n(r.jobs[e],e),e--,i--)}function n(t,e){var n;if("number"==typeof e)r.jobs.splice(e,1);else for(e=0,n=r.jobs.length;n>e;e+=1)if(r.jobs[e]===t){r.jobs.splice(e,1);break}0===r.jobs.length&&(r.isPaused=!0)}function i(e,n,i,o,a){return t(),new hg.AnimationJob(e,n,i,o,a)}function o(e){e.start(),r.jobs.push(e),r.isPaused=!1,r.isLooping||t()}function a(t){t.cancel(),n(t)}var r={};r.jobs=[],r.createJob=i,r.startJob=o,r.cancelJob=a,r.isPaused=!0,window.hg||(window.hg={}),window.hg.animator=r,console.log("animator module loaded")}(),function(){function t(t,e,n){t.forEach(function(t){e.forEach(function(e){y.listen(t,e,n)})})}function e(t,e,n,i){var o=document.createElement(t);return e&&e.appendChild(o),n&&(o.id=n),i&&i.forEach(function(t){l(o,t)}),o}function n(t,e){var n,i;return n=t.className.indexOf(e),n>=0&&(0===n||" "===t.className[n-1])&&(i=n+e.length,i===t.className.length||" "===t.className[i])?!0:!1}function i(t,e,i){"undefined"==typeof i?n(t,e)?s(t,e):l(t,e):i?l(t,e):s(t,e)}function o(t){for(var e=0,n=0;t;)e+=t.offsetLeft,n+=t.offsetTop,t=t.offsetParent;return e-=y.getScrollLeft(),n-=y.getScrollTop(),{x:e,y:n}}function a(){var t,e;return"undefined"!=typeof window.innerWidth?(t=window.innerWidth,e=window.innerHeight):"undefined"!=typeof document.documentElement&&"undefined"!=typeof document.documentElement.clientWidth&&0!==document.documentElement.clientWidth?(t=document.documentElement.clientWidth,e=document.documentElement.clientHeight):(t=document.getElementsByTagName("body")[0].clientWidth,e=document.getElementsByTagName("body")[0].clientHeight),{w:t,h:e}}function r(t,e){return e&&e.parentNode===t?(t.removeChild(e),!0):!1}function l(t,e){t.className+=" "+e}function s(t,e){t.className=t.className.split(" ").filter(function(t){return t!==e}).join(" ")}function u(t){t.className=""}function c(t,e,n,i,o){var a,r;return n=n||document.getElementsByTagName("body")[0],a=y.createElement(e,null,i,o),a.style.position="absolute",a.style.visibility="hidden",a.style.whiteSpace="nowrap",n.appendChild(a),a.innerHTML=t,r=a.clientWidth,n.removeChild(a),r}function d(t){var e,n;n=[];for(e in t)t.hasOwnProperty(e)&&n.push(encodeURIComponent(e)+"="+encodeURIComponent(t[e]));return"?"+n.join("&")}function h(t,e){var n,i;return e=encodeURIComponent(e),e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),n=new RegExp("[\\?&]"+e+"=([^&#]*)","i"),i=n.exec(t),null===i?null:decodeURIComponent(i[1].replace(/\+/g," "))}function f(t,e){t.style.transitionDuration=e+"s",t.style.WebkitTransitionDuration=e+"s",t.style.MozTransitionDuration=e+"s",t.style.msTransitionDuration=e+"s",t.style.OTransitionDuration=e+"s"}function g(t,e){t.style.transitionDelay=e+"s",t.style.WebkitTransitionDelay=e+"s",t.style.MozTransitionDelay=e+"s",t.style.msTransitionDelay=e+"s",t.style.OTransitionDelay=e+"s"}function w(t,e){var n,i,o;for(n=t.querySelectorAll("."+e),i=0,o=n.length;o>i;i++)t.removeChild(n[i])}function m(t,e){var n="cubic-bezier("+e.p1x+","+e.p1y+","+e.p2x+","+e.p2y+")";t.style.transitionTimingFunction=n,t.style.WebkitTransitionTimingFunction=n,t.style.MozTransitionTimingFunction=n,t.style.msTransitionTimingFunction=n,t.style.OTransitionTimingFunction=n}function C(t,e){var n,i,o,a,r,l,s;return o=1-t,a=o*o*o,r=3*t*o*o,l=3*t*t*o,s=t*t*t,n=e[0].x*a+e[1].x*r+e[2].x*l+e[3].x*s,i=e[0].y*a+e[1].y*r+e[2].y*l+e[3].y*s,{x:n,y:i}}function v(t,e){t.style.webkitTransform=e,t.style.MozTransform=e,t.style.msTransform=e,t.style.OTransform=e,t.style.transform=e}function p(t){var e,n,i,o;for(e=0,i=t.length;i>e;e+=1)n=parseInt(Math.random()*i),o=t[n],t[n]=t[e],t[e]=o;return t}var R={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return.5>t?2*t*t:-1+(4-2*t)*t},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return 1+--t*t*t},easeInOutCubic:function(t){return.5>t?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return.5>t?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return.5>t?16*t*t*t*t*t:1+16*--t*t*t*t*t}},T={linear:function(t){return t},easeInQuad:function(t){return Math.sqrt(t)},easeOutQuad:function(t){return 1-Math.sqrt(1-t)},easeInOutQuad:function(t){return.5>t?Math.sqrt(.5*t):1-.70710678*Math.sqrt(1-t)}},b=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,16)}).bind(window),y={listenToMultipleForMultiple:t,createElement:e,containsClass:n,toggleClass:i,getPageOffset:o,getViewportSize:a,removeChildIfPresent:r,addClass:l,removeClass:s,clearClasses:u,getTextWidth:c,encodeQueryString:d,getQueryStringParameterValue:h,setTransitionDurationSeconds:f,setTransitionDelaySeconds:g,removeChildrenWithClass:w,setTransitionCubicBezierTimingFunction:m,easingFunctions:R,inverseEasingFunctions:T,requestAnimationFrame:b,getXYFromPercentWithBezier:C,applyTransform:v,shuffle:p,svgNamespace:"http://www.w3.org/2000/svg"};window.hg||(window.hg={}),window.hg.util=y,console.log("util module loaded")}();