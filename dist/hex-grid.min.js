var Showdown={extensions:{}},forEach=Showdown.forEach=function(e,t){if("function"==typeof e.forEach)e.forEach(t);else{var n,i=e.length;for(n=0;i>n;n++)t(e[n],n,e)}},stdExtName=function(e){return e.replace(/[_-]||\s/g,"").toLowerCase()};Showdown.converter=function(e){var t,n,i,r=0,o=[],a=[];if("undefind"!=typeof module&&"undefined"!=typeof exports&&"undefind"!=typeof require){var l=require("fs");if(l){var s=l.readdirSync((__dirname||".")+"/extensions").filter(function(e){return~e.indexOf(".js")}).map(function(e){return e.replace(/\.js$/,"")});Showdown.forEach(s,function(e){var t=stdExtName(e);Showdown.extensions[t]=require("./extensions/"+e)})}}e&&e.extensions&&Showdown.forEach(e.extensions,function(e){if("string"==typeof e&&(e=Showdown.extensions[stdExtName(e)]),"function"!=typeof e)throw"Extension '"+e+"' could not be loaded.  It was either not found or is not a valid extension.";Showdown.forEach(e(this),function(e){e.type?"language"===e.type||"lang"===e.type?o.push(e):("output"===e.type||"html"===e.type)&&a.push(e):a.push(e)})}),this.makeHtml=function(e){return t={},n={},i=[],e=e.replace(/~/g,"~T"),e=e.replace(/\$/g,"~D"),e=e.replace(/\r\n/g,"\n"),e=e.replace(/\r/g,"\n"),e="\n\n"+e+"\n\n",e=W(e),e=e.replace(/^[ \t]+$/gm,""),Showdown.forEach(o,function(t){e=d(t,e)}),e=N(e),e=g(e),e=u(e),e=p(e),e=G(e),e=e.replace(/~D/g,"$$"),e=e.replace(/~T/g,"~"),Showdown.forEach(a,function(t){e=d(t,e)}),e};var c,d=function(e,t){if(e.regex){var n=new RegExp(e.regex,"g");return t.replace(n,e.replace)}return e.filter?e.filter(t):void 0},u=function(e){return e+="~0",e=e.replace(/^[ ]{0,3}\[(.+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?[ \t]*\n?[ \t]*(?:(\n*)["(](.+?)[")][ \t]*)?(?:\n+|(?=~0))/gm,function(e,i,r,o,a){return i=i.toLowerCase(),t[i]=I(r),o?o+a:(a&&(n[i]=a.replace(/"/g,"&quot;")),"")}),e=e.replace(/~0/,"")},g=function(e){e=e.replace(/\n/g,"\n\n");return e=e.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,h),e=e.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|style|section|header|footer|nav|article|aside)\b[^\r]*?<\/\2>[ \t]*(?=\n+)\n)/gm,h),e=e.replace(/(\n[ ]{0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,h),e=e.replace(/(\n\n[ ]{0,3}<!(--[^\r]*?--\s*)+>[ \t]*(?=\n{2,}))/g,h),e=e.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,h),e=e.replace(/\n\n/g,"\n")},h=function(e,t){var n=t;return n=n.replace(/\n\n/g,"\n"),n=n.replace(/^\n/,""),n=n.replace(/\n+$/g,""),n="\n\n~K"+(i.push(n)-1)+"K\n\n"},p=function(e){e=x(e);var t=A("<hr />");return e=e.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,t),e=e.replace(/^[ ]{0,2}([ ]?\-[ ]?){3,}[ \t]*$/gm,t),e=e.replace(/^[ ]{0,2}([ ]?\_[ ]?){3,}[ \t]*$/gm,t),e=y(e),e=T(e),e=P(e),e=g(e),e=L(e)},f=function(e){return e=S(e),e=m(e),e=E(e),e=v(e),e=b(e),e=O(e),e=I(e),e=R(e),e=e.replace(/  +\n/g," <br />\n")},m=function(e){var t=/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--.*?--\s*)+>)/gi;return e=e.replace(t,function(e){var t=e.replace(/(.)<\/?code>(?=.)/g,"$1`");return t=H(t,"\\`*_")})},b=function(e){return e=e.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,w),e=e.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?(.*?(?:\(.*?\).*?)?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,w),e=e.replace(/(\[([^\[\]]+)\])()()()()()/g,w)},w=function(e,i,r,o,a,l,s,c){void 0==c&&(c="");var d=i,u=r,g=o.toLowerCase(),h=a,p=c;if(""==h)if(""==g&&(g=u.toLowerCase().replace(/ ?\n/g," ")),h="#"+g,void 0!=t[g])h=t[g],void 0!=n[g]&&(p=n[g]);else{if(!(d.search(/\(\s*\)$/m)>-1))return d;h=""}h=H(h,"*_");var f='<a href="'+h+'"';return""!=p&&(p=p.replace(/"/g,"&quot;"),p=H(p,"*_"),f+=' title="'+p+'"'),f+=">"+u+"</a>"},v=function(e){return e=e.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,C),e=e.replace(/(!\[(.*?)\]\s?\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,C)},C=function(e,i,r,o,a,l,s,c){var d=i,u=r,g=o.toLowerCase(),h=a,p=c;if(p||(p=""),""==h){if(""==g&&(g=u.toLowerCase().replace(/ ?\n/g," ")),h="#"+g,void 0==t[g])return d;h=t[g],void 0!=n[g]&&(p=n[g])}u=u.replace(/"/g,"&quot;"),h=H(h,"*_");var f='<img src="'+h+'" alt="'+u+'"';return p=p.replace(/"/g,"&quot;"),p=H(p,"*_"),f+=' title="'+p+'"',f+=" />"},x=function(e){function t(e){return e.replace(/[^\w]/g,"").toLowerCase()}return e=e.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm,function(e,n){return A('<h1 id="'+t(n)+'">'+f(n)+"</h1>")}),e=e.replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm,function(e,n){return A('<h2 id="'+t(n)+'">'+f(n)+"</h2>")}),e=e.replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm,function(e,n,i){var r=n.length;return A("<h"+r+' id="'+t(i)+'">'+f(i)+"</h"+r+">")})},y=function(e){e+="~0";var t=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;return r?e=e.replace(t,function(e,t,n){var i=t,r=n.search(/[*+-]/g)>-1?"ul":"ol";i=i.replace(/\n{2,}/g,"\n\n\n");var o=c(i);return o=o.replace(/\s+$/,""),o="<"+r+">"+o+"</"+r+">\n"}):(t=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/g,e=e.replace(t,function(e,t,n,i){var r=t,o=n,a=i.search(/[*+-]/g)>-1?"ul":"ol",o=o.replace(/\n{2,}/g,"\n\n\n"),l=c(o);return l=r+"<"+a+">\n"+l+"</"+a+">\n"})),e=e.replace(/~0/,"")};c=function(e){return r++,e=e.replace(/\n{2,}$/,"\n"),e+="~0",e=e.replace(/(\n)?(^[ \t]*)([*+-]|\d+[.])[ \t]+([^\r]+?(\n{1,2}))(?=\n*(~0|\2([*+-]|\d+[.])[ \t]+))/gm,function(e,t,n,i,r){var o=r,a=t;return a||o.search(/\n{2,}/)>-1?o=p(F(o)):(o=y(F(o)),o=o.replace(/\n$/,""),o=f(o)),"<li>"+o+"</li>\n"}),e=e.replace(/~0/g,""),r--,e};var T=function(e){return e+="~0",e=e.replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g,function(e,t,n){var i=t,r=n;return i=D(F(i)),i=W(i),i=i.replace(/^\n+/g,""),i=i.replace(/\n+$/g,""),i="<pre><code>"+i+"\n</code></pre>",A(i)+r}),e=e.replace(/~0/,"")},N=function(e){return e+="~0",e=e.replace(/(?:^|\n)```(.*)\n([\s\S]*?)\n```/g,function(e,t,n){var i=t,r=n;return r=D(r),r=W(r),r=r.replace(/^\n+/g,""),r=r.replace(/\n+$/g,""),r="<pre><code"+(i?' class="'+i+'"':"")+">"+r+"\n</code></pre>",A(r)}),e=e.replace(/~0/,"")},A=function(e){return e=e.replace(/(^\n+|\n+$)/g,""),"\n\n~K"+(i.push(e)-1)+"K\n\n"},S=function(e){return e=e.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(e,t,n,i){var r=i;return r=r.replace(/^([ \t]*)/g,""),r=r.replace(/[ \t]*$/g,""),r=D(r),t+"<code>"+r+"</code>"})},D=function(e){return e=e.replace(/&/g,"&amp;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e=H(e,"*_{}[]\\",!1)},R=function(e){return e=e.replace(/(\*\*|__)(?=\S)([^\r]*?\S[*_]*)\1/g,"<strong>$2</strong>"),e=e.replace(/(\*|_)(?=\S)([^\r]*?\S)\1/g,"<em>$2</em>")},P=function(e){return e=e.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(e,t){var n=t;return n=n.replace(/^[ \t]*>[ \t]?/gm,"~0"),n=n.replace(/~0/g,""),n=n.replace(/^[ \t]+$/gm,""),n=p(n),n=n.replace(/(^|\n)/g,"$1  "),n=n.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(e,t){var n=t;return n=n.replace(/^  /gm,"~0"),n=n.replace(/~0/g,"")}),A("<blockquote>\n"+n+"\n</blockquote>")})},L=function(e){e=e.replace(/^\n+/g,""),e=e.replace(/\n+$/g,"");for(var t=e.split(/\n{2,}/g),n=[],r=t.length,o=0;r>o;o++){var a=t[o];a.search(/~K(\d+)K/g)>=0?n.push(a):a.search(/\S/)>=0&&(a=f(a),a=a.replace(/^([ \t]*)/g,"<p>"),a+="</p>",n.push(a))}r=n.length;for(var o=0;r>o;o++)for(;n[o].search(/~K(\d+)K/)>=0;){var l=i[RegExp.$1];l=l.replace(/\$/g,"$$$$"),n[o]=n[o].replace(/~K\d+K/,l)}return n.join("\n\n")},I=function(e){return e=e.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),e=e.replace(/<(?![a-z\/?\$!])/gi,"&lt;")},E=function(e){return e=e.replace(/\\(\\)/g,B),e=e.replace(/\\([`*_{}\[\]()>#+-.!])/g,B)},O=function(e){return e=e.replace(/<((https?|ftp|dict):[^'">\s]+)>/gi,'<a href="$1">$1</a>'),e=e.replace(/<(?:mailto:)?([-.\w]+\@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,function(e,t){return J(G(t))})},J=function(e){var t=[function(e){return"&#"+e.charCodeAt(0)+";"},function(e){return"&#x"+e.charCodeAt(0).toString(16)+";"},function(e){return e}];return e="mailto:"+e,e=e.replace(/./g,function(e){if("@"==e)e=t[Math.floor(2*Math.random())](e);else if(":"!=e){var n=Math.random();e=n>.9?t[2](e):n>.45?t[1](e):t[0](e)}return e}),e='<a href="'+e+'">'+e+"</a>",e=e.replace(/">.+:/g,'">')},G=function(e){return e=e.replace(/~E(\d+)E/g,function(e,t){var n=parseInt(t);return String.fromCharCode(n)})},F=function(e){return e=e.replace(/^(\t|[ ]{1,4})/gm,"~0"),e=e.replace(/~0/g,"")},W=function(e){return e=e.replace(/\t(?=\t)/g,"    "),e=e.replace(/\t/g,"~A~B"),e=e.replace(/~B(.+?)~A/g,function(e,t){for(var n=t,i=4-n.length%4,r=0;i>r;r++)n+=" ";return n}),e=e.replace(/~A/g,"    "),e=e.replace(/~B/g,"")},H=function(e,t,n){var i="(["+t.replace(/([\[\]\\])/g,"\\$1")+"])";n&&(i="\\\\"+i);var r=new RegExp(i,"g");return e=e.replace(r,B)},B=function(e,t){var n=t.charCodeAt(0);return"~E"+n+"E"}},"undefined"!=typeof module&&(module.exports=Showdown),"function"==typeof define&&define.amd&&define("showdown",function(){return Showdown}),function(){var e=function(){return[{type:"lang",regex:"(~T){2}([^~]+)(~T){2}",replace:function(e,t,n){return"<del>"+n+"</del>"}}]};"undefined"!=typeof window&&window.Showdown&&window.Showdown.extensions&&(window.Showdown.extensions.github=e),"undefined"!=typeof module&&(module.exports=e)}(),function(){function e(e){Object.keys(b.transientJobs).forEach(function(t){var n=window.hg[b.transientJobs[t].constructorName].config;n.isRecurring&&b.transientJobs[t].toggleRecurrence(e,!0,n.avgDelay,n.delayDeviationRange)})}function t(e,t,n,i,r){return new window.hg[b.transientJobs[e].constructorName](t,n,i,r)}function n(e,n,i,r,o){function a(){b.transientJobs[n].jobs[i.index].splice(b.transientJobs[n].jobs[i.index].indexOf(l),1)}var l;return!i.isPostOpen||b.transientJobs[n].canRunWithOpenGrid?(e=e||t.bind(b,n),l=e(i,r,a,o),b.transientJobs[n].jobs[i.index].push(l),window.hg.animator.startJob(l),l):(console.log("Cannot create a "+b.transientJobs[n].constructorName+" while the Grid is expanded"),null)}function i(e,t){return b.transientJobs[e].create(t,s(t))}function r(e,t,n,i,r){function o(){var n=Math.random()*s+a;b.transientJobs[e].createRandom(t),c[t.index]=setTimeout(o,n)}var a,l,s,c;c=b.transientJobs[e].timeouts,a=i-.5*r,a=a>0?a:1,l=i+.5*r,s=l-a,c[t.index]&&(clearTimeout(c[t.index]),c[t.index]=null),n&&(c[t.index]=setTimeout(o,i))}function o(e,t){var n,i;n=b.persistentJobs[e],i=new window.hg[n.constructorName](t),n.jobs[t.index].push(i),n.start(t,n.jobs[t.index].length-1)}function a(e,t,n){"undefined"!=typeof n?window.hg.animator.startJob(b.persistentJobs[e].jobs[t.index][n]):b.persistentJobs[e].jobs[t.index].forEach(window.hg.animator.startJob)}function l(){v.grids.forEach(f)}function s(e){var t=parseInt(Math.random()*e.originalTiles.length);return e.originalTiles[t]}function c(e){var t=parseInt(Math.random()*e.contentTiles.length);return e.contentTiles[t]}function d(e,t,n){return window.hg.LineJob.createRandomLineJob(e,n)}function u(e,t,n){function i(){r.lineJobs.forEach(function(t){b.transientJobs.line.jobs[e.index].splice(b.transientJobs.line.jobs[e.index].indexOf(t),1)}),n()}var r=new window.hg.LinesRadiateJob(e,t,i);return r.lineJobs.forEach(function(t){b.transientJobs.line.jobs[e.index].push(t)}),r}function g(e){return e.isPostOpen?null:b.transientJobs.openPost.create(e,c(e))}function h(e){return e.isPostOpen?b.transientJobs.closePost.create(e,e.expandedTile):null}function p(t,n,i){function r(e){Object.keys(b.persistentJobs).forEach(function(t){b.persistentJobs[t].jobs[e]=[]}),Object.keys(b.transientJobs).forEach(function(t){b.transientJobs[t].jobs[e]=[]})}var o,a,l,s;return a=v.grids.length,r(a),o=new window.hg.Grid(a,t,n,i),v.grids.push(o),l=o.annotations,v.annotations.push(l),s=new window.hg.Input(o),v.inputs.push(s),window.hg.animator.startJob(o),b.persistentJobs.colorReset.create(o),b.persistentJobs.displacementReset.create(o),window.hg.animator.startJob(l),b.persistentJobs.colorShift.create(o),b.persistentJobs.colorWave.create(o),b.persistentJobs.displacementWave.create(o),e(o),o}function f(e){function t(e,t){var n,i;for(n=0,i=e.originalTiles.length;i>n;n+=1)if(e.originalTiles[n].holdsContent&&e.originalTiles[n].postData.id===t)return e.originalTiles[n];return null}var n,i=e.isPostOpen?e.expandedTile.postData.id:null;window.hg.animator.cancelAll(),e.resize(),m(e),n=t(e,i),b.transientJobs.openPost.create(e,n)}function m(e){window.hg.animator.startJob(e),b.persistentJobs.colorReset.start(e),b.persistentJobs.displacementReset.start(e),window.hg.animator.startJob(v.annotations[e.index]),b.persistentJobs.colorShift.start(e),b.persistentJobs.colorWave.start(e),b.persistentJobs.displacementWave.start(e)}var b={},w={},v={};b.persistentJobs={colorShift:{constructorName:"ColorShiftJob",jobs:[],create:o.bind(b,"colorShift"),start:a.bind(b,"colorShift")},colorWave:{constructorName:"ColorWaveJob",jobs:[],create:o.bind(b,"colorWave"),start:a.bind(b,"colorWave")},displacementWave:{constructorName:"DisplacementWaveJob",jobs:[],create:o.bind(b,"displacementWave"),start:a.bind(b,"displacementWave")},colorReset:{constructorName:"ColorResetJob",jobs:[],create:o.bind(b,"colorReset"),start:a.bind(b,"colorReset")},displacementReset:{constructorName:"DisplacementResetJob",jobs:[],create:o.bind(b,"displacementReset"),start:a.bind(b,"displacementReset")}},b.transientJobs={openPost:{constructorName:"OpenPostJob",jobs:[],timeouts:[],create:n.bind(b,null,"openPost"),createRandom:g,toggleRecurrence:r.bind(b,"openPost"),canRunWithOpenGrid:!1},closePost:{constructorName:"ClosePostJob",jobs:[],timeouts:[],create:n.bind(b,null,"closePost"),createRandom:h,toggleRecurrence:r.bind(b,"closePost"),canRunWithOpenGrid:!0},dilateSectors:{constructorName:"DilateSectorsJob",jobs:[],timeouts:[],create:n.bind(b,null,"dilateSectors"),createRandom:null,toggleRecurrence:null,canRunWithOpenGrid:!0},fadePost:{constructorName:"FadePostJob",jobs:[],timeouts:[],create:n.bind(b,null,"fadePost"),createRandom:null,toggleRecurrence:null,canRunWithOpenGrid:!0},displacementRadiate:{constructorName:"DisplacementRadiateJob",jobs:[],timeouts:[],create:n.bind(b,null,"displacementRadiate"),createRandom:i.bind(b,"displacementRadiate"),toggleRecurrence:r.bind(b,"displacementRadiate"),canRunWithOpenGrid:!0},highlightHover:{constructorName:"HighlightHoverJob",jobs:[],timeouts:[],create:n.bind(b,null,"highlightHover"),createRandom:i.bind(b,"highlightHover"),toggleRecurrence:r.bind(b,"highlightHover"),canRunWithOpenGrid:!0},highlightRadiate:{constructorName:"HighlightRadiateJob",jobs:[],timeouts:[],create:n.bind(b,null,"highlightRadiate"),createRandom:i.bind(b,"highlightRadiate"),toggleRecurrence:r.bind(b,"highlightRadiate"),canRunWithOpenGrid:!0},intraTileRadiate:{constructorName:"IntraTileRadiateJob",jobs:[],timeouts:[],create:n.bind(b,null,"intraTileRadiate"),createRandom:i.bind(b,"intraTileRadiate"),toggleRecurrence:r.bind(b,"intraTileRadiate"),canRunWithOpenGrid:!0},line:{constructorName:"LineJob",jobs:[],timeouts:[],create:n.bind(b,d,"line"),createRandom:i.bind(b,"line"),toggleRecurrence:r.bind(b,"line"),canRunWithOpenGrid:!1},linesRadiate:{constructorName:"LinesRadiateJob",jobs:[],timeouts:[],create:n.bind(b,u,"linesRadiate"),createRandom:i.bind(b,"linesRadiate"),toggleRecurrence:r.bind(b,"linesRadiate"),canRunWithOpenGrid:!1},pan:{constructorName:"PanJob",jobs:[],timeouts:[],create:n.bind(b,null,"pan"),createRandom:i.bind(b,"pan"),toggleRecurrence:r.bind(b,"pan"),canRunWithOpenGrid:!0},spread:{constructorName:"SpreadJob",jobs:[],timeouts:[],create:n.bind(b,null,"spread"),createRandom:i.bind(b,"spread"),toggleRecurrence:r.bind(b,"spread"),canRunWithOpenGrid:!0},tileBorder:{constructorName:"TileBorderJob",jobs:[],timeouts:[],create:n.bind(b,null,"tileBorder"),createRandom:i.bind(b,"tileBorder"),toggleRecurrence:r.bind(b,"tileBorder"),canRunWithOpenGrid:!0}},v.grids=[],v.inputs=[],v.annotations=[],b.config=w,b.createNewHexGrid=p,b.resetGrid=f,b.resetPersistentJobs=m,window.hg=window.hg||{},window.hg.controller=b,window.addEventListener("resize",l,!1),console.log("controller module loaded")}(),function(){function e(e,t,n){e.forEach(function(e){t.forEach(function(t){R.listen(e,t,n)})})}function t(e,t,n,i){var r=document.createElement(e);return t&&t.appendChild(r),n&&(r.id=n),i&&i.forEach(function(e){l(r,e)}),r}function n(e,t){var n,i;return n=e.className.indexOf(t),n>=0&&(0===n||" "===e.className[n-1])&&(i=n+t.length,i===e.className.length||" "===e.className[i])?!0:!1}function i(e,t,i){"undefined"==typeof i?n(e,t)?s(e,t):l(e,t):i?l(e,t):s(e,t)}function r(e){for(var t=0,n=0;e;)t+=e.offsetLeft,n+=e.offsetTop,e=e.offsetParent;return t-=R.getScrollLeft(),n-=R.getScrollTop(),{x:t,y:n}}function o(){var e,t;return"undefined"!=typeof window.innerWidth?(e=window.innerWidth,t=window.innerHeight):"undefined"!=typeof document.documentElement&&"undefined"!=typeof document.documentElement.clientWidth&&0!==document.documentElement.clientWidth?(e=document.documentElement.clientWidth,t=document.documentElement.clientHeight):(e=document.getElementsByTagName("body")[0].clientWidth,t=document.getElementsByTagName("body")[0].clientHeight),{w:e,h:t}}function a(e,t){return t&&t.parentNode===e?(e.removeChild(t),!0):!1}function l(e,t){e.setAttribute("class",e.className+" "+t)}function s(e,t){e.setAttribute("class",e.className.split(" ").filter(function(e){return e!==t}).join(" "))}function c(e){e.className=""}function d(e,t,n,i,r){var o,a;return n=n||document.getElementsByTagName("body")[0],o=R.createElement(t,null,i,r),o.style.position="absolute",o.style.visibility="hidden",o.style.whiteSpace="nowrap",n.appendChild(o),o.innerHTML=e,a=o.clientWidth,n.removeChild(o),a}function u(e){var t,n;n=[];for(t in e)e.hasOwnProperty(t)&&n.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return"?"+n.join("&")}function g(e,t){var n,i;return t=encodeURIComponent(t),t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),n=new RegExp("[\\?&]"+t+"=([^&#]*)","i"),i=n.exec(e),null===i?null:decodeURIComponent(i[1].replace(/\+/g," "))}function h(e,t){e.style.transitionDuration=t+"s",e.style.WebkitTransitionDuration=t+"s",e.style.MozTransitionDuration=t+"s",e.style.msTransitionDuration=t+"s",e.style.OTransitionDuration=t+"s"}function p(e,t){e.style.transitionDelay=t+"s",e.style.WebkitTransitionDelay=t+"s",e.style.MozTransitionDelay=t+"s",e.style.msTransitionDelay=t+"s",e.style.OTransitionDelay=t+"s"}function f(e,t){var n,i,r;for(n=e.querySelectorAll("."+t),i=0,r=n.length;r>i;i++)e.removeChild(n[i])}function m(e,t){var n="cubic-bezier("+t.p1x+","+t.p1y+","+t.p2x+","+t.p2y+")";e.style.transitionTimingFunction=n,e.style.WebkitTransitionTimingFunction=n,e.style.MozTransitionTimingFunction=n,e.style.msTransitionTimingFunction=n,e.style.OTransitionTimingFunction=n}function b(e,t){var n,i,r,o,a,l,s;return r=1-e,o=r*r*r,a=3*e*r*r,l=3*e*e*r,s=e*e*e,n=t[0].x*o+t[1].x*a+t[2].x*l+t[3].x*s,i=t[0].y*o+t[1].y*a+t[2].y*l+t[3].y*s,{x:n,y:i}}function w(e,t){e.style.webkitTransform=t,e.style.MozTransform=t,e.style.msTransform=t,e.style.OTransform=t,e.style.transform=t}function v(e){var t,n,i,r;for(t=0,i=e.length;i>t;t+=1)n=parseInt(Math.random()*i),r=e[n],e[n]=e[t],e[t]=r;return e}function C(e,t,n,i){var r,o,a,l,s,c,d,u,g,h,p;if(r=!1,i){if(n.length<6)return r;u=n[n.length-4],g=n[n.length-3]}else{if(n.length<4)return r;u=n[n.length-2],g=n[n.length-1]}for(o=0,a=n.length-2;a>o;o+=2)h=n[o],p=n[o+1],h>u?(l=u,s=g,c=h,d=p):(l=h,s=p,c=u,d=g),e>h==u>=e&&(d-s)*(e-l)>(t-s)*(c-l)&&(r=!r),u=h,g=p;return r}function x(e){var t,n;n={};for(t in e)n[t]=e[t];return n}function y(e){var t=e.s*(e.l<.5?e.l:1-e.l);return{h:e.h,s:2*t/(e.l+t),v:e.l+t}}function T(e){var t=(2-e.s)*e.v;return{h:e.h,s:e.s*e.v/(1>t?t:2.00000001-t),l:.5*t}}function N(e,t){for(;e;)if(window.hg.util.containsClass(e,t))return e;return null}var A={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return.5>e?2*e*e:-1+(4-2*e)*e},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1+--e*e*e},easeInOutCubic:function(e){return.5>e?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return.5>e?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return.5>e?16*e*e*e*e*e:1+16*--e*e*e*e*e}},S={linear:function(e){return e},easeInQuad:function(e){return Math.sqrt(e)},easeOutQuad:function(e){return 1-Math.sqrt(1-e)},easeInOutQuad:function(e){return.5>e?Math.sqrt(.5*e):1-.70710678*Math.sqrt(1-e)}},D=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,16)}).bind(window),R={listenToMultipleForMultiple:e,createElement:t,containsClass:n,toggleClass:i,getPageOffset:r,getViewportSize:o,removeChildIfPresent:a,addClass:l,removeClass:s,clearClasses:c,getTextWidth:d,encodeQueryString:u,getQueryStringParameterValue:g,setTransitionDurationSeconds:h,setTransitionDelaySeconds:p,removeChildrenWithClass:f,setTransitionCubicBezierTimingFunction:m,easingFunctions:A,inverseEasingFunctions:S,requestAnimationFrame:D,getXYFromPercentWithBezier:b,applyTransform:w,shuffle:v,isPointInsidePolyline:C,shallowCopy:x,hsvToHsl:T,hslToHsv:y,findClassInSelfOrAncestors:N,svgNamespace:"http://www.w3.org/2000/svg",xlinkNamespace:"http://www.w3.org/1999/xlink"};window.hg=window.hg||{},window.hg.util=R,console.log("util module loaded")}(),function(){function e(){var n,r;n=Date.now(),r=n-s.previousTime,r=r>c.deltaTimeUpperThreshold?c.deltaTimeUpperThreshold:r,s.isLooping=!0,s.isPaused?s.isLooping=!1:(t(n,r),i(),window.hg.util.requestAnimationFrame(e)),s.previousTime=n}function t(e,t){var i,r;for(i=0,r=s.jobs.length;r>i;i+=1)s.jobs[i].update(e,t),s.jobs[i].isComplete&&(n(s.jobs[i],i),i--,r--)}function n(e,t){var n;if("number"==typeof t)s.jobs.splice(t,1);else for(t=0,n=s.jobs.length;n>t;t+=1)if(s.jobs[t]===e){s.jobs.splice(t,1);break}0===s.jobs.length&&(s.isPaused=!0)}function i(){var e,t;for(e=0,t=s.jobs.length;t>e;e+=1)s.jobs[e].draw()}function r(){s.isPaused=!1,s.isLooping||(s.previousTime=Date.now(),e())}function o(e){e.isComplete?(console.log("Job starting: "+e.constructor.name),e.init(),e.start(),s.jobs.push(e)):(console.log("Job restarting: "+e.constructor.name),e.cancel(),e.init(),e.start()),r()}function a(e){console.log("Job cancelling: "+e.constructor.name),e.cancel(),n(e)}function l(){for(;s.jobs.length;)a(s.jobs[0])}var s={},c={};c.deltaTimeUpperThreshold=200,s.jobs=[],s.previousTime=Date.now(),s.isLooping=!1,s.isPaused=!0,s.startJob=o,s.cancelJob=a,s.cancelAll=l,s.config=c,window.hg=window.hg||{},window.hg.animator=s,console.log("animator module loaded")}(),function(){function e(){var e,t,n;for(e=this,t=0,n=e.grid.originalTiles.length;n>t;t+=1)e.grid.originalTiles[t].holdsContent&&(e.grid.originalTiles[t].currentColor.h=tt.contentTileHue,e.grid.originalTiles[t].currentColor.s=tt.contentTileSaturation,e.grid.originalTiles[t].currentColor.l=tt.contentTileLightness)}function t(){var e,t,n;for(e=this,t=0,n=e.grid.allTiles.length;n>t;t+=1)e.grid.allTiles[t].getIsBorderTile()&&(e.grid.allTiles[t].currentColor.h=tt.borderTileHue,e.grid.allTiles[t].currentColor.s=tt.borderTileSaturation,e.grid.allTiles[t].currentColor.l=tt.borderTileLightness)}function n(){var e,t,n;for(e=this,t=0,n=e.grid.originalBorderTiles.length;n>t;t+=1)e.grid.originalBorderTiles[t].isCornerTile&&(e.grid.originalTiles[t].currentColor.h=tt.cornerTileHue,e.grid.originalTiles[t].currentColor.s=tt.cornerTileSaturation,e.grid.originalTiles[t].currentColor.l=tt.cornerTileLightness)}function i(){var e,t,n;for(e=this,t=0,n=e.grid.allTiles.length;n>t;t+=1)e.grid.allTiles[t].element.setAttribute("opacity","0")}function r(){var e,t;e=this,e.contentAreaGuideLines=[],t=document.createElementNS(window.hg.util.svgNamespace,"line"),e.grid.svg.appendChild(t),e.contentAreaGuideLines[0]=t,t.setAttribute("x1",e.grid.contentAreaLeft),t.setAttribute("y1",0),t.setAttribute("x2",e.grid.contentAreaLeft),t.setAttribute("y2",e.grid.height),t.setAttribute("stroke","red"),t.setAttribute("stroke-width","2"),t=document.createElementNS(window.hg.util.svgNamespace,"line"),e.grid.svg.appendChild(t),e.contentAreaGuideLines[1]=t,t.setAttribute("x1",e.grid.contentAreaRight),t.setAttribute("y1",0),t.setAttribute("x2",e.grid.contentAreaRight),t.setAttribute("y2",e.grid.height),t.setAttribute("stroke","red"),t.setAttribute("stroke-width","2")}function o(){var e,t,n;for(e=this,e.tileParticleCenters=[],t=0,n=e.grid.allTiles.length;n>t;t+=1)e.tileParticleCenters[t]=document.createElementNS(window.hg.util.svgNamespace,"circle"),e.grid.svg.appendChild(e.tileParticleCenters[t]),e.tileParticleCenters[t].setAttribute("r","4"),e.tileParticleCenters[t].setAttribute("fill","gray")}function a(){var e,t,n;for(e=this,e.tileAnchorLines=[],e.tileAnchorCenters=[],t=0,n=e.grid.allTiles.length;n>t;t+=1)e.tileAnchorLines[t]=document.createElementNS(window.hg.util.svgNamespace,"line"),e.grid.svg.appendChild(e.tileAnchorLines[t]),e.tileAnchorLines[t].setAttribute("stroke","#666666"),e.tileAnchorLines[t].setAttribute("stroke-width","2"),e.tileAnchorCenters[t]=document.createElementNS(window.hg.util.svgNamespace,"circle"),e.grid.svg.appendChild(e.tileAnchorCenters[t]),e.tileAnchorCenters[t].setAttribute("r","4"),e.tileAnchorCenters[t].setAttribute("fill","#888888")}function l(){var e,t,n;for(e=this,e.tileDisplacementCircles=[],t=0,n=e.grid.allTiles.length;n>t;t+=1)e.tileDisplacementCircles[t]=document.createElementNS(window.hg.util.svgNamespace,"circle"),e.grid.svg.appendChild(e.tileDisplacementCircles[t]),e.tileDisplacementCircles[t].setAttribute("r","80"),e.tileDisplacementCircles[t].setAttribute("opacity","0.4"),e.tileDisplacementCircles[t].setAttribute("fill","white")}function s(){var e,t,n;for(e=this,e.tileInnerRadii=[],t=0,n=e.grid.allTiles.length;n>t;t+=1)e.tileInnerRadii[t]=document.createElementNS(window.hg.util.svgNamespace,"circle"),e.grid.svg.appendChild(e.tileInnerRadii[t]),e.tileInnerRadii[t].setAttribute("stroke","blue"),e.tileInnerRadii[t].setAttribute("stroke-width","1"),e.tileInnerRadii[t].setAttribute("fill","transparent")}function c(){var e,t,n;for(e=this,e.tileOuterRadii=[],t=0,n=e.grid.allTiles.length;n>t;t+=1)e.tileOuterRadii[t]=document.createElementNS(window.hg.util.svgNamespace,"circle"),e.grid.svg.appendChild(e.tileOuterRadii[t]),e.tileOuterRadii[t].setAttribute("stroke","green"),e.tileOuterRadii[t].setAttribute("stroke-width","1"),e.tileOuterRadii[t].setAttribute("fill","transparent")}function d(){var e,t,n,i,r,o,a,l;for(e=this,e.neighborLines=[],t=0,i=e.grid.allTiles.length;i>t;t+=1)for(o=e.grid.allTiles[t],a=o.getNeighborStates(),e.neighborLines[t]=[],n=0,r=a.length;r>n;n+=1)l=a[n],l&&(e.neighborLines[t][n]=document.createElementNS(window.hg.util.svgNamespace,"line"),e.grid.svg.appendChild(e.neighborLines[t][n]),e.neighborLines[t][n].setAttribute("stroke","purple"),e.neighborLines[t][n].setAttribute("stroke-width","1"))}function u(){var e,t,n;for(e=this,e.forceLines=[],t=0,n=e.grid.allTiles.length;n>t;t+=1)e.forceLines[t]=document.createElementNS(window.hg.util.svgNamespace,"line"),e.grid.svg.appendChild(e.forceLines[t]),e.forceLines[t].setAttribute("stroke","orange"),e.forceLines[t].setAttribute("stroke-width","2")}function g(){var e,t,n;for(e=this,e.velocityLines=[],t=0,n=e.grid.allTiles.length;n>t;t+=1)e.velocityLines[t]=document.createElementNS(window.hg.util.svgNamespace,"line"),e.grid.svg.appendChild(e.velocityLines[t]),e.velocityLines[t].setAttribute("stroke","red"),e.velocityLines[t].setAttribute("stroke-width","2")}function h(){var e,t,n;for(e=this,e.indexTexts=[],t=0,n=e.grid.allTiles.length;n>t;t+=1)e.indexTexts[t]=document.createElementNS(window.hg.util.svgNamespace,"text"),e.indexTexts[t].innerHTML=isNaN(e.grid.allTiles[t].originalIndex)?"?":e.grid.allTiles[t].originalIndex,e.grid.svg.appendChild(e.indexTexts[t]),e.indexTexts[t].setAttribute("font-size","16"),e.indexTexts[t].setAttribute("fill","black"),e.indexTexts[t].setAttribute("pointer-events","none")}function p(){var e,t,n,i,r,o,a;for(e=this,t=0,n=e.grid.sectors.length;n>t;t+=1)for(o=e.grid.sectors[t],a=60*t+20,i=0,r=o.tiles.length;r>i;i+=1)o.tiles[i].currentColor.h=a,o.tiles[i].currentColor.s=window.hg.Grid.config.tileSaturation,o.tiles[i].currentColor.l=window.hg.Grid.config.tileLightness}function f(){var e;e=this,e.currentGridCenterDot=document.createElementNS(window.hg.util.svgNamespace,"circle"),e.grid.svg.appendChild(e.currentGridCenterDot),e.currentGridCenterDot.setAttribute("r","8"),e.currentGridCenterDot.setAttribute("fill","chartreuse"),e.panCenterDot=document.createElementNS(window.hg.util.svgNamespace,"circle"),e.grid.svg.appendChild(e.panCenterDot),e.panCenterDot.setAttribute("r","5"),e.panCenterDot.setAttribute("fill","red"),e.originalGridCenterDot=document.createElementNS(window.hg.util.svgNamespace,"circle"),e.grid.svg.appendChild(e.originalGridCenterDot),e.originalGridCenterDot.setAttribute("r","2"),e.originalGridCenterDot.setAttribute("fill","yellow")}function m(){var e,t;for(e=this,e.sectorAnchorLines=[],e.sectorAnchorCenters=[],t=0;t<e.grid.sectors.length;t+=1)e.sectorAnchorLines[t]=document.createElementNS(window.hg.util.svgNamespace,"line"),e.grid.svg.appendChild(e.sectorAnchorLines[t]),e.sectorAnchorLines[t].setAttribute("stroke","#999999"),e.sectorAnchorLines[t].setAttribute("stroke-width","2"),e.sectorAnchorCenters[t]=document.createElementNS(window.hg.util.svgNamespace,"circle"),e.grid.svg.appendChild(e.sectorAnchorCenters[t]),e.sectorAnchorCenters[t].setAttribute("r","5"),e.sectorAnchorCenters[t].setAttribute("fill","#BBBBBB")}function b(){var e,t,n;for(e=this,t=0,n=e.grid.originalTiles.length;n>t;t+=1)e.grid.originalTiles[t].element.setAttribute("opacity","1")}function w(){var e,t,n;for(e=this,t=0,n=e.contentAreaGuideLines.length;n>t;t+=1)e.grid.svg.removeChild(e.contentAreaGuideLines[t]);e.contentAreaGuideLines=[]}function v(){var e,t,n;for(e=this,t=0,n=e.tileParticleCenters.length;n>t;t+=1)e.grid.svg.removeChild(e.tileParticleCenters[t]);e.tileParticleCenters=[]}function C(){var e,t,n;for(e=this,t=0,n=e.tileAnchorLines.length;n>t;t+=1)e.grid.svg.removeChild(e.tileAnchorLines[t]),e.grid.svg.removeChild(e.tileAnchorCenters[t]);e.tileAnchorLines=[],e.tileAnchorCenters=[]}function x(){var e,t,n;for(e=this,t=0,n=e.tileDisplacementCircles.length;n>t;t+=1)e.grid.svg.removeChild(e.tileDisplacementCircles[t]);e.tileDisplacementCircles=[]}function y(){var e,t,n;for(e=this,t=0,n=e.tileInnerRadii.length;n>t;t+=1)e.grid.svg.removeChild(e.tileInnerRadii[t]);e.tileInnerRadii=[]}function T(){var e,t,n;for(e=this,t=0,n=e.tileOuterRadii.length;n>t;t+=1)e.grid.svg.removeChild(e.tileOuterRadii[t]);e.tileOuterRadii=[]}function N(){var e,t,n,i,r;for(e=this,t=0,i=e.neighborLines.length;i>t;t+=1)for(n=0,r=e.neighborLines[t].length;r>n;n+=1)e.neighborLines[t][n]&&e.grid.svg.removeChild(e.neighborLines[t][n]);e.neighborLines=[]}function A(){var e,t,n;for(e=this,t=0,n=e.forceLines.length;n>t;t+=1)e.grid.svg.removeChild(e.forceLines[t]);e.forceLines=[]}function S(){var e,t,n;for(e=this,t=0,n=e.velocityLines.length;n>t;t+=1)e.grid.svg.removeChild(e.velocityLines[t]);e.velocityLines=[]}function D(){var e,t,n;for(e=this,t=0,n=e.indexTexts.length;n>t;t+=1)e.grid.svg.removeChild(e.indexTexts[t]);e.indexTexts=[]}function R(){var e,t,n;for(e=this,t=0,n=e.lineAnimationGapDots.length;n>t;t+=1)e.grid.svg.removeChild(e.lineAnimationGapDots[t]);e.lineAnimationGapDots=[]}function P(){var e,t,n;for(e=this,t=0,n=e.lineAnimationSelfCornerDots.length;n>t;t+=1)e.grid.svg.removeChild(e.lineAnimationSelfCornerDots[t]);for(t=0,n=e.lineAnimationLowerNeighborCornerDots.length;n>t;t+=1)e.grid.svg.removeChild(e.lineAnimationLowerNeighborCornerDots[t]);for(t=0,n=e.lineAnimationUpperNeighborCornerDots.length;n>t;t+=1)e.grid.svg.removeChild(e.lineAnimationUpperNeighborCornerDots[t]);
e.lineAnimationSelfCornerDots=[],e.lineAnimationLowerNeighborCornerDots=[],e.lineAnimationUpperNeighborCornerDots=[]}function L(){var e;e=this,e.originalGridCenterDot&&(e.grid.svg.removeChild(e.originalGridCenterDot),e.grid.svg.removeChild(e.currentGridCenterDot),e.grid.svg.removeChild(e.panCenterDot),e.originalGridCenterDot=null,e.currentGridCenterDot=null,e.panCenterDot=null)}function I(){var e,t;for(e=this,t=0;t<e.sectorAnchorLines.length;t+=1)e.grid.svg.removeChild(e.sectorAnchorLines[t]),e.grid.svg.removeChild(e.sectorAnchorCenters[t]);e.sectorAnchorLines=[],e.sectorAnchorCenters=[]}function E(){var e,t,n;for(e=this,t=0,n=e.grid.allTiles.length;n>t;t+=1)e.tileParticleCenters[t].setAttribute("cx",e.grid.allTiles[t].particle.px),e.tileParticleCenters[t].setAttribute("cy",e.grid.allTiles[t].particle.py)}function O(){var e,t,n;for(e=this,t=0,n=e.grid.allTiles.length;n>t;t+=1)e.tileAnchorLines[t].setAttribute("x1",e.grid.allTiles[t].particle.px),e.tileAnchorLines[t].setAttribute("y1",e.grid.allTiles[t].particle.py),e.tileAnchorLines[t].setAttribute("x2",e.grid.allTiles[t].currentAnchor.x),e.tileAnchorLines[t].setAttribute("y2",e.grid.allTiles[t].currentAnchor.y),e.tileAnchorCenters[t].setAttribute("cx",e.grid.allTiles[t].currentAnchor.x),e.tileAnchorCenters[t].setAttribute("cy",e.grid.allTiles[t].currentAnchor.y)}function J(){var e,t,n,i,r,o,a,l;for(e=this,t=0,n=e.grid.allTiles.length;n>t;t+=1)i=e.grid.allTiles[t].particle.px-e.grid.allTiles[t].originalAnchor.x,r=e.grid.allTiles[t].particle.py-e.grid.allTiles[t].originalAnchor.y,o=180*Math.atan2(i,r)/Math.PI,a=Math.sqrt(i*i+r*r),l="hsl("+o+","+a/window.hg.DisplacementWaveJob.config.displacementAmplitude*100+"%,80%)",e.tileDisplacementCircles[t].setAttribute("fill",l),e.tileDisplacementCircles[t].setAttribute("cx",e.grid.allTiles[t].particle.px),e.tileDisplacementCircles[t].setAttribute("cy",e.grid.allTiles[t].particle.py)}function G(){var e,t,n;for(e=this,t=0,n=e.grid.allTiles.length;n>t;t+=1)e.tileInnerRadii[t].setAttribute("cx",e.grid.allTiles[t].particle.px),e.tileInnerRadii[t].setAttribute("cy",e.grid.allTiles[t].particle.py),e.tileInnerRadii[t].setAttribute("r",e.grid.allTiles[t].outerRadius*window.hg.Grid.config.sqrtThreeOverTwo)}function F(){var e,t,n;for(e=this,t=0,n=e.grid.allTiles.length;n>t;t+=1)e.tileOuterRadii[t].setAttribute("cx",e.grid.allTiles[t].particle.px),e.tileOuterRadii[t].setAttribute("cy",e.grid.allTiles[t].particle.py),e.tileOuterRadii[t].setAttribute("r",e.grid.allTiles[t].outerRadius)}function W(){var e,t,n,i,r,o,a,l;for(e=this,t=0,i=e.grid.allTiles.length;i>t;t+=1)for(o=e.grid.allTiles[t],a=o.getNeighborStates(),n=0,r=a.length;r>n;n+=1)l=a[n],l&&(e.neighborLines[t][n].setAttribute("x1",o.particle.px),e.neighborLines[t][n].setAttribute("y1",o.particle.py),e.neighborLines[t][n].setAttribute("x2",l.tile.particle.px),e.neighborLines[t][n].setAttribute("y2",l.tile.particle.py))}function H(){var e,t,n;for(e=this,t=0,n=e.grid.allTiles.length;n>t;t+=1)e.forceLines[t].setAttribute("x1",e.grid.allTiles[t].particle.px),e.forceLines[t].setAttribute("y1",e.grid.allTiles[t].particle.py),e.forceLines[t].setAttribute("x2",e.grid.allTiles[t].particle.px+e.grid.allTiles[t].particle.fx*tt.forceLineLengthMultiplier),e.forceLines[t].setAttribute("y2",e.grid.allTiles[t].particle.py+e.grid.allTiles[t].particle.fy*tt.forceLineLengthMultiplier)}function B(){var e,t,n;for(e=this,t=0,n=e.grid.allTiles.length;n>t;t+=1)e.velocityLines[t].setAttribute("x1",e.grid.allTiles[t].particle.px),e.velocityLines[t].setAttribute("y1",e.grid.allTiles[t].particle.py),e.velocityLines[t].setAttribute("x2",e.grid.allTiles[t].particle.px+e.grid.allTiles[t].particle.vx*tt.velocityLineLengthMultiplier),e.velocityLines[t].setAttribute("y2",e.grid.allTiles[t].particle.py+e.grid.allTiles[t].particle.vy*tt.velocityLineLengthMultiplier)}function V(){var e,t,n;for(e=this,t=0,n=e.grid.allTiles.length;n>t;t+=1)e.indexTexts[t].setAttribute("x",e.grid.allTiles[t].particle.px-10),e.indexTexts[t].setAttribute("y",e.grid.allTiles[t].particle.py+6)}function M(){var e,t,n,i,r,o,a;for(e=this,R.call(e),e.lineAnimationGapDots=[],o=0,t=0,n=window.hg.controller.transientJobs.line.jobs[e.grid.index].length;n>t;t+=1)for(a=window.hg.controller.transientJobs.line.jobs[e.grid.index][t],i=0,r=a.gapPoints.length;r>i;i+=1,o+=1)e.lineAnimationGapDots[o]=document.createElementNS(window.hg.util.svgNamespace,"circle"),e.lineAnimationGapDots[o].setAttribute("cx",a.gapPoints[i].x),e.lineAnimationGapDots[o].setAttribute("cy",a.gapPoints[i].y),e.lineAnimationGapDots[o].setAttribute("r","4"),e.lineAnimationGapDots[o].setAttribute("fill","white"),e.grid.svg.appendChild(e.lineAnimationGapDots[o])}function k(){function e(e,t){return{x:e.vertices[2*t],y:e.vertices[2*t+1]}}var t,n,i,r,o,a,l,s;for(t=this,P.call(t),t.lineAnimationSelfCornerDots=[],t.lineAnimationLowerNeighborCornerDots=[],t.lineAnimationUpperNeighborCornerDots=[],n=0,i=window.hg.controller.transientJobs.line.jobs[t.grid.index].length;i>n;n+=1)for(a=window.hg.controller.transientJobs.line.jobs[t.grid.index][n],r=0,o=a.corners.length;o>r;r+=1)l=e(a.tiles[r],a.corners[r]),s=document.createElementNS(window.hg.util.svgNamespace,"circle"),s.setAttribute("cx",l.x),s.setAttribute("cy",l.y),s.setAttribute("r","3"),s.setAttribute("fill","#ffaaaa"),t.grid.svg.appendChild(s),t.lineAnimationSelfCornerDots.push(s),a.lowerNeighbors[r]&&(l=e(a.lowerNeighbors[r].tile,a.lowerNeighborCorners[r]),s=document.createElementNS(window.hg.util.svgNamespace,"circle"),s.setAttribute("cx",l.x),s.setAttribute("cy",l.y),s.setAttribute("r","3"),s.setAttribute("fill","#aaffaa"),t.grid.svg.appendChild(s),t.lineAnimationLowerNeighborCornerDots.push(s)),a.upperNeighbors[r]&&(l=e(a.upperNeighbors[r].tile,a.upperNeighborCorners[r]),s=document.createElementNS(window.hg.util.svgNamespace,"circle"),s.setAttribute("cx",l.x),s.setAttribute("cy",l.y),s.setAttribute("r","3"),s.setAttribute("fill","#aaaaff"),t.grid.svg.appendChild(s),t.lineAnimationUpperNeighborCornerDots.push(s))}function j(){var e,t;e=this,e.originalGridCenterDot&&(e.originalGridCenterDot.setAttribute("cx",e.grid.originalCenter.x),e.originalGridCenterDot.setAttribute("cy",e.grid.originalCenter.y),e.currentGridCenterDot.setAttribute("cx",e.grid.currentCenter.x),e.currentGridCenterDot.setAttribute("cy",e.grid.currentCenter.y),e.panCenterDot.setAttribute("cx",e.grid.panCenter.x),e.panCenterDot.setAttribute("cy",e.grid.panCenter.y),t=window.hg.controller.transientJobs.pan.jobs[e.grid.index][0],t&&(t.baseTile.currentColor.h=0,t.baseTile.currentColor.s=0,t.baseTile.currentColor.l=90))}function _(){var e,t,n,i,r,o;for(e=this,t=0;t<e.sectorAnchorLines.length;t+=1)n=e.grid.sectors[t].currentAnchor.x,i=e.grid.sectors[t].currentAnchor.y,r=e.grid.sectors[t].originalAnchor.x-e.grid.sectors[t].expandedDisplacement.x,o=e.grid.sectors[t].originalAnchor.y-e.grid.sectors[t].expandedDisplacement.y,e.sectorAnchorLines[t].setAttribute("x1",n),e.sectorAnchorLines[t].setAttribute("y1",i),e.sectorAnchorLines[t].setAttribute("x2",r),e.sectorAnchorLines[t].setAttribute("y2",o),e.sectorAnchorCenters[t].setAttribute("cx",r),e.sectorAnchorCenters[t].setAttribute("cy",o)}function X(e,t){var n;n=this,n.annotations[e].enabled=t,t?n.annotations[e].create.call(n):n.annotations[e].destroy.call(n)}function q(){var e,t,n;for(e=this,t=0,n=tt.annotationsArray.length;n>t;t+=1)tt.annotationsArray[t].enabled&&tt.annotationsArray[t].create.call(e)}function z(){var e,t,n;for(e=this,t=0,n=tt.annotationsArray.length;n>t;t+=1)tt.annotationsArray[t].destroy.call(e)}function U(){var e;e=this,e.annotations.tileNeighborConnections.enabled&&(N.call(e),d.call(e))}function Y(){var e=this;e.isComplete=!1}function $(){var e,t,n;for(e=this,t=0,n=tt.annotationsArray.length;n>t;t+=1)tt.annotationsArray[t].enabled&&tt.annotationsArray[t].update.call(e)}function Q(){}function K(){var e=this;e.isComplete=!0}function Z(){tt.computeDependentValues()}function et(e){var t=this;t.grid=e,t.startTime=0,t.isComplete=!0,t.annotations=window.hg.util.shallowCopy(tt.annotations),t.contentAreaGuideLines=[],t.tileParticleCenters=[],t.tileAnchorLines=[],t.tileAnchorCenters=[],t.tileDisplacementCircles=[],t.tileInnerRadii=[],t.tileOuterRadii=[],t.neighborLines=[],t.forceLines=[],t.velocityLines=[],t.indexTexts=[],t.lineAnimationGapDots=[],t.lineAnimationSelfCornerDots=[],t.lineAnimationLowerNeighborCornerDots=[],t.lineAnimationUpperNeighborCornerDots=[],t.sectorAnchorLines=[],t.sectorAnchorCenters=[],t.originalGridCenterDot=null,t.currentGridCenterDot=null,t.panCenterDot=null,t.toggleAnnotationEnabled=X,t.createAnnotations=q,t.destroyAnnotations=z,t.setExpandedAnnotations=U,t.start=Y,t.update=$,t.draw=Q,t.cancel=K,t.init=Z}var tt={};tt.forceLineLengthMultiplier=4e3,tt.velocityLineLengthMultiplier=300,tt.contentTileHue=187,tt.contentTileSaturation=50,tt.contentTileLightness=30,tt.borderTileHue=267,tt.borderTileSaturation=0,tt.borderTileLightness=30,tt.cornerTileHue=267,tt.cornerTileSaturation=50,tt.cornerTileLightness=30,tt.annotations={sectorColors:{enabled:!1,create:p,destroy:function(){},update:p,priority:0},contentTiles:{enabled:!1,create:e,destroy:function(){},update:e,priority:100},borderTiles:{enabled:!1,create:t,destroy:function(){},update:t,priority:200},cornerTiles:{enabled:!1,create:n,destroy:function(){},update:n,priority:300},transparentTiles:{enabled:!1,create:i,destroy:b,update:function(){},priority:400},tileAnchorCenters:{enabled:!1,create:a,destroy:C,update:O,priority:500},tileParticleCenters:{enabled:!1,create:o,destroy:v,update:E,priority:600},tileDisplacementColors:{enabled:!1,create:l,destroy:x,update:J,priority:700},tileInnerRadii:{enabled:!1,create:s,destroy:y,update:G,priority:800},tileOuterRadii:{enabled:!1,create:c,destroy:T,update:F,priority:900},tileIndices:{enabled:!1,create:h,destroy:D,update:V,priority:1e3},tileForces:{enabled:!1,create:u,destroy:A,update:H,priority:1100},tileVelocities:{enabled:!1,create:g,destroy:S,update:B,priority:1200},tileNeighborConnections:{enabled:!1,create:d,destroy:N,update:W,priority:1300},contentAreaGuidelines:{enabled:!1,create:r,destroy:w,update:function(){},priority:1400},lineAnimationGapPoints:{enabled:!1,create:function(){},destroy:R,update:M,priority:1500},lineAnimationCornerData:{enabled:!1,create:function(){},destroy:P,update:k,priority:1600},panCenterPoints:{enabled:!1,create:f,destroy:L,update:j,priority:1700},sectorAnchorCenters:{enabled:!1,create:m,destroy:I,update:_,priority:1800}},tt.annotationsArray=[],tt.computeDependentValues=function(){tt.annotationsArray=Object.keys(tt.annotations).map(function(e){return tt.annotations[e]}),tt.annotationsArray.sort(function(e,t){return e.priority-t.priority})},tt.computeDependentValues(),et.config=tt,window.hg=window.hg||{},window.hg.Annotations=et,console.log("Annotations module loaded")}(),function(){function e(){var e,t,n,i,r,o,a,l,s;for(e=this,t=.5*e.parent.clientWidth,n=e.parent.clientHeight,e.originalCenter.x=t,e.originalCenter.y=.5*n,e.currentCenter.x=e.originalCenter.x,e.currentCenter.y=e.originalCenter.y,e.panCenter.x=e.originalCenter.x,e.panCenter.y=e.originalCenter.y,e.actualContentAreaWidth=e.parent.clientWidth<N.targetContentAreaWidth?e.parent.clientWidth:N.targetContentAreaWidth,e.isVertical?(e.rowDeltaY=1.5*N.tileOuterRadius+N.tileGap*N.sqrtThreeOverTwo,e.tileDeltaX=N.tileShortLengthWithGap,e.oddRowTileCount=2*Math.ceil((t-(N.tileInnerRadius+N.tileGap))/N.tileShortLengthWithGap)+1,e.evenRowTileCount=2*Math.ceil((t-(N.tileShortLengthWithGap+.5*N.tileGap))/N.tileShortLengthWithGap)+2,e.oddRowXOffset=t-N.tileShortLengthWithGap*(e.oddRowTileCount-1)/2,e.rowCount=Math.ceil((n-(N.firstRowYOffset+2*N.tileOuterRadius+N.tileGap*Math.sqrt(3)))/e.rowDeltaY)+2):(e.rowDeltaY=N.tileInnerRadius+.5*N.tileGap,e.tileDeltaX=3*N.tileOuterRadius+N.tileGap*Math.sqrt(3),e.oddRowTileCount=2*Math.ceil((t-(e.tileDeltaX-N.tileOuterRadius))/e.tileDeltaX)+1,e.evenRowTileCount=2*Math.ceil((t-(e.tileDeltaX+N.tileGap*N.sqrtThreeOverTwo+.5*N.tileOuterRadius))/e.tileDeltaX)+2,e.oddRowXOffset=t-e.tileDeltaX*(e.oddRowTileCount-1)/2,e.rowCount=Math.ceil((n-(N.firstRowYOffset+3*N.tileInnerRadius+2*N.tileGap))/e.rowDeltaY)+4),e.evenRowXOffset=e.oddRowXOffset+(e.evenRowTileCount>e.oddRowTileCount?-1:1)*e.tileDeltaX*.5,e.contentAreaLeft=t-.5*e.actualContentAreaWidth,e.contentAreaRight=e.contentAreaLeft+e.actualContentAreaWidth,e.isVertical?(e.oddRowContentStartIndex=Math.ceil((e.contentAreaLeft-(e.oddRowXOffset-N.tileInnerRadius))/e.tileDeltaX),e.evenRowContentStartIndex=Math.ceil((e.contentAreaLeft-(e.evenRowXOffset-N.tileInnerRadius))/e.tileDeltaX)):(e.oddRowContentStartIndex=Math.ceil((e.contentAreaLeft-(e.oddRowXOffset-N.tileOuterRadius))/e.tileDeltaX),e.evenRowContentStartIndex=Math.ceil((e.contentAreaLeft-(e.evenRowXOffset-N.tileOuterRadius))/e.tileDeltaX)),e.oddRowContentTileCount=e.oddRowTileCount-2*e.oddRowContentStartIndex,e.evenRowContentTileCount=e.evenRowTileCount-2*e.evenRowContentStartIndex,e.oddRowContentEndIndex=e.oddRowContentStartIndex+e.oddRowContentTileCount-1,e.evenRowContentEndIndex=e.evenRowContentStartIndex+e.evenRowContentTileCount-1,e.actualContentInnerIndices=[],l=Math.ceil(N.contentStartingRowIndex/2)*e.oddRowContentTileCount+Math.floor(N.contentStartingRowIndex/2)*e.evenRowContentTileCount,o=0,a=e.originalContentInnerIndices.length;a>o;o+=1)e.actualContentInnerIndices[o]=e.originalContentInnerIndices[o]+l;for(e.innerIndexOfLastContentTile=e.actualContentInnerIndices[e.actualContentInnerIndices.length-1],s=l+e.innerIndexOfLastContentTile+1,i=0,r=0;s>i;)i+=r%2===0?e.oddRowContentTileCount:e.evenRowContentTileCount,r+=1;r>e.rowCount?(e.rowCount=r,e.height=(e.rowCount-2)*e.rowDeltaY):e.height=n}function t(){var e,t,n,i,r;for(e=this,r=[],i=e.postData.length,t=0;i>t;t+=1)r[t]=1;for(i=1/N.contentDensity*e.postData.length,t=e.postData.length;i>t;t+=1)r[t]=0;for(r=window.hg.util.shuffle(r),e.originalContentInnerIndices=[],t=0,n=0,i=r.length;i>t;t+=1)r[t]&&(e.originalContentInnerIndices[n++]=t)}function n(){var e;e=this,e.svg=document.createElementNS(window.hg.util.svgNamespace,"svg"),e.parent.appendChild(e.svg),e.svg.style.display="block",e.svg.style.position="relative",e.svg.style.width="1px",e.svg.style.height="1px",e.svg.style.zIndex="1000",e.svg.style.overflow="visible",e.svg.setAttribute("data-hg-svg","data-hg-svg"),e.svgDefs=document.createElementNS(window.hg.util.svgNamespace,"defs"),e.svg.appendChild(e.svgDefs)}function i(){var e,t,n,i,l,s,c,d,u,g,h,p,f,m,b,w,v,C;for(e=this,e.originalTiles=[],e.originalBorderTiles=[],t=0,f=0,m=0,d=N.firstRowYOffset,i=e.rowCount,w=[],b=a.call(e),v=e.oddRowTileCount>e.evenRowTileCount,n=0;i>n;n+=1,d+=e.rowDeltaY)for(p=n%2===0,C=v&&p||!v&&!p,p?(c=e.oddRowXOffset,s=e.oddRowTileCount):(c=e.evenRowXOffset,s=e.evenRowTileCount),l=0;s>l;t+=1,l+=1,c+=e.tileDeltaX)u=p?l<e.oddRowContentStartIndex||l>e.oddRowContentEndIndex:l<e.evenRowContentStartIndex||l>e.evenRowContentEndIndex,g=e.isVertical?0===l||l===s-1||0===n||n===i-1:1>=n||n>=i-2||C&&(0===l||l===s-1),h=g&&(e.isVertical?!(0!==l&&l!==s-1||0!==n&&n!==i-1):(1>=n||n>=i-2)&&C&&(0===l||l===s-1)),e.originalTiles[t]=new window.hg.Tile(e.svg,e,c,d,N.tileOuterRadius,e.isVertical,N.tileHue,N.tileSaturation,N.tileLightness,null,t,n,l,u,g,h,C,N.tileMass),g&&e.originalBorderTiles.push(e.originalTiles[t]),u||(f===e.actualContentInnerIndices[m]&&(e.originalTiles[t].setContent(e.postData[m]),e.contentTiles[m]=e.originalTiles[t],m+=1),f+=1),w[t]=o.call(e,n,i,l,s,C,b);r.call(e,w),x.call(e,e.originalTiles)}function r(e){var t,n,i,r,o,a;for(t=this,a=[],n=0,r=t.originalTiles.length;r>n;n+=1){for(i=0,o=6;o>i;i+=1)a[i]=isNaN(e[n][i])?null:t.originalTiles[n+e[n][i]];t.originalTiles[n].setNeighborTiles(a)}}function o(e,t,n,i,r,o){var a,l;return a=this,l=o.slice(0),a.isVertical?(r?(0===n&&(l[3]=Number.NaN,l[4]=Number.NaN,l[5]=Number.NaN),n===i-1&&(l[0]=Number.NaN,l[1]=Number.NaN,l[2]=Number.NaN)):(0===n&&(l[4]=Number.NaN),n===i-1&&(l[1]=Number.NaN)),0===e&&(l[0]=Number.NaN,l[5]=Number.NaN),e===t-1&&(l[2]=Number.NaN,l[3]=Number.NaN)):(r&&(0===n&&(l[4]=Number.NaN,l[5]=Number.NaN),n===i-1&&(l[1]=Number.NaN,l[2]=Number.NaN)),0===e?(l[0]=Number.NaN,l[1]=Number.NaN,l[5]=Number.NaN):1===e&&(l[0]=Number.NaN),e===t-1?(l[2]=Number.NaN,l[3]=Number.NaN,l[4]=Number.NaN):e===t-2&&(l[3]=Number.NaN)),l}function a(){var e,t,n;return e=this,n=[],t=e.oddRowTileCount>e.evenRowTileCount?e.oddRowTileCount:e.evenRowTileCount,e.isVertical?(n[0]=-t+1,n[1]=1,n[2]=t,n[3]=t-1,n[4]=-1,n[5]=-t):(n[0]=2*-t+1,n[1]=-t+1,n[2]=t,n[3]=2*t-1,n[4]=t-1,n[5]=-t),n}function l(){var e,t;for(e=this,t=e.svg,e.annotations.destroyAnnotations();t.firstChild;)t.removeChild(t.firstChild);e.svg.appendChild(e.svgDefs)}function s(){var e,t,n;for(e=this,t=0,n=e.allTiles.length;n>t;t+=1)e.allTiles[t].element.setAttribute("data-hg-index",t)}function c(){var e=this;console.log("// --- Grid Info: ------- //"),console.log("// - Tile count="+e.originalTiles.length),console.log("// - Row count="+e.rowCount),console.log("// - Odd row tile count="+e.oddRowTileCount),console.log("// - Even row tile count="+e.evenRowTileCount),console.log("// ------------------------- //")}function d(){var t;t=this,t.originalCenter={x:Number.NaN,y:Number.NaN},t.currentCenter={x:Number.NaN,y:Number.NaN},t.panCenter={x:Number.NaN,y:Number.NaN},t.isPostOpen=!1,t.isTransitioning=!1,t.expandedTile=null,t.sectors=[],t.allTiles=null,t.allNonContentTiles=null,t.lastExpansionJob=null,t.parent.style.overflow="auto",l.call(t),e.call(t),i.call(t),c.call(t)}function u(){var e=this;e.parent.style.backgroundColor="hsl("+N.backgroundHue+","+N.backgroundSaturation+"%,"+N.backgroundLightness+"%)"}function g(){var e,t,n;for(e=this,t=0,n=e.allNonContentTiles.length;n>t;t+=1)e.allNonContentTiles[t].setColor(N.tileHue,N.tileSaturation,N.tileLightness)}function h(e){var t,n,i;for(t=this,n=0,i=t.allTiles.length;i>n;n+=1)t.allTiles[n].particle.m=e}function p(){var e=this;e.isComplete=!1}function f(e,t){var n,i,r;for(n=this,i=0,r=n.allTiles.length;r>i;i+=1)n.allTiles[i].update(e,t)}function m(){var e,t,n;for(e=this,t=0,n=e.allTiles.length;n>t;t+=1)e.allTiles[t].draw()}function b(){var e=this;e.isComplete=!0}function w(e){var t=this;t.hoveredTile&&t.hoveredTile.setIsHighlighted(!1),e&&e.setIsHighlighted(!0),t.hoveredTile=e}function v(e,t){var n=this;return n.pagePost=new window.hg.PagePost(e,t),n.pagePost}function C(){var e=this;e.pagePost.destroy(),e.pagePost=null}function x(e){var t,n,i,r=this;for(r.allTiles=e,r.allNonContentTiles=[],i=0,t=0,n=e.length;n>t;t+=1)e[t].holdsContent||(r.allNonContentTiles[i++]=e[t]);r.annotations.destroyAnnotations(),r.annotations.createAnnotations(),s.call(r)}function y(){N.computeDependentValues()}function T(e,i,r,o){var a=this;a.index=e,a.parent=i,a.postData=r,a.isVertical=o,a.actualContentAreaWidth=N.targetContentAreaWidth,a.isComplete=!0,a.svg=null,a.svgDefs=null,a.originalTiles=[],a.originalBorderTiles=[],a.contentTiles=[],a.originalContentInnerIndices=null,a.innerIndexOfLastContentTile=null,a.originalCenter=null,a.currentCenter=null,a.panCenter=null,a.isPostOpen=!1,a.pagePost=null,a.isTransitioning=!1,a.expandedTile=null,a.sectors=null,a.allTiles=null,a.allNonContentTiles=null,a.lastExpansionJob=null,a.annotations=new window.hg.Annotations(a),a.actualContentAreaWidth=Number.NaN,a.rowDeltaY=Number.NaN,a.tileDeltaX=Number.NaN,a.tileNeighborDistance=Number.NaN,a.oddRowTileCount=Number.NaN,a.evenRowTileCount=Number.NaN,a.oddRowXOffset=Number.NaN,a.rowCount=Number.NaN,a.evenRowXOffset=Number.NaN,a.contentAreaLeft=Number.NaN,a.contentAreaRight=Number.NaN,a.oddRowContentStartIndex=Number.NaN,a.evenRowContentStartIndex=Number.NaN,a.oddRowContentTileCount=Number.NaN,a.evenRowContentTileCount=Number.NaN,a.oddRowContentEndIndex=Number.NaN,a.evenRowContentEndIndex=Number.NaN,a.actualContentInnerIndices=Number.NaN,a.innerIndexOfLastContentTile=Number.NaN,a.rowCount=Number.NaN,a.height=Number.NaN,a.resize=d,a.start=p,a.update=f,a.draw=m,a.cancel=b,a.init=y,a.setBackgroundColor=u,a.updateTileColor=g,a.updateTileMass=h,a.computeContentIndices=t,a.setHoveredTile=w,a.createPagePost=v,a.destroyPagePost=C,a.updateAllTilesCollection=x,n.call(a),u.call(a),t.call(a),d.call(a)}var N={};N.targetContentAreaWidth=800,N.backgroundHue=230,N.backgroundSaturation=2,N.backgroundLightness=8,N.tileHue=230,N.tileSaturation=50,N.tileLightness=30,N.tileOuterRadius=80,N.tileGap=12,N.contentStartingRowIndex=2,N.firstRowYOffset=N.tileOuterRadius*-.8,N.contentDensity=.6,N.tileMass=1,N.computeDependentValues=function(){N.sqrtThreeOverTwo=Math.sqrt(3)/2,N.twoOverSqrtThree=2/Math.sqrt(3),N.tileInnerRadius=N.tileOuterRadius*N.sqrtThreeOverTwo,N.longGap=N.tileGap*N.twoOverSqrtThree,N.tileShortLengthWithGap=2*N.tileInnerRadius+N.tileGap,N.tileLongLengthWithGap=2*N.tileOuterRadius+N.longGap},N.computeDependentValues(),T.config=N,window.hg=window.hg||{},window.hg.Grid=T,console.log("Grid module loaded")}(),function(){function e(){function e(e){var t;(t=a(e))&&(t.element.getAttribute("data-hg-post-tile"),l.grid.setHoveredTile(t))}function n(e){var t;e.relatedTarget&&"HTML"!==e.relatedTarget.nodeName?(t=a(e))&&(t.element.getAttribute("data-hg-post-tile"),l.grid.setHoveredTile(null),window.hg.controller.transientJobs.highlightHover.create(l.grid,t),e.stopPropagation()):(console.log("The mouse left the viewport"),l.grid.setHoveredTile(null))}function i(e){e.target.getAttribute("data-hg-post-tile")||e.target.getAttribute("data-hg-tile")}function r(e){e.target.getAttribute("data-hg-post-tile")}function o(e){var n;0===e.button&&(n=a(e))&&(n.element.getAttribute("data-hg-post-tile"),t(l.grid,n))}function a(e){var t;return e.target.getAttribute("data-hg-tile")?(t=e.target.getAttribute("data-hg-index"),l.grid.allTiles[t]):null}var l;l=this,document.addEventListener("mouseover",e,!1),document.addEventListener("mouseout",n,!1),document.addEventListener("mousemove",i,!1),document.addEventListener("mousedown",r,!1),document.addEventListener("mouseup",o,!1)}function t(e,t){t.holdsContent?(i.possibleClickAnimations[i.contentTileClickAnimation](e,t),window.hg.controller.transientJobs.openPost.create(e,t)):i.possibleClickAnimations[i.emptyTileClickAnimation](e,t)}function n(t){var n=this;n.grid=t,e.call(n)}var i={};i.contentTileClickAnimation="Radiate Highlight",i.emptyTileClickAnimation="Radiate Highlight",i.possibleClickAnimations={"Radiate Highlight":window.hg.controller.transientJobs.highlightRadiate.create,"Radiate Lines":window.hg.controller.transientJobs.linesRadiate.create,"Random Line":window.hg.controller.transientJobs.line.create,None:function(){}},n.config=i,window.hg=window.hg||{},window.hg.Input=n,console.log("Input module loaded")}(),function(){function e(){var e,n,i,o,a=this,l=window.hg.Grid.config.tileShortLengthWithGap*(window.hg.OpenPostJob.config.expandedDisplacementTileCount+4.25),s=2*window.hg.Grid.config.longGap*window.hg.OpenPostJob.config.expandedDisplacementTileCount+window.hg.Grid.config.tileOuterRadius*(3*window.hg.OpenPostJob.config.expandedDisplacementTileCount+2),c=1.15*window.hg.Grid.config.tileShortLengthWithGap,d=2.25*window.hg.Grid.config.tileOuterRadius;a.tile.grid.isVertical?(e=l,n=s,i=c,o=d):(e=s,n=l,i=d,o=c),e-=2*i,n-=2*o,a.paddingX=i,a.paddingY=o,a.halfWidth=e/2,a.halfHeight=n/2;var u=document.createElement("div"),g=document.createElement("h1"),h=document.createElement("div");a.tile.grid.parent.appendChild(u),u.appendChild(g),u.appendChild(h),a.elements=[],a.elements.container=u,a.elements.title=g,a.elements.content=h,u.setAttribute("data-hg-post-container","data-hg-post-container"),u.style.position="absolute",u.style.width=e+"px",u.style.height=n+"px",u.style.margin="0px",u.style.padding=a.paddingY+"px "+a.paddingX+"px",u.style.overflow="auto",u.style.fontSize=r.fontSize+"px",u.style.fontFamily='"Open Sans", sans-serif',u.style.color="#F4F4F4",u.style.zIndex="500",g.innerHTML=a.tile.postData.titleLong,g.style.fontSize=r.titleFontSize+"px",g.style.fontFamily='"Open Sans", sans-serif',g.style.textAlign="center";var p=new Showdown.converter({extensions:"github"});h.innerHTML=p.makeHtml(a.tile.postData.content),t.call(a)}function t(){var e=this;e.elements.container.style.left=e.center.x-e.halfWidth-e.paddingX+"px",e.elements.container.style.top=e.center.y-e.halfHeight-e.paddingY+"px",e.elements.container.style.opacity=e.opacity}function n(){var e=this;e.tile.grid.parent.removeChild(e.elements.container),e.elements=null}function i(i,r){var o=this;o.tile=i,o.elements=null,o.opacity=0,o.paddingX=Number.NaN,o.paddingY=Number.NaN,o.halfWidth=Number.NaN,o.halfHeight=Number.NaN,o.center={x:r.x,y:r.y},o.draw=t,o.destroy=n,e.call(o),console.log("PagePost created: postId="+i.postData.id+", tileIndex="+i.originalIndex)}var r;r={},r.fontSize=18,r.titleFontSize=24,r.computeDependentValues=function(){},r.computeDependentValues(),i.config=r,window.hg=window.hg||{},window.hg.PagePost=i,console.log("PagePost module loaded")}(),function(){function e(){var e,t,n,i;e=this,e.majorNeighborIndex=e.index,e.minorNeighborIndex=(e.index+1)%6,e.majorNeighborDelta.x=e.baseTile.neighborStates[e.majorNeighborIndex].tile.originalAnchor.x-e.baseTile.originalAnchor.x,e.majorNeighborDelta.y=e.baseTile.neighborStates[e.majorNeighborIndex].tile.originalAnchor.y-e.baseTile.originalAnchor.y,e.minorNeighborDelta.x=e.baseTile.neighborStates[e.minorNeighborIndex].tile.originalAnchor.x-e.baseTile.originalAnchor.x,e.minorNeighborDelta.y=e.baseTile.neighborStates[e.minorNeighborIndex].tile.originalAnchor.y-e.baseTile.originalAnchor.y,t=(e.index+5)%6,n=e.baseTile.neighborStates[t].tile.originalAnchor.x-e.baseTile.originalAnchor.x,i=e.baseTile.neighborStates[t].tile.originalAnchor.y-e.baseTile.originalAnchor.y,e.expandedDisplacement.x=e.expandedDisplacementTileCount*n,e.expandedDisplacement.y=e.expandedDisplacementTileCount*i,e.originalAnchor.x=e.baseTile.originalAnchor.x+e.majorNeighborDelta.x,e.originalAnchor.y=e.baseTile.originalAnchor.y+e.majorNeighborDelta.y,e.currentAnchor.x=e.originalAnchor.x,e.currentAnchor.y=e.originalAnchor.y}function t(){var e;e=this,e.tilesByIndex=[],e.newTiles=[],e.tiles=[],n.call(e),i.call(e),a.call(e),l.call(e)}function n(){function e(){var e,t,i,o;i=0,e=n.baseTile.neighborStates[n.majorNeighborIndex].tile;do{t=e,o=0,n.tilesByIndex[i]=n.tilesByIndex[i]||[];do n.tilesByIndex[i][o]||r.call(n,t,i,o),o++;while(t.neighborStates[n.minorNeighborIndex]&&(t=t.neighborStates[n.minorNeighborIndex].tile));i++}while(e.neighborStates[n.majorNeighborIndex]&&(e=e.neighborStates[n.majorNeighborIndex].tile))}function t(){var e,t,i,o;o=0,e=n.baseTile.neighborStates[n.majorNeighborIndex].tile;do{t=e,i=0;do n.tilesByIndex[i]=n.tilesByIndex[i]||[],n.tilesByIndex[i][o]||r.call(n,t,i,o),i++;while(t.neighborStates[n.majorNeighborIndex]&&(t=t.neighborStates[n.majorNeighborIndex].tile));o++}while(e.neighborStates[n.minorNeighborIndex]&&(e=e.neighborStates[n.minorNeighborIndex].tile))}var n;n=this,e(),t()}function i(){function e(){var e,t,i,r,a,l;e=n.baseTile.originalAnchor.x+n.majorNeighborDelta.x,t=n.baseTile.originalAnchor.y+n.majorNeighborDelta.y,a=0,l=0,i=e,r=t;do{n.tilesByIndex[a]=n.tilesByIndex[a]||[];do n.tilesByIndex[a][l]||o.call(n,a,l,i,r),l++,i+=n.minorNeighborDelta.x,r+=n.minorNeighborDelta.y;while(i>=d&&u>=i&&r>=g&&h>=r);a++,l=0,i=e+a*n.majorNeighborDelta.x,r=t+a*n.majorNeighborDelta.y}while(i>=d&&u>=i&&r>=g&&h>=r)}function t(){var e,t,i,r,a,l;e=n.baseTile.originalAnchor.x+n.majorNeighborDelta.x,t=n.baseTile.originalAnchor.y+n.majorNeighborDelta.y,a=0,l=0,i=e,r=t;do{do n.tilesByIndex[a]=n.tilesByIndex[a]||[],n.tilesByIndex[a][l]||o.call(n,a,l,i,r),a++,i+=n.majorNeighborDelta.x,r+=n.majorNeighborDelta.y;while(i>=d&&u>=i&&r>=g&&h>=r);a=0,l++,i=e+l*n.minorNeighborDelta.x,r=t+l*n.minorNeighborDelta.y}while(i>=d&&u>=i&&r>=g&&h>=r)}var n,i,r,a,l,s,c,d,u,g,h;n=this,i=n.expandedDisplacement.x>0==n.majorNeighborDelta.x>0&&0!==n.majorNeighborDelta.x,r=n.expandedDisplacement.y>0==n.majorNeighborDelta.y>0&&0!==n.majorNeighborDelta.y,a=i?-Math.abs(n.expandedDisplacement.x):Math.abs(n.expandedDisplacement.x),l=r?-Math.abs(n.expandedDisplacement.y):Math.abs(n.expandedDisplacement.y),s=window.innerWidth/2+a+window.hg.Grid.config.tileShortLengthWithGap,c=window.innerHeight/2+l+window.hg.Grid.config.tileShortLengthWithGap,d=n.baseTile.originalAnchor.x-s,u=n.baseTile.originalAnchor.x+s,g=n.baseTile.originalAnchor.y-c,h=n.baseTile.originalAnchor.y+c,e(),t()}function r(e,t,n){var i=this;i.tilesByIndex[t][n]=e,window.hg.Tile.initializeTileExpandedState(e,i,t,n),e.sectorAnchorOffset.x=e.originalAnchor.x-i.originalAnchor.x,e.sectorAnchorOffset.y=e.originalAnchor.y-i.originalAnchor.y}function o(e,t,n,i){var o=this,a=new window.hg.Tile(o.grid.svg,o.grid,n,i,window.hg.Grid.config.tileOuterRadius,o.grid.isVertical,window.hg.Grid.config.tileHue,window.hg.Grid.config.tileSaturation,window.hg.Grid.config.tileLightness,null,Number.NaN,Number.NaN,Number.NaN,!0,!1,!1,!1,window.hg.Grid.config.tileMass);return r.call(o,a,e,t),o.newTiles[o.newTiles.length]=a,a}function a(){function e(e,t,n){var i,r,o,a;for(i=e.tilesByIndex[t][n],r=0;6>r;r+=1){switch(r){case e.index:o=t+1,a=n;break;case(e.index+1)%6:o=t,a=n+1;break;case(e.index+2)%6:o=t-1,a=n+1;break;case(e.index+3)%6:o=t-1,a=n;break;case(e.index+4)%6:o=t,a=n-1;break;case(e.index+5)%6:o=t+1,a=n-1;break;default:throw new Error("Invalid neighborRelationIndex: "+r)}e.tilesByIndex[o]&&e.tilesByIndex[o][a]&&window.hg.Tile.setTileNeighborState(i,r,e.tilesByIndex[o][a])}}var t,n,i;for(t=this,n=0;t.tilesByIndex[n];n+=1)for(i in t.tilesByIndex[n])e(t,n,i)}function l(){var e,t,n,i;e=this,t=0;for(n in e.tilesByIndex)for(i in e.tilesByIndex[n])e.tiles[t++]=e.tilesByIndex[n][i]}function s(e){var t,n,i,r,o,a,l,s,c;for(t=this,a=(t.index+2)%6,l=(t.index+3)%6,s=e[(t.index+1)%6],n=t.tilesByIndex[0],i=s.tilesByIndex,r=t.expandedDisplacementTileCount,c=0,n[r]&&window.hg.Tile.setTileNeighborState(n[r],a,s.tilesByIndex[c][0]),r+=1,o=n.length-1;o>r;r+=1)window.hg.Tile.setTileNeighborState(n[r],l,s.tilesByIndex[c][0]),c+=1,window.hg.Tile.setTileNeighborState(n[r],a,s.tilesByIndex[c][0]);for(n[r]&&(window.hg.Tile.setTileNeighborState(n[r],l,s.tilesByIndex[c][0]),c+=1,s.tilesByIndex[c]&&s.tilesByIndex[c][0]&&window.hg.Tile.setTileNeighborState(n[r],a,s.tilesByIndex[c][0])),r=0,o=t.expandedDisplacementTileCount+1;o>r;r+=1)n[r].expandedState.isBorderTile=!0;for(r=n.length-1-t.expandedDisplacementTileCount,o=i.length;o>r;r+=1)i[r][0]&&(i[r][0].expandedState.isBorderTile=!0);for(r=0,o=t.tilesByIndex.length;o>r;r+=1)t.tilesByIndex[r][t.tilesByIndex[r].length-1].expandedState.isBorderTile=!0}function c(e){var t,n,i;if(t=this,e)for(n=0,i=t.tiles.length;i>n;n+=1)t.tiles[n].expandedState=null;for(n=0,i=t.newTiles.length;i>n;n+=1)t.newTiles[n].neighborStates=null,t.newTiles[n].destroy()}function d(e){var t,n,i,r,o;for(t=this,e?(r=t.expandedDisplacement.x,o=t.expandedDisplacement.y):(r=-t.expandedDisplacement.x,o=-t.expandedDisplacement.y),t.originalAnchor.x+=r,t.originalAnchor.y+=o,n=0,i=t.tiles.length;i>n;n+=1)t.tiles[n].originalAnchor.x+=r,t.tiles[n].originalAnchor.y+=o}function u(e,t){var n,i,r;for(n=this,n.currentAnchor.x=n.originalAnchor.x+e,n.currentAnchor.y=n.originalAnchor.y+t,i=0,r=n.tiles.length;r>i;i+=1)n.tiles[i].currentAnchor.x+=e,n.tiles[i].currentAnchor.y+=t}function g(n,i,r,o){var a=this;a.grid=n,a.baseTile=i,a.index=r,a.expandedDisplacementTileCount=o,a.originalAnchor={x:Number.NaN,y:Number.NaN},a.currentAnchor={x:Number.NaN,y:Number.NaN},a.majorNeighborDelta={x:Number.NaN,y:Number.NaN},a.minorNeighborDelta={x:Number.NaN,y:Number.NaN},a.expandedDisplacement={x:Number.NaN,y:Number.NaN},a.tiles=null,a.tilesByIndex=null,a.newTiles=null,a.initializeExpandedStateExternalTileNeighbors=s,a.destroy=c,a.setOriginalPositionForExpansion=d,a.updateCurrentPosition=u,e.call(a),t.call(a)}var h={};h.computeDependentValues=function(){},h.computeDependentValues(),g.config=h,window.hg=window.hg||{},window.hg.Sector=g,console.log("Sector module loaded")}(),function(){function e(){var e,t;e=this,t=isNaN(e.originalIndex)?parseInt(1e6*Math.random()+1e3):e.originalIndex,e.currentVertexDeltas=b(e.outerRadius,e.isVertical),e.vertices=[],n.call(e,e.currentAnchor.x,e.currentAnchor.y),e.element=document.createElementNS(window.hg.util.svgNamespace,"polygon"),e.svg.appendChild(e.element),e.element.id="hg-"+t,e.element.setAttribute("data-hg-tile","data-hg-tile"),e.element.style.cursor="pointer",u.call(e)
}function t(e){var t;t=this,t.particle={},t.particle.px=t.currentAnchor.x,t.particle.py=t.currentAnchor.y,t.particle.vx=0,t.particle.vy=0,t.particle.fx=0,t.particle.fy=0,t.particle.m=e,t.particle.forceAccumulatorX=0,t.particle.forceAccumulatorY=0}function n(e,t){var n,i,r;for(n=this,i=0,r=0;6>i;i+=1)n.vertices[r]=e+n.currentVertexDeltas[r++],n.vertices[r]=t+n.currentVertexDeltas[r++]}function i(){var e=this;e.element.setAttribute("data-hg-post-tilePost","data-hg-post-tilePost"),e.tilePost=new window.hg.TilePost(e)}function r(){var e=this;e.element.removeAttribute("data-hg-post-tilePost"),e.tilePost.destroy(),e.tilePost=null}function o(){var e,t,n,i,r;for(n=Math.PI/3,i=-n,r=Math.PI/6-2*n,y.horizontalSines=[],y.horizontalCosines=[],e=0,t=i;6>e;e+=1,t+=n)y.horizontalSines[e]=Math.sin(t),y.horizontalCosines[e]=Math.cos(t);for(y.verticalSines=[],y.verticalCosines=[],e=0,t=r;6>e;e+=1,t+=n)y.verticalSines[e]=Math.sin(t),y.verticalCosines[e]=Math.cos(t)}function a(e){var t,n;t=this,n=t.holdsContent,t.postData=e,t.holdsContent=!!e,n?(r.call(t),i.call(t)):i.call(t)}function l(e){var t,n,i;for(t=this,n=0;6>n;n+=1)i=e[n],w(t,n,i)}function s(e,t,n){var i=this;i.isHighlighted&&(e+=window.hg.HighlightHoverJob.config.deltaHue,t+=window.hg.HighlightHoverJob.config.deltaSaturation,n+=window.hg.HighlightHoverJob.config.deltaLightness),i.originalColor.h=e,i.originalColor.s=t,i.originalColor.l=n,i.currentColor.h=e,i.currentColor.s=t,i.currentColor.l=n}function c(e){var t,n,i,r;t=this,e?t.isHighlighted?(n=t.originalColor.h,i=t.originalColor.s,r=t.originalColor.l):(n=t.originalColor.h+window.hg.HighlightHoverJob.config.deltaHue*window.hg.HighlightHoverJob.config.opacity,i=t.originalColor.s+window.hg.HighlightHoverJob.config.deltaSaturation*window.hg.HighlightHoverJob.config.opacity,r=t.originalColor.l+window.hg.HighlightHoverJob.config.deltaLightness*window.hg.HighlightHoverJob.config.opacity):t.isHighlighted?(n=t.originalColor.h-window.hg.HighlightHoverJob.config.deltaHue*window.hg.HighlightHoverJob.config.opacity,i=t.originalColor.s-window.hg.HighlightHoverJob.config.deltaSaturation*window.hg.HighlightHoverJob.config.opacity,r=t.originalColor.l-window.hg.HighlightHoverJob.config.deltaLightness*window.hg.HighlightHoverJob.config.opacity):(n=t.originalColor.h,i=t.originalColor.s,r=t.originalColor.l),t.originalColor.h=n,t.originalColor.s=i,t.originalColor.l=r,t.currentColor.h=n,t.currentColor.s=i,t.currentColor.l=r,t.isHighlighted=e}function d(e,t){var i,r,o,a,l,s,c,d,u,g,h,p,f,m,b;if(i=this,!i.particle.isFixed){for(a=i.getNeighborStates(),l=i.getIsBorderTile(),i.particle.forceAccumulatorX+=-y.dragCoeff*i.particle.vx,i.particle.forceAccumulatorY+=-y.dragCoeff*i.particle.vy,r=0,o=a.length;o>r;r+=1)s=a[r],s&&(s.springForceX?(i.particle.forceAccumulatorX+=s.springForceX,i.particle.forceAccumulatorY+=s.springForceY,s.springForceX=0,s.springForceY=0):(c=s.tile.particle.px-i.particle.px,d=s.tile.particle.py-i.particle.py,u=s.tile.particle.vx-i.particle.vx,g=s.tile.particle.vy-i.particle.vy,h=c*u+d*g,p=Math.sqrt(c*c+d*d),f=(y.neighborSpringCoeff*(p-s.restLength)+y.neighborDampingCoeff*h/p)/p,m=c*f,b=d*f,i.particle.forceAccumulatorX+=m,i.particle.forceAccumulatorY+=b,s.neighborsRelationshipObj.springForceX=-m,s.neighborsRelationshipObj.springForceY=-b));c=i.currentAnchor.x-i.particle.px,d=i.currentAnchor.y-i.particle.py,p=Math.sqrt(c*c+d*d),p>0&&(u=-i.particle.vx,g=-i.particle.vy,h=c*u+d*g,f=l?(y.borderAnchorSpringCoeff*p+y.borderAnchorDampingCoeff*h/p)/p:(y.innerAnchorSpringCoeff*p+y.innerAnchorDampingCoeff*h/p)/p,m=c*f,b=d*f,i.particle.forceAccumulatorX+=m,i.particle.forceAccumulatorY+=b),i.particle.fx=i.particle.forceAccumulatorX/i.particle.m*t,i.particle.fy=i.particle.forceAccumulatorY/i.particle.m*t,i.particle.px+=i.particle.vx*t,i.particle.py+=i.particle.vy*t,i.particle.vx+=i.particle.fx,i.particle.vy+=i.particle.fy;{var w=i.particle;w.px,w.py,w.vx,w.vy,w.fx,w.fy,w.forceAccumulatorX,w.forceAccumulatorY}0===i.originalIndex,isNaN(i.particle.px)&&console.log("tile.particle.px="+i.particle.px),isNaN(i.particle.py)&&console.log("tile.particle.py="+i.particle.py),isNaN(i.particle.vx)&&console.log("tile.particle.vx="+i.particle.vx),isNaN(i.particle.vy)&&console.log("tile.particle.vy="+i.particle.vy),isNaN(i.particle.fx)&&console.log("tile.particle.fx="+i.particle.fx),isNaN(i.particle.fy)&&console.log("tile.particle.fy="+i.particle.fy),i.particle.fx=i.particle.fx<y.forceSuppressionLowerThreshold&&i.particle.fx>y.forceSuppressionThresholdNegative?0:i.particle.fx,i.particle.fy=i.particle.fy<y.forceSuppressionLowerThreshold&&i.particle.fy>y.forceSuppressionThresholdNegative?0:i.particle.fy,i.particle.vx=i.particle.vx<y.velocitySuppressionLowerThreshold&&i.particle.vx>y.velocitySuppressionThresholdNegative?0:i.particle.vx,i.particle.vy=i.particle.vy<y.velocitySuppressionLowerThreshold&&i.particle.vy>y.velocitySuppressionThresholdNegative?0:i.particle.vy,i.particle.forceAccumulatorX=0,i.particle.forceAccumulatorY=0,n.call(i,i.particle.px,i.particle.py)}}function u(){var e,t,n,i;for(e=this,t=0,n="";12>t;)n+=e.vertices[t++]+","+e.vertices[t++]+" ";e.element.setAttribute("points",n),e.holdsContent?e.tilePost.draw():(i="hsl("+e.currentColor.h+","+e.currentColor.s+"%,"+e.currentColor.l+"%)",e.element.setAttribute("fill",i))}function g(e,t){var n;n=this,n.particle.forceAccumulatorX+=e,n.particle.forceAccumulatorY+=t}function h(e,t){var n;n=this,n.particle.isFixed=!0,n.particle.px=e,n.particle.py=t}function p(){var e=this;return e.grid.isPostOpen?e.expandedState.neighborStates:e.neighborStates}function f(){var e=this;return e.grid.isPostOpen?e.expandedState.isBorderTile:e.isBorderTile}function m(e){var t=this;t.grid.isPostOpen?t.expandedState.isBorderTile=e:t.isBorderTile=e}function b(e,t){var n,i,r,o,a;for(t?(r=y.verticalSines,o=y.verticalCosines):(r=y.horizontalSines,o=y.horizontalCosines),n=0,i=0,a=[];6>n;n+=1)a[i++]=e*o[n],a[i++]=e*r[n];return a}function w(e,t,n){function i(e,t,n){e[t]=e[t]||{tile:n,restLength:window.hg.Grid.config.tileShortLengthWithGap,neighborsRelationshipObj:null,springForceX:0,springForceY:0}}var r,o,a;r=e.getNeighborStates(),n?(i(r,t,n),o=n.getNeighborStates(),a=(t+3)%6,i(o,a,e),r[t].neighborsRelationshipObj=o[a],o[a].neighborsRelationshipObj=r[t]):r[t]=null}function v(e,t,n,i){e.expandedState={sector:t,sectorMajorIndex:n,sectorMinorIndex:i,neighborStates:[],isBorderTile:!1}}function C(){var e=this;e.svg.removeChild(e.element)}function x(n,r,o,b,w,v,x,y,T,N,A,S,D,R,P,L,I,E){var O=this;O.svg=n,O.grid=r,O.element=null,O.currentAnchor={x:o,y:b},O.originalAnchor={x:o,y:b},O.sectorAnchorOffset={x:Number.NaN,y:Number.NaN},O.outerRadius=w,O.isVertical=v,O.originalColor={h:x,s:y,l:T},O.currentColor={h:x,s:y,l:T},O.postData=N,O.holdsContent=!!N,O.tilePost=null,O.originalIndex=A,O.rowIndex=S,O.columnIndex=D,O.isMarginTile=R,O.isBorderTile=P,O.isCornerTile=L,O.isInLargerRow=I,O.expandedState=null,O.isHighlighted=!1,O.imageScreenOpacity=Number.NaN,O.neighborStates=[],O.vertices=null,O.currentVertexDeltas=null,O.originalVertexDeltas=null,O.expandedVertexDeltas=null,O.particle=null,O.setContent=a,O.setNeighborTiles=l,O.setColor=s,O.setIsHighlighted=c,O.update=d,O.draw=u,O.applyExternalForce=g,O.fixPosition=h,O.getNeighborStates=p,O.getIsBorderTile=f,O.setIsBorderTile=m,O.destroy=C,e.call(O),t.call(O,E),O.holdsContent&&i.call(O)}var y;y={},y.dragCoeff=.01,y.neighborSpringCoeff=1e-5,y.neighborDampingCoeff=.001,y.innerAnchorSpringCoeff=4e-5,y.innerAnchorDampingCoeff=.001,y.borderAnchorSpringCoeff=4e-5,y.borderAnchorDampingCoeff=.001,y.forceSuppressionLowerThreshold=5e-4,y.velocitySuppressionLowerThreshold=5e-4,y.computeDependentValues=function(){y.forceSuppressionThresholdNegative=-y.forceSuppressionLowerThreshold,y.velocitySuppressionThresholdNegative=-y.velocitySuppressionLowerThreshold},y.computeDependentValues(),x.computeVertexDeltas=b,x.setTileNeighborState=w,x.initializeTileExpandedState=v,x.config=y,window.hg=window.hg||{},window.hg.Tile=x,o(),console.log("Tile module loaded")}(),function(){function e(){var e=this,n="hg-pattern-"+e.tile.postData.id,i="hsl("+window.hg.Grid.config.backgroundHue+","+window.hg.Grid.config.backgroundSaturation+"%,"+window.hg.Grid.config.backgroundLightness+"%)",o=2*window.hg.Grid.config.tileOuterRadius,a=-r.fontSize*(1.5+.65*(e.tile.postData.titleShort.split("\n").length-1)),l=document.createElementNS(window.hg.util.svgNamespace,"pattern"),s=document.createElementNS(window.hg.util.svgNamespace,"image"),c=document.createElementNS(window.hg.util.svgNamespace,"rect"),d=document.createElement("h2");e.tile.grid.svgDefs.appendChild(l),l.appendChild(s),l.appendChild(c),e.tile.grid.parent.appendChild(d),e.elements=[],e.elements.backgroundPattern=l,e.elements.backgroundImage=s,e.elements.backgroundImageScreen=c,e.elements.title=d,l.setAttribute("id",n),l.setAttribute("patternContentUnits","objectBoundingBox"),l.setAttribute("width","1"),l.setAttribute("height","1"),s.setAttributeNS(window.hg.util.xlinkNamespace,"xlink:href",e.tile.postData.thumbnailSrc),s.setAttribute("preserveAspectRatio","xMidYMid slice"),s.setAttribute("width","1"),s.setAttribute("height","1"),c.setAttribute("width","1"),c.setAttribute("height","1"),c.setAttribute("fill",i),e.tile.element.setAttribute("fill","url(#"+n+")"),d.innerHTML=e.tile.postData.titleShort,d.setAttribute("data-hg-tile-title","data-hg-tile-title"),d.style.position="absolute",d.style.left=-o/2+"px",d.style.top=a+"px",d.style.width=o+"px",d.style.height=o+"px",d.style.fontSize=r.fontSize+"px",d.style.fontFamily='"Open Sans", sans-serif',d.style.textAlign="center",d.style.whiteSpace="pre-wrap",d.style.color="#F4F4F4",d.style.pointerEvents="none",d.style.zIndex="2000",e.tile.imageScreenOpacity=r.inactiveScreenOpacity,t.call(e)}function t(){var e,t=this;e=t.tile.isHighlighted?window.hg.TilePost.config.activeScreenOpacity:t.tile.imageScreenOpacity,window.hg.util.applyTransform(t.elements.title,"translate("+t.tile.particle.px+"px,"+t.tile.particle.py+"px)"),t.elements.backgroundImageScreen.setAttribute("opacity",e)}function n(){var e=this;e.svg.removeChild(e.elements.container),e.svgDefs.removeChild(e.elements.backgroundPattern)}function i(i){var r=this;r.tile=i,r.elements=null,r.draw=t,r.destroy=n,e.call(r)}var r;r={},r.activeScreenOpacity=0,r.inactiveScreenOpacity=.8,r.fontSize=18,r.computeDependentValues=function(){},r.computeDependentValues(),i.config=r,window.hg=window.hg||{},window.hg.TilePost=i,console.log("TilePost module loaded")}(),function(){function e(){var e=this;e.startTime=Date.now(),e.isComplete=!1}function t(){var e,t,n;for(e=this,t=0,n=e.grid.allTiles.length;n>t;t+=1)e.grid.allTiles[t].currentColor.h=e.grid.allTiles[t].originalColor.h,e.grid.allTiles[t].currentColor.s=e.grid.allTiles[t].originalColor.s,e.grid.allTiles[t].currentColor.l=e.grid.allTiles[t].originalColor.l,e.grid.allTiles[t].imageScreenOpacity=window.hg.TilePost.config.inactiveScreenOpacity}function n(){}function i(){var e=this;e.isComplete=!0}function r(){}function o(o){var a=this;a.grid=o,a.startTime=0,a.isComplete=!0,a.start=e,a.update=t,a.draw=n,a.cancel=i,a.init=r,a.init(),console.log("ColorResetJob created")}var a={};a.computeDependentValues=function(){},a.computeDependentValues(),o.config=a,window.hg=window.hg||{},window.hg.ColorResetJob=o,console.log("ColorResetJob module loaded")}(),function(){function e(){var e=this;e.startTime=Date.now(),e.isComplete=!1}function t(){var e;e=this}function n(){}function i(){var e=this;e.isComplete=!0}function r(){a.computeDependentValues()}function o(o){var a=this;a.grid=o,a.startTime=0,a.isComplete=!0,a.start=e,a.update=t,a.draw=n,a.cancel=i,a.init=r,a.init(),console.log("ColorShiftJob created")}var a={};a.computeDependentValues=function(){},a.computeDependentValues(),o.config=a,window.hg=window.hg||{},window.hg.ColorShiftJob=o,console.log("ColorShiftJob module loaded")}(),function(){function e(){var e,t,n,i,r,o,a,l;for(e=this,l=c.wavelength/2,e.waveProgressOffsetsNonContentTiles=[],e.waveProgressOffsetsContentTiles=[],t=0,n=e.grid.allNonContentTiles.length;n>t;t+=1)i=e.grid.allNonContentTiles[t],o=i.originalAnchor.x-c.originX,a=i.originalAnchor.y-c.originY,r=Math.sqrt(o*o+a*a)+c.wavelength,e.waveProgressOffsetsNonContentTiles[t]=-(r%c.wavelength-l)/l;for(t=0,n=e.grid.contentTiles.length;n>t;t+=1)i=e.grid.contentTiles[t],o=i.originalAnchor.x-c.originX,a=i.originalAnchor.y-c.originY,r=Math.sqrt(o*o+a*a)+c.wavelength,e.waveProgressOffsetsContentTiles[t]=-(r%c.wavelength-l)/l}function t(e,t,n){var i=Math.sin((((e+1+n)%2+2)%2-1)*Math.PI);t.currentColor.h+=c.deltaHue*i*c.opacity,t.currentColor.s+=c.deltaSaturation*i*c.opacity,t.currentColor.l+=c.deltaLightness*i*c.opacity}function n(e,t,n){var i=.5*Math.sin((((e+1+n)%2+2)%2-1)*Math.PI)+.5;t.imageScreenOpacity+=-i*c.opacity*c.deltaOpacityImageBackgroundScreen}function i(){var e=this;e.startTime=Date.now(),e.isComplete=!1}function r(e){var i,r,o,a;for(i=this,r=(e+c.halfPeriod)/c.period%2-1,o=0,a=i.grid.allNonContentTiles.length;a>o;o+=1)t(r,i.grid.allNonContentTiles[o],i.waveProgressOffsetsNonContentTiles[o]);for(o=0,a=i.grid.contentTiles.length;a>o;o+=1)n(r,i.grid.contentTiles[o],i.waveProgressOffsetsContentTiles[o])}function o(){}function a(){var e=this;e.isComplete=!0}function l(){var t=this;c.computeDependentValues(),e.call(t)}function s(e){var t=this;t.grid=e,t.waveProgressOffsetsNonContentTiles=null,t.waveProgressOffsetsContentTiles=null,t.startTime=0,t.isComplete=!0,t.start=i,t.update=r,t.draw=o,t.cancel=a,t.init=l,t.init(),console.log("ColorWaveJob created")}var c={};c.period=1e3,c.wavelength=600,c.originX=-100,c.originY=1400,c.deltaHue=0,c.deltaSaturation=0,c.deltaLightness=5,c.deltaOpacityImageBackgroundScreen=.18,c.opacity=.5,c.computeDependentValues=function(){c.halfPeriod=c.period/2},c.computeDependentValues(),s.config=c,window.hg=window.hg||{},window.hg.ColorWaveJob=s,console.log("ColorWaveJob module loaded")}(),function(){function e(){var e=this;e.startTime=Date.now(),e.isComplete=!1}function t(){var e,t,n;for(e=this,t=0,n=e.grid.allTiles.length;n>t;t+=1)e.grid.allTiles[t].currentAnchor.x=e.grid.allTiles[t].originalAnchor.x,e.grid.allTiles[t].currentAnchor.y=e.grid.allTiles[t].originalAnchor.y}function n(){}function i(){var e=this;e.isComplete=!0}function r(){}function o(o){var a=this;a.grid=o,a.startTime=0,a.isComplete=!0,a.start=e,a.update=t,a.draw=n,a.cancel=i,a.init=r,a.init(),console.log("DisplacementResetJob created")}var a={};a.computeDependentValues=function(){},a.computeDependentValues(),o.config=a,window.hg=window.hg||{},window.hg.DisplacementResetJob=o,console.log("DisplacementResetJob module loaded")}(),function(){function e(){var e,t,n,i,r,o,a,l;for(e=this,l=s.wavelength/2,e.waveProgressOffsets=[],t=0,n=e.grid.allTiles.length;n>t;t+=1)i=e.grid.allTiles[t],o=i.originalAnchor.x-s.originX,a=i.originalAnchor.y-s.originY,r=Math.sqrt(o*o+a*a)+s.wavelength,e.waveProgressOffsets[t]=-(r%s.wavelength-l)/l}function t(e,t,n){var i=Math.sin((((e+1+n)%2+2)%2-1)*Math.PI);t.currentAnchor.x+=s.tileDeltaX*i,t.currentAnchor.y+=s.tileDeltaY*i}function n(){var e=this;e.startTime=Date.now(),e.isComplete=!1}function i(e){var n,i,r,o;for(n=this,i=(e+s.halfPeriod)/s.period%2-1,r=0,o=n.grid.allTiles.length;o>r;r+=1)t(i,n.grid.allTiles[r],n.waveProgressOffsets[r])}function r(){}function o(){var e=this;e.isComplete=!0}function a(){var t=this;s.computeDependentValues(),e.call(t)}function l(e){var t=this;t.grid=e,t.waveProgressOffsets=null,t.startTime=0,t.isComplete=!0,t.start=n,t.update=i,t.draw=r,t.cancel=o,t.init=a,t.init(),console.log("DisplacementWaveJob created")}var s={};s.period=3200,s.wavelength=1800,s.originX=0,s.originY=0,s.tileDeltaX=-15,s.tileDeltaY=-s.tileDeltaX*Math.sqrt(3),s.computeDependentValues=function(){s.halfPeriod=s.period/2,s.displacementAmplitude=Math.sqrt(s.tileDeltaX*s.tileDeltaX+s.tileDeltaY*s.tileDeltaY)},s.computeDependentValues(),l.config=s,window.hg=window.hg||{},window.hg.DisplacementWaveJob=l,console.log("DisplacementWaveJob module loaded")}(),function(){function e(e){var n=this;console.log("ClosePostJob "+(e?"cancelled":"completed")),t.call(n),n.grid.lastExpansionJob===n&&(n.baseTile.expandedState=null,n.grid.sectors=[],n.grid.lastExpansionJob=null,n.grid.updateAllTilesCollection(n.grid.originalTiles),n.grid.parent.style.overflow="auto",n.grid.isTransitioning=!1,n.grid.expandedTile=null,window.hg.controller.resetPersistentJobs(n.grid)),n.isComplete=!0,n.onComplete()}function t(){var e,t,n;for(e=this,n=e.grid.lastExpansionJob===e,t=0;6>t;t+=1)e.sectors[t].destroy(n);e.sectors=[]}function n(){var e,t=this;t.startTime=Date.now(),t.isComplete=!1,t.grid.isPostOpen=!1,t.grid.isTransitioning=!0,t.grid.lastExpansionJob=t,e={x:t.grid.originalCenter.x-t.grid.panCenter.x,y:t.grid.originalCenter.y-t.grid.panCenter.y},window.hg.controller.transientJobs.spread.create(t.grid,t.baseTile).duration=s.duration+window.hg.OpenPostJob.config.spreadDurationOffset,window.hg.controller.transientJobs.pan.create(t.grid,t.baseTile,{x:t.grid.panCenter.x,y:t.grid.panCenter.y}).duration=s.duration+window.hg.OpenPostJob.config.panDurationOffset,window.hg.controller.transientJobs.dilateSectors.create(t.grid,t.baseTile,e).duration=s.duration+window.hg.OpenPostJob.config.dilateSectorsDurationOffset,window.hg.controller.transientJobs.fadePost.create(t.grid,t.baseTile).duration=s.duration+window.hg.OpenPostJob.config.fadePostDurationOffset,t.grid.annotations.setExpandedAnnotations(!1)}function i(t){var n=this;t-n.startTime>=s.duration&&e.call(n,!1)}function r(){}function o(){var t=this;e.call(t,!0)}function a(){s.computeDependentValues()}function l(e,t,l){var s=this;s.grid=e,s.baseTile=e.expandedTile,s.startTime=0,s.isComplete=!0,s.sectors=e.sectors,s.start=n,s.update=i,s.draw=r,s.cancel=o,s.onComplete=l,s.init=a,console.log("ClosePostJob created: tileIndex="+s.baseTile.originalIndex)}var s={};s.duration=500,s.computeDependentValues=function(){},s.computeDependentValues(),l.config=s,window.hg=window.hg||{},window.hg.ClosePostJob=l,console.log("ClosePostJob module loaded")}(),function(){function e(e){var t=this;console.log("DilateSectorsJob "+(e?"cancelled":"completed")),t.isComplete=!0,t.onComplete()}function t(){var e,t=this;for(e=0;6>e;e+=1)t.sectors[e].originalAnchor.x+=t.panDisplacement.x,t.sectors[e].originalAnchor.y+=t.panDisplacement.y,t.sectors[e].setOriginalPositionForExpansion(t.isExpanding)}function n(){var e=this;e.startTime=Date.now(),e.isComplete=!1,t.call(e)}function i(t){var n,i,r,o,a;for(n=this,i=(t-n.startTime)/n.duration,i=1-window.hg.util.easingFunctions.easeOutQuint(i),i=0>i?0:n.isExpanding?i:-i,r=0;6>r;r+=1)o=n.sectors[r].expandedDisplacement.x*i,a=n.sectors[r].expandedDisplacement.y*i,n.sectors[r].updateCurrentPosition(o,a);0===i&&e.call(n,!1)}function r(){}function o(){var t=this;e.call(t,!0)}function a(){s.computeDependentValues()}function l(e,t,l,c){var d=this;d.grid=e,d.baseTile=e.expandedTile,d.startTime=0,d.isComplete=!0,d.panDisplacement=c,d.sectors=e.sectors,d.parentExpansionJob=d.grid.lastExpansionJob,d.isExpanding=e.isPostOpen,d.duration=s.duration,d.start=n,d.update=i,d.draw=r,d.cancel=o,d.onComplete=l,d.init=a,console.log("DilateSectorsJob created: tileIndex="+d.baseTile.originalIndex)}var s={};s.duration=500,s.computeDependentValues=function(){},s.computeDependentValues(),l.config=s,window.hg=window.hg||{},window.hg.DilateSectorsJob=l,console.log("DilateSectorsJob module loaded")}(),function(){function e(){}function t(e){var t=this;console.log("DisplacementRadiateJob "+(e?"cancelled":"completed")),t.isComplete=!0,t.onComplete()}function n(){var e=this;e.startTime=Date.now(),e.isComplete=!1}function i(){}function r(){}function o(){var e=this;t.call(e,!0)}function a(){s.computeDependentValues()}function l(t,l,s){var c=this;c.grid=t,c.tile=l,c.startTime=0,c.isComplete=!0,c.displacements=null,c.start=n,c.update=i,c.draw=r,c.cancel=o,c.onComplete=s,c.init=a,e.call(c),console.log("DisplacementRadiateJob created: tileIndex="+c.tile.originalIndex)}var s={};s.duration=500,s.waveSpeed=3,s.waveWidth=500,s.displacementDistance=50,s.isRecurring=!1,s.avgDelay=4e3,s.delayDeviationRange=3800,s.computeDependentValues=function(){},s.computeDependentValues(),l.config=s,window.hg=window.hg||{},window.hg.DisplacementRadiateJob=l,console.log("DisplacementRadiateJob module loaded")}(),function(){function e(e){var t=this;console.log("FadePostJob "+(e?"cancelled":"completed")),t.pagePost.draw(),t.isComplete=!0,t.onComplete(),t.isFadingIn||(t.parentExpansionJob===t.grid.lastExpansionJob?(t.grid.destroyPagePost(),t.baseTile.originalVertexDeltas=null,t.baseTile.expandedVertexDeltas=null):t.pagePost.destroy())}function t(e,t,n,i){var r,o;for(r=0,o=e.length;o>r;r+=1)e[r]=t[r]+(n[r]-t[r])*i}function n(){var e,t=this;t.startTime=Date.now(),t.isComplete=!1,t.pagePostStartPosition={},t.pagePostDisplacement={},t.isFadingIn?(t.pagePostStartPosition.x=t.baseTile.particle.px,t.pagePostStartPosition.y=t.baseTile.particle.py,t.pagePostDisplacement.x=t.grid.originalCenter.x-t.pagePostStartPosition.x,t.pagePostDisplacement.y=t.grid.originalCenter.y-t.pagePostStartPosition.y,t.pagePost=t.grid.createPagePost(t.baseTile,t.pagePostStartPosition),e=window.hg.OpenPostJob.config.expandedDisplacementTileCount*window.hg.Grid.config.tileShortLengthWithGap,t.baseTile.originalVertexDeltas=t.baseTile.currentVertexDeltas.slice(0),t.baseTile.expandedVertexDeltas=window.hg.Tile.computeVertexDeltas(e,t.grid.isVertical)):(t.pagePostStartPosition.x=t.grid.originalCenter.x,t.pagePostStartPosition.y=t.grid.originalCenter.y,t.pagePostDisplacement.x=t.pagePostStartPosition.x-t.grid.currentCenter.x,t.pagePostDisplacement.y=t.pagePostStartPosition.y-t.grid.currentCenter.y)}function i(n){var i,r,o,a;i=this,r=(n-i.startTime)/i.duration,r=window.hg.util.easingFunctions.easeOutQuint(r),r=r>1?1:r,o=r/c.quick1FadeDurationRatio,o=o>1?1:o,a=r/c.quick2FadeDurationRatio,a=a>1?1:a,i.baseTile.element.style.opacity=1-o,i.baseTile.tilePost.elements.title.style.opacity=1-a,i.pagePost.opacity=r,i.pagePost.center.x=i.pagePostStartPosition.x+i.pagePostDisplacement.x*r,i.pagePost.center.y=i.pagePostStartPosition.y+i.pagePostDisplacement.y*r,t(i.baseTile.currentVertexDeltas,i.baseTile.originalVertexDeltas,i.baseTile.expandedVertexDeltas,o),1===r&&e.call(i,!1)}function r(n){var i,r,o,a;i=this,r=(n-i.startTime)/i.duration,r=window.hg.util.easingFunctions.easeOutQuint(r),r=r>1?1:r,o=r/c.quick1FadeDurationRatio,o=o>1?1:o,a=r/c.quick2FadeDurationRatio,a=a>1?1:a,i.baseTile.element.style.opacity=r,i.baseTile.tilePost.elements.title.style.opacity=r,i.pagePost.opacity=1-a,i.pagePost.center.x=i.pagePostStartPosition.x+i.pagePostDisplacement.x*r,i.pagePost.center.y=i.pagePostStartPosition.y+i.pagePostDisplacement.y*r,t(i.baseTile.currentVertexDeltas,i.baseTile.expandedVertexDeltas,i.baseTile.originalVertexDeltas,o),1===r&&e.call(i,!1)}function o(){var e=this;e.pagePost.draw()}function a(){var t=this;e.call(t,!0)}function l(){c.computeDependentValues()}function s(e,t,s){var d=this;d.grid=e,d.baseTile=e.expandedTile,d.startTime=0,d.isComplete=!0,d.pagePost=e.pagePost,d.parentExpansionJob=d.grid.lastExpansionJob,d.isFadingIn=e.isPostOpen,d.pagePostStartPosition=null,d.pagePostDisplacement=null,d.duration=c.duration,d.start=n,d.update=d.isFadingIn?i:r,d.draw=o,d.cancel=a,d.onComplete=s,d.init=l,console.log("FadePostJob created: tileIndex="+d.baseTile.originalIndex+", isFadingIn="+d.isFadingIn)}var c={};c.duration=500,c.quick1FadeDurationRatio=.7,c.quick2FadeDurationRatio=.3,c.computeDependentValues=function(){},c.computeDependentValues(),s.config=c,window.hg=window.hg||{},window.hg.FadePostJob=s,console.log("FadePostJob module loaded")}(),function(){function e(){var e=this;e.isComplete=!0,e.onComplete()}function t(e,t){var n=window.hg.TilePost.config.activeScreenOpacity+t*(window.hg.TilePost.config.inactiveScreenOpacity-window.hg.TilePost.config.activeScreenOpacity);e.imageScreenOpacity=n}function n(e,t){var n=c.opacity*(1-t);e.currentColor.h+=c.deltaHue*n,e.currentColor.s+=c.deltaSaturation*n,e.currentColor.l+=c.deltaLightness*n}function i(){var e=this;e.startTime=Date.now(),e.isComplete=!1}function r(t){var n,i;return n=this,n.tile.isHighlighted?void n.cancel():void(t>n.startTime+c.duration?(n.updateTile(n.tile,1),e.call(n,!1)):(i=(t-n.startTime)/c.duration,n.updateTile(n.tile,i)))}function o(){}function a(){var t=this;e.call(t,!0)}function l(){}function s(e,s,c){var d=this;d.grid=e,d.tile=s,d.startTime=0,d.isComplete=!0,d.updateTile=s.holdsContent?t:n,d.start=i,d.update=r,d.draw=o,d.cancel=a,d.onComplete=c,d.init=l}var c={};c.duration=500,c.deltaHue=0,c.deltaSaturation=0,c.deltaLightness=50,c.opacity=.5,c.isRecurring=!1,c.avgDelay=30,c.delayDeviationRange=20,c.computeDependentValues=function(){},c.computeDependentValues(),s.config=c,window.hg=window.hg||{},window.hg.HighlightHoverJob=s,console.log("HighlightHoverJob module loaded")}(),function(){function e(){var e,t,n,i,r,o;for(e=this,o=-window.hg.Grid.config.tileShortLengthWithGap,t=0,n=e.grid.allNonContentTiles.length;n>t;t+=1)i=e.grid.allNonContentTiles[t].originalAnchor.x-e.startPoint.x,r=e.grid.allNonContentTiles[t].originalAnchor.y-e.startPoint.y,e.distancesNonContentTiles[t]=Math.sqrt(i*i+r*r)+o;for(t=0,n=e.grid.contentTiles.length;n>t;t+=1)i=e.grid.contentTiles[t].originalAnchor.x-e.startPoint.x,r=e.grid.contentTiles[t].originalAnchor.y-e.startPoint.y,e.distancesContentTiles[t]=Math.sqrt(i*i+r*r)+o}function t(e){var t=this;console.log("HighlightRadiateJob "+(e?"cancelled":"completed")),t.isComplete=!0,t.onComplete()}function n(e,t,n){var i=t*d.opacity*n;e.currentColor.h+=d.deltaHue*i,e.currentColor.s+=d.deltaSaturation*i,e.currentColor.l+=d.deltaLightness*i}function i(e,t,n){e.imageScreenOpacity+=-t*d.opacity*n*(window.hg.TilePost.config.inactiveScreenOpacity-window.hg.TilePost.config.activeScreenOpacity)}function r(){var e=this;e.startTime=Date.now(),e.isComplete=!1}function o(e){var r,o,a,l,s,c,u,g,h;if(r=this,e>r.startTime+d.duration)t.call(r,!1);else{for(g=1-(e-r.startTime)/d.duration,o=d.shimmerSpeed*(e-r.startTime),a=o-d.shimmerWaveWidth,h=!1,l=0,s=r.grid.allNonContentTiles.length;s>l;l+=1)c=r.distancesNonContentTiles[l],c>a&&o>c&&(u=(c-a)/d.shimmerWaveWidth,n(r.grid.allNonContentTiles[l],u,g),h=!0);for(l=0,s=r.grid.contentTiles.length;s>l;l+=1)c=r.distancesContentTiles[l],c>a&&o>c&&(u=(c-a)/d.shimmerWaveWidth,i(r.grid.contentTiles[l],u,g),h=!0);h||t.call(r,!1)}}function a(){}function l(){var e=this;t.call(e,!0)}function s(){}function c(t,n,i){var c=this;c.grid=t,c.startPoint={x:n.originalAnchor.x,y:n.originalAnchor.y},c.distancesNonContentTiles=[],c.distancesContentTiles=[],c.startTime=0,c.isComplete=!0,c.onComplete=i||function(){},c.start=r,c.update=o,c.draw=a,c.cancel=l,c.init=s,e.call(c),console.log("HighlightRadiateJob created: tileIndex="+(n&&n.originalIndex))}var d={};d.shimmerSpeed=3,d.shimmerWaveWidth=500,d.duration=500,d.deltaHue=0,d.deltaSaturation=0,d.deltaLightness=50,d.opacity=.5,d.isRecurring=!1,d.avgDelay=4e3,d.delayDeviationRange=3800,d.computeDependentValues=function(){},d.computeDependentValues(),c.config=d,window.hg=window.hg||{},window.hg.HighlightRadiateJob=c,console.log("HighlightRadiateJob module loaded")}(),function(){function e(e){var t=this;console.log("IntraTileRadiateJob "+(e?"cancelled":"completed")),t.isComplete=!0,t.onComplete()}function t(){var e=this;e.startTime=Date.now(),e.isComplete=!1}function n(){}function i(){var e;e=this}function r(){var t=this;e.call(t,!0)}function o(){l.computeDependentValues()}function a(e,a,l){var s=this;s.grid=e,s.tile=a,s.startTime=0,s.isComplete=!0,s.start=t,s.update=n,s.draw=i,s.cancel=r,s.onComplete=l,s.init=o,console.log("IntraTileRadiateJob created: tileIndex="+s.tile.originalIndex)}var l={};l.duration=500,l.isRecurring=!1,l.avgDelay=4e3,l.delayDeviationRange=3800,l.computeDependentValues=function(){},l.computeDependentValues(),a.config=l,window.hg=window.hg||{},window.hg.IntraTileRadiateJob=a,console.log("IntraTileRadiateJob module loaded")}(),function(){function e(){var e,t,n;e=this,t=document.createElementNS(window.hg.util.svgNamespace,"filter"),e.grid.svgDefs.appendChild(t),n=document.createElementNS(window.hg.util.svgNamespace,"feGaussianBlur"),t.appendChild(n),t.setAttribute("id",y.filterId),t.setAttribute("x","-10%"),t.setAttribute("y","-10%"),t.setAttribute("width","120%"),t.setAttribute("height","120%"),n.setAttribute("in","SourceGraphic"),n.setAttribute("result","blurOut"),y.filter=t,y.feGaussianBlur=n}function t(){var e;e=this,e.startHue=360*Math.random(),e.endHue=360*Math.random()}function n(){var e;e=this,e.polyline=document.createElementNS(window.hg.util.svgNamespace,"polyline"),e.grid.svg.insertBefore(e.polyline,e.grid.svg.firstChild),e.polyline.setAttribute("fill-opacity","0"),y.isBlurOn&&e.polyline.setAttribute("filter","url(#"+y.filterId+")")}function i(){var e,t,n;e=this,t=e.ellapsedTime/e.duration,n=1-t,e.currentColor.h=n*e.startHue+t*e.endHue,e.currentColor.s=n*e.startSaturation+t*e.endSaturation,e.currentColor.l=n*e.startLightness+t*e.endLightness,e.currentOpacity=n*e.startOpacity+t*e.endOpacity}function r(){var e;e=this,console.log("LineJob completed"),e.polyline&&(e.grid.svg.removeChild(e.polyline),e.polyline=null),e.tiles=[],e.corners=[],e.direction=Number.NaN,e.currentCornerIndex=Number.NaN,e.hasReachedEdge=!0,e.isComplete=!0,e.onComplete(e)}function o(){var e;e=this,e.hasAlmostReachedEdge=e.direction===(e.corners[e.currentCornerIndex]+3)%6?!1:!e.lowerNeighbors[e.currentCornerIndex]||!e.upperNeighbors[e.currentCornerIndex]}function a(){var e,t,n,i;e=this,i=e.corners[e.currentCornerIndex],e.grid.isVertical?(t=(i+5)%6,n=i):(t=i,n=(i+1)%6),e.lowerNeighbors[e.currentCornerIndex]=e.tiles[e.currentCornerIndex].neighborStates[t],e.upperNeighbors[e.currentCornerIndex]=e.tiles[e.currentCornerIndex].neighborStates[n],e.lowerNeighborCorners[e.currentCornerIndex]=(i+2)%6,e.upperNeighborCorners[e.currentCornerIndex]=(i+4)%6}function l(){var e,t,n,i,r,l,c,d,u,g,h;if(e=this,h=e.corners[e.currentCornerIndex],0===e.currentCornerIndex)c=e.forcedInitialRelativeDirection,e.latestDirection=s(c,h);else{switch(t=(h-e.direction+6)%6){case 0:n=e.sameDirectionProb,i=y.distantSidewaysDirectionProb,r=y.distantSidewaysDirectionProb;break;case 1:n=y.closeSidewaysDirectionProb,i=y.closeSidewaysDirectionProb,r=y.oppositeDirectionProb;break;case 2:n=y.distantSidewaysDirectionProb,i=e.sameDirectionProb,r=y.distantSidewaysDirectionProb;break;case 3:n=y.oppositeDirectionProb,i=y.closeSidewaysDirectionProb,r=y.closeSidewaysDirectionProb;break;case 4:n=y.distantSidewaysDirectionProb,i=y.distantSidewaysDirectionProb,r=e.sameDirectionProb;break;case 5:n=y.closeSidewaysDirectionProb,i=y.oppositeDirectionProb,r=y.closeSidewaysDirectionProb;break;default:throw new Error("Invalid state: cornerConfig="+t)}do l=Math.random(),c=n>l?y.NEIGHBOR:n+i>l?y.LOWER_SELF:y.UPPER_SELF,d=s(c,h);while(d===(e.latestDirection+3)%6);e.latestDirection=d}switch(c){case y.NEIGHBOR:e.grid.isVertical?(u=(h+1)%6,g=e.tiles[e.currentCornerIndex].neighborStates[(h+5)%6].tile):(u=(h+1)%6,g=e.tiles[e.currentCornerIndex].neighborStates[h].tile);break;case y.LOWER_SELF:u=(h+5)%6,g=e.tiles[e.currentCornerIndex];break;case y.UPPER_SELF:u=(h+1)%6,g=e.tiles[e.currentCornerIndex];break;default:throw new Error("Invalid state: relativeDirection="+c)}e.currentCornerIndex=e.corners.length,e.corners[e.currentCornerIndex]=u,e.tiles[e.currentCornerIndex]=g,a.call(e),o.call(e)}function s(e,t){switch(e){case y.NEIGHBOR:return t;case y.LOWER_SELF:return(t+4)%6;case y.UPPER_SELF:return(t+2)%6;default:throw new Error("Invalid state: relativeDirection="+e)}}function c(){var e,t,n,i,o,a,s;for(e=this,t=e.ellapsedTime/e.lineSidePeriod*window.hg.Grid.config.tileOuterRadius,o=parseInt(e.ellapsedTime/e.lineSidePeriod)+1;o>=e.corners.length&&!e.hasAlmostReachedEdge;)l.call(e);n=t%window.hg.Grid.config.tileOuterRadius,i=(e.lineLength-n+window.hg.Grid.config.tileOuterRadius)%window.hg.Grid.config.tileOuterRadius,e.frontSegmentEndRatio=n/window.hg.Grid.config.tileOuterRadius,e.backSegmentStartRatio=1-i/window.hg.Grid.config.tileOuterRadius,e.isShort=e.lineLength<window.hg.Grid.config.tileOuterRadius,e.isStarting=t<e.lineLength,e.hasAlmostReachedEdge&&o>=e.corners.length&&(e.hasReachedEdge=!0),e.segmentsIncludedCount=parseInt((e.lineLength-n-i-y.epsilon)/window.hg.Grid.config.tileOuterRadius)+2,e.isShort?e.segmentsIncludedCount=e.isStarting||e.hasReachedEdge?1:n-e.lineLength>=0?1:2:(e.isStarting&&(e.segmentsIncludedCount=o),e.hasReachedEdge&&(s=o-e.corners.length+1,a=t-(e.corners.length-1)*window.hg.Grid.config.tileOuterRadius,a>e.lineLength&&r.call(e),e.segmentsIncludedCount-=s))
}function d(){var e,t,n;for(e=this,e.gapPoints=[],t=0,n=e.corners.length;n>t;t+=1)e.gapPoints[t]=u(e.tiles[t],e.corners[t],e.lowerNeighbors[t],e.upperNeighbors[t],e.lowerNeighborCorners[t],e.upperNeighborCorners[t])}function u(e,t,n,i,r,o){var a,l,s;return n?i?(a=3,l=e.particle.px+n.tile.particle.px+i.tile.particle.px,s=e.particle.py+n.tile.particle.py+i.tile.particle.py):(a=2,l=e.vertices[2*t]+n.tile.vertices[2*r],s=e.vertices[2*t+1]+n.tile.vertices[2*r+1]):i?(a=2,l=e.vertices[2*t]+i.tile.vertices[2*o],s=e.vertices[2*t+1]+i.tile.vertices[2*o+1]):(a=1,l=e.vertices[2*t],s=e.vertices[2*t+1]),{x:l/a,y:s/a}}function g(){var e,t,n,i;for(e=this,e.polylinePoints=[],t=e.currentCornerIndex,e.extraStartPoint&&e.isStarting?(e.polylinePoints[0]=e.extraStartPoint,n=e.segmentsIncludedCount+1,i=1):(n=e.segmentsIncludedCount,i=0),e.polylinePoints[n]=e.hasReachedEdge?{x:e.gapPoints[t].x,y:e.gapPoints[t].y}:{x:e.gapPoints[t].x*e.frontSegmentEndRatio+e.gapPoints[t-1].x*(1-e.frontSegmentEndRatio),y:e.gapPoints[t].y*e.frontSegmentEndRatio+e.gapPoints[t-1].y*(1-e.frontSegmentEndRatio)},n-=1,t-=1;n>i;n-=1,t-=1)e.polylinePoints[n]=e.gapPoints[t];e.polylinePoints[n]=e.isStarting?{x:e.gapPoints[t].x,y:e.gapPoints[t].y}:{x:e.gapPoints[t+1].x*e.backSegmentStartRatio+e.gapPoints[t].x*(1-e.backSegmentStartRatio),y:e.gapPoints[t+1].y*e.backSegmentStartRatio+e.gapPoints[t].y*(1-e.backSegmentStartRatio)}}function h(){var e,t,n,i;for(e=this,i="",t=0,n=e.polylinePoints.length;n>t;t+=1)i+=e.polylinePoints[t].x+","+e.polylinePoints[t].y+" ";e.polyline.setAttribute("points",i),e.polyline.setAttribute("stroke","hsl("+e.currentColor.h+","+e.currentColor.s+"%,"+e.currentColor.l+"%)"),e.polyline.setAttribute("stroke-opacity",e.currentOpacity),e.polyline.setAttribute("stroke-width",e.lineWidth)}function p(){var e=this;e.startTime=Date.now(),e.isComplete=!1}function f(e){var t=this;t.ellapsedTime=e-t.startTime,t.ellapsedTime>=t.duration?r.call(t):(i.call(t),c.call(t),y.feGaussianBlur.setAttribute("stdDeviation",t.blurStdDeviation),t.isComplete||(d.call(t),g.call(t)))}function m(){var e=this;h.call(e)}function b(){var e;e=this,r.call(e)}function w(){y.computeDependentValues()}function v(i,r,o,l,s,c,d){var u=this;if(u.grid=i,u.tiles=[r],u.corners=[o],u.lowerNeighbors=[],u.upperNeighbors=[],u.lowerNeighborCorners=[],u.upperNeighborCorners=[],u.direction=l,u.forcedInitialRelativeDirection=s,u.extraStartPoint=d,u.currentCornerIndex=0,u.frontSegmentEndRatio=Number.NaN,u.backSegmentStartRatio=Number.NaN,u.latestDirection=l,u.polyline=null,u.gapPoints=[],u.polylinePoints=null,u.hasReachedEdge=!1,u.startTime=0,u.ellapsedTime=0,u.isComplete=!0,u.startHue=Number.NaN,u.endHue=Number.NaN,u.currentColor={h:Number.NaN,s:y.startSaturation,l:y.startLightness},u.currentOpacity=y.startOpacity,u.duration=y.duration,u.lineWidth=y.lineWidth,u.lineLength=y.lineLength,u.lineSidePeriod=y.lineSidePeriod,u.startSaturation=y.startSaturation,u.startLightness=y.startLightness,u.startOpacity=y.startOpacity,u.endSaturation=y.endSaturation,u.endLightness=y.endLightness,u.endOpacity=y.endOpacity,u.sameDirectionProb=y.sameDirectionProb,u.blurStdDeviation=y.blurStdDeviation,u.isBlurOn=y.isBlurOn,u.onComplete=c||function(){},u.start=p,u.update=f,u.draw=m,u.cancel=b,u.init=w,y.haveDefinedLineBlur||(y.haveDefinedLineBlur=!0,e.call(u)),!x(u))throw new Error("LineJob created with invalid initial corner configuration: tileIndex="+r.originalIndex+", corner="+o+", direction="+l);a.call(u),t.call(u),n.call(u),console.log("LineJob created: tileIndex="+r.originalIndex+", corner="+o+", direction="+l)}function C(e,t){var n,i,r,o;do n=e.originalBorderTiles[parseInt(Math.random()*e.originalBorderTiles.length)];while(n.isCornerTile);return e.isVertical?n.neighborStates[4]?n.neighborStates[1]?n.neighborStates[0]?(Math.random()<.5?(i=2,o=y.LOWER_SELF):(i=4,o=y.UPPER_SELF),r=0):(Math.random()<.5?(i=1,o=y.UPPER_SELF):(i=5,o=y.LOWER_SELF),r=3):(n.isInLargerRow?Math.random()<.5?(i=0,o=y.LOWER_SELF):(i=3,o=y.UPPER_SELF):Math.random()<.5?(i=1,o=y.LOWER_SELF):(i=2,o=y.UPPER_SELF),r=n.originalAnchor.y<e.originalCenter.y?4:5):(n.isInLargerRow?Math.random()<.5?(i=0,o=y.UPPER_SELF):(i=3,o=y.LOWER_SELF):Math.random()<.5?(i=4,o=y.LOWER_SELF):(i=5,o=y.UPPER_SELF),r=n.originalAnchor.y<e.originalCenter.y?2:1):n.neighborStates[0]?n.neighborStates[3]?n.neighborStates[4]?(Math.random()<.5?(i=0,o=y.LOWER_SELF):(i=2,o=y.UPPER_SELF),r=4):(Math.random()<.5?(i=3,o=y.LOWER_SELF):(i=5,o=y.UPPER_SELF),r=1):(n.rowIndex===e.rowCount-1?Math.random()<.5?(i=1,o=y.LOWER_SELF):(i=4,o=y.UPPER_SELF):Math.random()<.5?(i=2,o=y.LOWER_SELF):(i=3,o=y.UPPER_SELF),r=n.originalAnchor.x<e.originalCenter.x?0:5):(0===n.rowIndex?Math.random()<.5?(i=1,o=y.UPPER_SELF):(i=4,o=y.LOWER_SELF):Math.random()<.5?(i=0,o=y.UPPER_SELF):(i=5,o=y.LOWER_SELF),r=n.originalAnchor.x<e.originalCenter.x?2:3),new v(e,n,i,r,o,t,null)}function x(e){var t,n,i,r,o;if(t=e.tiles[0],n=e.corners[0],i=e.direction,r=e.forcedInitialRelativeDirection,t.isCornerTile)return!1;if(t.isBorderTile)if(e.grid.isVertical)if(t.neighborStates[4])if(t.neighborStates[1])if(t.neighborStates[0])switch(o=0===i,n){case 0:return!0;case 1:return!0;case 2:return r===y.LOWER_SELF&&o;case 3:return!1;case 4:return r===y.UPPER_SELF&&o;case 5:return!0}else switch(o=3===i,n){case 0:return!1;case 1:return r===y.UPPER_SELF&&o;case 2:return!0;case 3:return!0;case 4:return!0;case 5:return r===y.LOWER_SELF&&o}else if(o=4===i||5===i,t.isInLargerRow)switch(n){case 0:return r===y.LOWER_SELF&&o;case 1:return!1;case 2:return!1;case 3:return r===y.UPPER_SELF&&o;case 4:return!0;case 5:return!0}else switch(n){case 0:return!0;case 1:return r===y.LOWER_SELF&&o;case 2:return r===y.UPPER_SELF&&o;case 3:return!0;case 4:return!0;case 5:return!0}else if(o=1===i||2===i,t.isInLargerRow)switch(n){case 0:return r===y.UPPER_SELF&&o;case 1:return!0;case 2:return!0;case 3:return r===y.LOWER_SELF&&o;case 4:return!1;case 5:return!1}else switch(n){case 0:return!0;case 1:return!0;case 2:return!0;case 3:return!0;case 4:return r===y.LOWER_SELF&&o;case 5:return r===y.UPPER_SELF&&o}else if(t.neighborStates[0])if(t.neighborStates[3])if(t.neighborStates[4])switch(o=4===i,n){case 0:return r===y.LOWER_SELF&&o;case 1:return!1;case 2:return r===y.UPPER_SELF&&o;case 3:return!0;case 4:return!0;case 5:return!0}else switch(o=1===i,n){case 0:return!0;case 1:return!0;case 2:return!0;case 3:return r===y.LOWER_SELF&&o;case 4:return!1;case 5:return r===y.UPPER_SELF&&o}else if(o=0===i||5===i,t.rowIndex===e.grid.rowCount-1)switch(n){case 0:return!0;case 1:return r===y.LOWER_SELF&&o;case 2:return!1;case 3:return!1;case 4:return r===y.UPPER_SELF&&o;case 5:return!0}else switch(n){case 0:return!0;case 1:return!0;case 2:return r===y.LOWER_SELF&&o;case 3:return r===y.UPPER_SELF&&o;case 4:return!0;case 5:return!0}else if(o=2===i||3===i,0===t.rowIndex)switch(n){case 0:return!1;case 1:return r===y.UPPER_SELF&&o;case 2:return!0;case 3:return!0;case 4:return r===y.LOWER_SELF&&o;case 5:return!1}else switch(n){case 0:return r===y.UPPER_SELF&&o;case 1:return!0;case 2:return!0;case 3:return!0;case 4:return!0;case 5:return r===y.LOWER_SELF&&o}return!0}var y={};y.duration=2e3,y.lineWidth=28,y.lineLength=6e4,y.lineSidePeriod=5,y.startSaturation=100,y.startLightness=100,y.startOpacity=.6,y.endSaturation=100,y.endLightness=60,y.endOpacity=0,y.sameDirectionProb=.8,y.blurStdDeviation=2,y.isBlurOn=!1,y.isRecurring=!0,y.avgDelay=2200,y.delayDeviationRange=2100,y.NEIGHBOR=0,y.LOWER_SELF=1,y.UPPER_SELF=2,y.oppositeDirectionProb=0,y.epsilon=1e-5,y.haveDefinedLineBlur=!1,y.filterId="random-line-filter",y.computeDependentValues=function(){y.distantSidewaysDirectionProb=(1-y.sameDirectionProb)/2,y.closeSidewaysDirectionProb=(1-y.oppositeDirectionProb)/2},y.computeDependentValues(),v.config=y,v.createRandomLineJob=C,window.hg=window.hg||{},window.hg.LineJob=v,console.log("LineJob module loaded")}(),function(){function e(){var e,t,n;e=this,t=document.createElementNS(window.hg.util.svgNamespace,"filter"),e.grid.svgDefs.appendChild(t),n=document.createElementNS(window.hg.util.svgNamespace,"feGaussianBlur"),t.appendChild(n),t.setAttribute("id",c.filterId),t.setAttribute("x","-10%"),t.setAttribute("y","-10%"),t.setAttribute("width","120%"),t.setAttribute("height","120%"),n.setAttribute("in","SourceGraphic"),n.setAttribute("result","blurOut"),e.feGaussianBlur=n}function t(){var e,t,n;for(e=this,e.lineJobs=[],t=0;6>t;t+=1){try{n=new window.hg.LineJob(e.grid,e.tile,t,t,window.hg.LineJob.config.NEIGHBOR,e.onComplete,e.extraStartPoint)}catch(i){console.debug(i.message);continue}e.lineJobs.push(n),n.duration=c.duration,n.lineWidth=c.lineWidth,n.lineLength=c.lineLength,n.lineSidePeriod=c.lineSidePeriod,n.startSaturation=c.startSaturation,n.startLightness=c.startLightness,n.startOpacity=c.startOpacity,n.endSaturation=c.endSaturation,n.endLightness=c.endLightness,n.endOpacity=c.endOpacity,n.sameDirectionProb=c.sameDirectionProb,n.filterId=c.filterId,n.blurStdDeviation=c.blurStdDeviation,n.isBlurOn=c.isBlurOn,c.isBlurOn?n.polyline.setAttribute("filter","url(#"+c.filterId+")"):n.polyline.setAttribute("filter","none")}}function n(){var e,t;for(e=this,t=0;t<e.lineJobs.length;t+=1){if(!e.lineJobs[t].isComplete)return;e.lineJobs.splice(t--,1)}console.log("LinesRadiateJob completed"),e.isComplete=!0}function i(){var e,t,n;for(e=this,e.startTime=Date.now(),e.isComplete=!1,t=0,n=e.lineJobs.length;n>t;t+=1)e.lineJobs[t].start()}function r(e,t){var i,r,o;for(i=this,i.extraStartPoint.x=i.tile.particle.px,i.extraStartPoint.y=i.tile.particle.py,r=0,o=i.lineJobs.length;o>r;r+=1)i.lineJobs[r].update(e,t),i.lineJobs[r].isComplete&&(i.lineJobs.splice(r,1),r--,o--);i.feGaussianBlur.setAttribute("stdDeviation",c.blurStdDeviation),n.call(i)}function o(){var e,t,n;for(e=this,t=0,n=e.lineJobs.length;n>t;t+=1)e.lineJobs[t].draw()}function a(){var e,t,n;for(e=this,t=0,n=e.lineJobs.length;n>t;t+=1)e.lineJobs[t].cancel();e.lineJobs=[],e.isComplete=!0}function l(){}function s(n,s,d){var u=this;u.grid=n,u.tile=s,u.extraStartPoint={x:s.particle.px,y:s.particle.py},u.startTime=0,u.isComplete=!0,u.lineJobs=null,u.onComplete=d||function(){},u.start=i,u.update=r,u.draw=o,u.cancel=a,u.init=l,c.haveDefinedLineBlur||e.call(u),t.call(u),console.log("LinesRadiateJob created: tileIndex="+s.originalIndex)}var c={};c.duration=700,c.lineWidth=24,c.lineLength=1300,c.lineSidePeriod=30,c.startSaturation=100,c.startLightness=100,c.startOpacity=.8,c.endSaturation=100,c.endLightness=70,c.endOpacity=0,c.sameDirectionProb=.85,c.blurStdDeviation=2,c.isBlurOn=!1,c.isRecurring=!1,c.avgDelay=2e3,c.delayDeviationRange=1800,c.haveDefinedLineBlur=!1,c.filterId="random-line-filter",c.computeDependentValues=function(){},c.computeDependentValues(),s.config=c,window.hg=window.hg||{},window.hg.LinesRadiateJob=s,console.log("LinesRadiateJob module loaded")}(),function(){function e(e){var t=this;console.log("OpenPostJob "+(e?"cancelled":"completed")),t.grid.isTransitioning=!1,t.grid.lastExpansionJob===t&&(t.grid.lastExpansionJob=null),t.isComplete=!0,t.onComplete()}function t(){var e,t,n,i,r,o,a;for(e=this,t=0;6>t;t+=1)e.sectors[t]=new window.hg.Sector(e.grid,e.baseTile,t,s.expandedDisplacementTileCount);for(t=0;6>t;t+=1)e.sectors[t].initializeExpandedStateExternalTileNeighbors(e.sectors);for(t=0;6>t;t+=1)e.sectors[t].tilesByIndex=null;for(window.hg.Tile.initializeTileExpandedState(e.baseTile,null,Number.NaN,Number.NaN),e.grid.sectors=e.sectors,a=[],r=0,t=0;6>t;t+=1)for(o=e.sectors[t].tiles,n=0,i=o.length;i>n;n+=1,r+=1)a[r]=o[n];a[r]=e.baseTile,e.grid.updateAllTilesCollection(a)}function n(){var e,n=this;n.startTime=Date.now(),n.isComplete=!1,n.grid.isPostOpen=!0,n.grid.isTransitioning=!0,n.grid.expandedTile=n.baseTile,n.grid.lastExpansionJob=n,n.grid.parent.style.overflow="hidden",t.call(n),n.grid.annotations.setExpandedAnnotations(!0),window.hg.controller.transientJobs.spread.create(n.grid,n.baseTile).duration=s.duration+s.spreadDurationOffset,window.hg.controller.transientJobs.pan.create(n.grid,n.baseTile).duration=s.duration+s.panDurationOffset,e={x:n.grid.panCenter.x-n.grid.originalCenter.x,y:n.grid.panCenter.y-n.grid.originalCenter.y},window.hg.controller.transientJobs.dilateSectors.create(n.grid,n.baseTile,e).duration=s.duration+s.dilateSectorsDurationOffset,window.hg.controller.transientJobs.fadePost.create(n.grid,n.baseTile).duration=s.duration+s.fadePostDurationOffset,window.hg.controller.resetPersistentJobs(n.grid)}function i(t){var n=this;t-n.startTime>=s.duration&&e.call(n,!1)}function r(){}function o(){var t=this;e.call(t,!0)}function a(){s.computeDependentValues()}function l(e,t,l){var s=this;s.grid=e,s.baseTile=t,s.startTime=0,s.isComplete=!0,s.sectors=[],s.start=n,s.update=i,s.draw=r,s.cancel=o,s.onComplete=l,s.init=a,console.log("OpenPostJob created: tileIndex="+s.baseTile.originalIndex)}var s={};s.duration=500,s.expandedDisplacementTileCount=3,s.spreadDurationOffset=-200,s.panDurationOffset=-100,s.fadePostDurationOffset=1100,s.dilateSectorsDurationOffset=0,s.computeDependentValues=function(){},s.computeDependentValues(),l.config=s,window.hg=window.hg||{},window.hg.OpenPostJob=l,console.log("OpenPostJob module loaded")}(),function(){function e(e){var t=this;console.log("PanJob "+(e?"cancelled":"completed")),t.isComplete=!0,t.onComplete()}function t(){var e,t,n;for(e=this,t=0,n=e.grid.allTiles.length;n>t;t+=1)e.grid.allTiles[t].originalAnchor.x+=e.displacement.x,e.grid.allTiles[t].originalAnchor.y+=e.displacement.y;e.grid.panCenter.x+=e.displacement.x,e.grid.panCenter.y+=e.displacement.y}function n(){var e=this;e.reverseDisplacement={x:e.endPoint.x-e.startPoint.x,y:e.endPoint.y-e.startPoint.y},e.displacement={x:-e.reverseDisplacement.x,y:-e.reverseDisplacement.y},e.startTime=Date.now(),e.isComplete=!1,t.call(e)}function i(t){var n,i,r,o,a,l;for(n=this,i=(t-n.startTime)/n.duration,i=1-window.hg.util.easingFunctions.easeOutQuint(i),i=0>i?0:i,a=n.reverseDisplacement.x*i,l=n.reverseDisplacement.y*i,r=0,o=n.grid.allTiles.length;o>r;r+=1)n.grid.allTiles[r].currentAnchor.x+=a,n.grid.allTiles[r].currentAnchor.y+=l;n.grid.currentCenter.x=n.grid.panCenter.x+a,n.grid.currentCenter.y=n.grid.panCenter.y+l,0===i&&e.call(n,!1)}function r(){}function o(){var t=this;e.call(t,!0)}function a(){}function l(e,t,l,c){var d=this;d.grid=e,d.baseTile=t,d.reverseDisplacement=null,d.displacement=null,d.startTime=0,d.isComplete=!0,d.endPoint=c||{x:t.originalAnchor.x,y:t.originalAnchor.y},d.startPoint={x:e.originalCenter.x,y:e.originalCenter.y},d.duration=s.duration,d.start=n,d.update=i,d.draw=r,d.cancel=o,d.onComplete=l,d.init=a,console.log("PanJob created: tileIndex="+d.baseTile.originalIndex)}var s={};s.duration=400,s.displacementRatio=.28,s.isRecurring=!1,s.avgDelay=300,s.delayDeviationRange=0,s.computeDependentValues=function(){},s.computeDependentValues(),l.config=s,window.hg=window.hg||{},window.hg.PanJob=l,console.log("PanJob module loaded")}(),function(){function e(){var e,t,n;for(e=this,e.displacements=[],t=0,n=e.grid.allTiles.length;n>t;t+=1)e.displacements[t]={tile:e.grid.allTiles[t],dx:s.displacementRatio*(e.grid.allTiles[t].originalAnchor.x-e.baseTile.originalAnchor.x),dy:s.displacementRatio*(e.grid.allTiles[t].originalAnchor.y-e.baseTile.originalAnchor.y)}}function t(e){var t=this;console.log("SpreadJob "+(e?"cancelled":"completed")),t.isComplete=!0,t.onComplete()}function n(){var e=this;e.startTime=Date.now(),e.isComplete=!1}function i(e){var n,i,r,o;if(n=this,e>n.startTime+n.duration)t.call(n,!1);else for(i=(e-n.startTime)/n.duration,i=2*(i>.5?1-i:i),i=window.hg.util.easingFunctions.easeOutQuint(i),r=0,o=n.displacements.length;o>r;r+=1)n.displacements[r].tile.currentAnchor.x+=n.displacements[r].dx*i,n.displacements[r].tile.currentAnchor.y+=n.displacements[r].dy*i}function r(){}function o(){var e=this;t.call(e,!0)}function a(){}function l(t,l,c){var d=this;d.grid=t,d.baseTile=l,d.startTime=0,d.isComplete=!0,d.displacements=null,d.duration=s.duration,d.start=n,d.update=i,d.draw=r,d.cancel=o,d.onComplete=c,d.init=a,e.call(d),console.log("SpreadJob created: tileIndex="+d.baseTile.originalIndex)}var s={};s.duration=300,s.displacementRatio=.2,s.isRecurring=!1,s.avgDelay=4e3,s.delayDeviationRange=3800,s.computeDependentValues=function(){},s.computeDependentValues(),l.config=s,window.hg=window.hg||{},window.hg.SpreadJob=l,console.log("SpreadJob module loaded")}(),function(){function e(e){var t=this;console.log("TileBorderJob "+(e?"cancelled":"completed")),t.isComplete=!0,t.onComplete()}function t(){var e=this;e.startTime=Date.now(),e.isComplete=!1}function n(){}function i(){var e;e=this}function r(){var t=this;e.call(t,!0)}function o(){l.computeDependentValues()}function a(e,a,l){var s=this;s.grid=e,s.tile=a,s.startTime=0,s.isComplete=!0,s.start=t,s.update=n,s.draw=i,s.cancel=r,s.onComplete=l,s.init=o,console.log("TileBorderJob created: tileIndex="+s.baseTile.originalIndex)}var l={};l.duration=500,l.isRecurring=!1,l.avgDelay=4e3,l.delayDeviationRange=3800,l.computeDependentValues=function(){},l.computeDependentValues(),a.config=l,window.hg=window.hg||{},window.hg.TileBorderJob=a,console.log("TileBorderJob module loaded")}();